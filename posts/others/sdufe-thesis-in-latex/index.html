<!DOCTYPE html><html lang="zh-cn" class="animation-prepared"> <head><title>使用 LaTeX 完成毕业论文——SDUFE thesis 开发记录</title><meta charset="utf-8"><link rel="canonical" href="https://blog.mslxl.com/posts/others/sdufe-thesis-in-latex/"><meta name="description" content="为了准备课程论文和毕业论文，我决定魔改一份 LaTex 模板 —— 但因学校规定告终"><meta name="robots" content="index, follow"><meta property="og:title" content="使用 LaTeX 完成毕业论文——SDUFE thesis 开发记录"><meta property="og:type" content="article"><meta property="og:image" content="https://blog.mslxl.com/placeholder.png"><meta property="og:url" content="https://blog.mslxl.com"><link rel="icon" href="/favicon.jpg" type="image/jpg"><link rel="alternate" type="application/rss+xml" title="Integrate Life" href="https://blog.mslxl.com/atom.xml"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.1.9"><meta name="twitter:image:src" content="https://blog.mslxl.com/placeholder.png"><meta name="twitter:image:alt" content="为了准备课程论文和毕业论文，我决定魔改一份 LaTex 模板 —— 但因学校规定告终"><meta name="twitter:creator" content="@mslxl_bak"><meta name="twitter:site" content="@mslxl_bak"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="使用 LaTeX 完成毕业论文——SDUFE thesis 开发记录"><meta name="twitter:description" content="为了准备课程论文和毕业论文，我决定魔改一份 LaTex 模板 —— 但因学校规定告终"><link rel="stylesheet" href="/_astro/_page_.CZH6Yv9J.css">
<style>.tk-meta-input{background-color:#fff}
p[data-astro-cid-gcn2mc3v]{font-size:.75rem;font-weight:700}html.animation-prepared .transition-swup-header[data-astro-cid-e5lvscu2],html.animation-prepared .transition-swup-footer[data-astro-cid-e5lvscu2]{animation:fade-in-down 1s linear 1}@media (min-width: 1024px){html.animation-prepared .transition-swup-header[data-astro-cid-e5lvscu2],html.animation-prepared .transition-swup-footer[data-astro-cid-e5lvscu2]{animation-name:fade-in-left}}html.animation-prepared .transition-swup-main[data-astro-cid-e5lvscu2]{animation:fade-in-down 1s linear 1}@keyframes fade-in-down{0%{transform:translateY(-1rem);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes fade-in-left{0%{opacity:0;transform:translate(1rem)}to{opacity:1;transform:translate(0)}}html.is-animating .transition-swup-main[data-astro-cid-e5lvscu2]{opacity:0;transform:translateY(-1rem)}html.is-leaving .transition-swup-main[data-astro-cid-e5lvscu2]{opacity:0;transform:translateY(1rem)}.transition-swup-main[data-astro-cid-e5lvscu2]{transition-duration:.5s;transition-timing-function:linear;transform:translateY(0);opacity:1}
.code-container{position:relative}.clipboard-copy{position:absolute;top:.5rem;right:.5rem;width:1.75rem;height:1.75rem;display:flex;justify-content:center;align-items:center;border-radius:.25rem}.clipboard-copy:hover{background-color:#30363d}
</style>
<link rel="stylesheet" href="/_astro/index.Czb_Dx_V.css"><script type="module" src="/_astro/page.9zgADcL1.js"></script></head> <body>   <div class="h-100vh max-w-6xl min-w-390px mx-a grid-gap-x-28" p="7.5 lg:y-0 lg:x-20" lg="grid cols-[3fr_1fr] rows-[1fr_9rem]" data-astro-cid-e5lvscu2> <header class="transition-swup-header flex flex-col gap-2.5" m="7.5 lg:x-0 lg:t-20 lg:b-4" lg="row-1-2 col-2-3 justify-between items-start" data-astro-cid-e5lvscu2> <hgroup lg="write-vertical-right items-start b-l-2px b-l-primary-solid text-left" flex="~ col gap-2.5" class="cursor-pointer text-center duration-800 ease-in-out"> <a class="not-underline-hover duration-800 ease-in-out" lg:p="x-2.5 b-12 hover:t-3.75 hover:b-8.75" hover:lg=" bg-primary color-background" href="/"> <h3 class="text-5 font-extrabold font-header">Mslxl&#39;s Blog</h3> <h1 class="text-8 font-extrabold font-header">Integrate Life</h1> </a> </hgroup> <nav class="text-center font-bold" flex="~ col gap-4"> <ul lg="flex-col items-start text-4" class="text-3.5" flex="~ row gap-2 justify-center"> <li> <a class="" href="/"> 文章 </a> </li><li> <a class="" href="/archive"> 归档 </a> </li><li> <a class="" href="/categories"> 分类 </a> </li><li> <a class="" href="/tomodachi"> 友人 </a> </li><li> <a class="" href="/about"> 关于 </a> </li> </ul> <ul flex="~ row gap-1 justify-center"> <li> <a href="https://github.com/mslxl/" target="_blank" title="github" class="not-underline-hover inline-flex items-center"> <span class="i-mdi-github w-6 h-6">github</span> </a> </li><li> <a href="/atom.xml" target="_blank" title="rss" class="not-underline-hover inline-flex items-center"> <span class="i-mdi-rss w-6 h-6">rss</span> </a> </li><li> <a href="https://mastodon.social/@mslxl" target="_blank" title="mastodon" class="not-underline-hover inline-flex items-center"> <span class="i-mdi-mastodon w-6 h-6">mastodon</span> </a> </li> </ul> </nav> </header> <main class="transition-swup-main link-fill overflow-y-scroll scrollbar-hide outline-none" lg="row-1-3 col-1-2 py-20 " data-astro-cid-e5lvscu2>   <article class="prose"> <header flex="~ col"> <h1 class="post-title"> <a class="not-prose" href="/posts/others/sdufe-thesis-in-latex/">使用 LaTeX 完成毕业论文——SDUFE thesis 开发记录</a> </h1> <div class="text-3.5"> <span>发布于</span> <time>2024-04-27</time> <a href="/categories/LaTeX">
# LaTeX </a><a href="/categories/shandongcaijingdaxue">
# 山东财经大学 </a> </div> </header>  <p>最近因为课程作业的原因，不得以提前准备毕业论文的 LaTeX 模板。作为一个仅使用过 LaTeX 而未制作过模板的人来说，这其实挑战还挺大的。不如从 WHU-Thesis<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup>（以下简称为whu） 开始魔改一份模板出来。</p>
<p>那么，WHU-Thesis 做了什么?</p>
<h2 id="创建-logger">创建 Logger</h2>
<p>首先 whu 为 <code>\msg_new</code> 等函数创建了一个别名</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.4dwm6.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 简化-msg-模块的函数</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_msg_new:nn</span><span style="--0:#E1E4E8;--1:#24292E">  { </span><span style="--0:#79B8FF;--1:#005CC5">\msg_new:nnn</span><span style="--0:#E1E4E8;--1:#24292E">      { whu-thesis } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_warning:n</span><span style="--0:#E1E4E8;--1:#24292E">   { </span><span style="--0:#79B8FF;--1:#005CC5">\msg_warning:nn</span><span style="--0:#E1E4E8;--1:#24292E">   { whu-thesis } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_warning:nn</span><span style="--0:#E1E4E8;--1:#24292E">  { </span><span style="--0:#79B8FF;--1:#005CC5">\msg_warning:nnn</span><span style="--0:#E1E4E8;--1:#24292E">  { whu-thesis } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_error:n</span><span style="--0:#E1E4E8;--1:#24292E">     { </span><span style="--0:#79B8FF;--1:#005CC5">\msg_error:nn</span><span style="--0:#E1E4E8;--1:#24292E">     { whu-thesis } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_error:nn</span><span style="--0:#E1E4E8;--1:#24292E">    { </span><span style="--0:#79B8FF;--1:#005CC5">\msg_error:nnn</span><span style="--0:#E1E4E8;--1:#24292E">    { whu-thesis } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fatal:nx</span><span style="--0:#E1E4E8;--1:#24292E">    { </span><span style="--0:#79B8FF;--1:#005CC5">\msg_fatal:nnx</span><span style="--0:#E1E4E8;--1:#24292E">    { whu-thesis } }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 简化-msg-模块的函数\cs_new:Npn \__whu_msg_new:nn  { \msg_new:nnn      { whu-thesis } }\cs_new:Npn \__whu_warning:n   { \msg_warning:nn   { whu-thesis } }\cs_new:Npn \__whu_warning:nn  { \msg_warning:nnn  { whu-thesis } }\cs_new:Npn \__whu_error:n     { \msg_error:nn     { whu-thesis } }\cs_new:Npn \__whu_error:nn    { \msg_error:nnn    { whu-thesis } }\cs_new:Npn \__whu_fatal:nx    { \msg_fatal:nnx    { whu-thesis } }"><div></div></button></div></figure></div>
<p>其中这里由于 LaTeX 顺序展开的原因，可以做到类似柯里化的机制。</p>
<p>对于 <code>\cs_new:Npn \__whu_msg_new:nn  { \msg_new:nnn      { whu-thesis } }</code> 来说，它的完整定义应该是这样</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_msg_new:nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2  { </span><span style="--0:#79B8FF;--1:#005CC5">\msg_new:nnn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu-thesis } {#1} {#2} }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new:Npn \__whu_msg_new:nn #1#2  { \msg_new:nnn { whu-thesis } {#1} {#2} }"><div></div></button></div></figure></div>
<p>这代表着定义了一个新函数 <code>\__whu_msg_new:nn</code>，它接受两个参数，分别是消息的唯一名称和实际输出的消息。当调用此消息时将创建一个新的输出函数，该函数以 <code>whu-thesis</code> 为分类名进行输出</p>
<h2 id="提供兼容方案">提供兼容方案</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_if_exist:NF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentCommand</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { xparse } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { xtemplate, l3keys2e }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_if_exist:NF \NewDocumentCommand  { \RequirePackage { xparse } }\RequirePackage { xtemplate, l3keys2e }"><div></div></button></div></figure></div>
<p>检查 <code>\NewDocumentCommand</code> 是否存在。如果它不存在，那么执行 <code>{ \RequirePackage { xparse } }</code>，即要求加载 <code>xparse</code> 包</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\__whu_msg_new:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { l3-too-old }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">Package~ "#1"~ is~ too~ old. </span><span style="--0:#F97583;--1:#BF3441">\\\\</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">Please~ update~ an~ up-to-date~ version~ of~ the~ bundles </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">"l3kernel"~ and~ "l3packages"~ using~ your~ TeX~ package </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">manager~ or~ from~ CTAN.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\clist_map_inline:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { expl3, xtemplate, l3keys2e }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\@ifpackagelater</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} { 2018/05/12 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ } { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_error:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { l3-too-old } {#1} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\sys_if_engine_xetex:F</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\sys_if_engine_luatex:F</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fatal:nx</span><span style="--0:#E1E4E8;--1:#24292E"> { unsupported-engine }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_sys_engine_str }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\__whu_msg_new:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { unsupported-engine }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">The~ whu-thesis~ class~ requires~ either~ XeTeX~ or~ LuaTeX. </span><span style="--0:#F97583;--1:#BF3441">\\\\</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">"#1"~ is~ not~ supported~ at~ present.~ You~ must~ change </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">your~ typesetting~ engine~ to~ "xelatex"~ or~ "lualatex".</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\__whu_msg_new:nn { l3-too-old }  {    Package~ &#x22;#1&#x22;~ is~ too~ old. \\\\    Please~ update~ an~ up-to-date~ version~ of~ the~ bundles \\    &#x22;l3kernel&#x22;~ and~ &#x22;l3packages&#x22;~ using~ your~ TeX~ package \\    manager~ or~ from~ CTAN.  }\clist_map_inline:nn { expl3, xtemplate, l3keys2e }  {    \@ifpackagelater {#1} { 2018/05/12 }      { } { \__whu_error:nn { l3-too-old } {#1} }  }\sys_if_engine_xetex:F  {    \sys_if_engine_luatex:F      {        \__whu_fatal:nx { unsupported-engine }          { \c_sys_engine_str }      }  }\__whu_msg_new:nn { unsupported-engine }  {    The~ whu-thesis~ class~ requires~ either~ XeTeX~ or~ LuaTeX. \\\\    &#x22;#1&#x22;~ is~ not~ supported~ at~ present.~ You~ must~ change \\    your~ typesetting~ engine~ to~ &#x22;xelatex&#x22;~ or~ &#x22;lualatex&#x22;.  }"><div></div></button></div></figure></div>
<p>上述语句中分别通过 <code>\__whu_msg_new:nn</code> 创建两条输出属于 <code>unsupported-engine</code> 和 <code>l3-to-old</code>。接下来先检查 <code>expl3</code>, <code>xtemplate</code> 和 <code>l3keys2e</code> 的包发行时期是否在 <code>2018/05/12</code> 之前，如果在此之前则调用 <code>l3-to-old</code> 进行输出。同理，如果引擎不支持则调用 <code>unsupported-engine</code> 进行输出。</p>
<h2 id="为用户提供初始化命令">为用户提供初始化命令</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 用户设置命令接口</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\whusetup</span><span style="--0:#E1E4E8;--1:#24292E"> { m }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu } {#1} }</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag meta-key</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_define:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">style </span><span style="--0:#79B8FF;--1:#005CC5">.meta:nn</span><span style="--0:#E1E4E8;--1:#24292E"> = { whu / style } {#1},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">info  </span><span style="--0:#79B8FF;--1:#005CC5">.meta:nn</span><span style="--0:#E1E4E8;--1:#24292E"> = { whu / info  } {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 用户设置命令接口\NewDocumentCommand \whusetup { m }  { \keys_set:nn { whu } {#1} }%tag meta-key\keys_define:nn { whu }  {    style .meta:nn = { whu / style } {#1},    info  .meta:nn = { whu / info  } {#1}  }"><div></div></button></div></figure></div>
<p>在下面的语句中定义了 <code>whu/style</code> 和 <code>whu/info</code> 两个元键值对。</p>
<p>这种写法基本相当于:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_define:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">style </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> = { </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu/style } { #1 } } ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">info </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> = { </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu/info } { #1 } } ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\keys_define:nn { whu }  {    style .code:n = { \keys_set:nn { whu/style } { #1 } } ,    info .code:n = { \keys_set:nn { whu/info } { #1 } } ,  }"><div></div></button></div></figure></div>
<p>感觉有点废话？但是实际上上面的代码是不能运行的。因为上面的代码缺少 <code>whu/style</code> 和 <code>whu/info</code> 的定义。但对于最初的代码来说则是可执行的，因为他的定义和赋值在同时发生</p>
<h2 id="定义全局变量">定义全局变量</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 定义全局变量</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\clist_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_to_ctexbook_clist   </span><span style="--0:#99A0A6;--1:#616972">% 储存通过文档类选项传递给 ctexbook 的选项</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\int_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_int   </span><span style="--0:#99A0A6;--1:#616972">% 论文类型：本、硕、博</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\tl_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_tl</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\tl_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_class_tl </span><span style="--0:#99A0A6;--1:#616972">% 学术学位、专业学位</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\bool_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_draft_bool</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\bool_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_twoside_bool</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 临时变量</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\box_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_box</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\box_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_box</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\clist_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\clist_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_clist</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\tl_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\tl_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_tl</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\dim_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_dim</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\dim_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_dim</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\dim_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpc_dim</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 定义全局变量\clist_new:N \g__whu_to_ctexbook_clist   % 储存通过文档类选项传递给 ctexbook 的选项\int_new:N \g__whu_thesis_type_int   % 论文类型：本、硕、博\tl_new:N \g__whu_thesis_type_tl\tl_new:N \g__whu_thesis_class_tl % 学术学位、专业学位\bool_new:N \g__whu_draft_bool\bool_new:N \g__whu_twoside_bool%tag 临时变量\box_new:N \l__whu_tmpa_box\box_new:N \l__whu_tmpb_box\clist_new:N \l__whu_tmpa_clist\clist_new:N \l__whu_tmpb_clist\tl_new:N \l__whu_tmpa_tl\tl_new:N \l__whu_tmpb_tl\dim_new:N \l__whu_tmpa_dim\dim_new:N \l__whu_tmpb_dim\dim_new:N \l__whu_tmpc_dim"><div></div></button></div></figure></div>
<p>不必多言</p>
<h2 id="">?</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\hook_gset_rule:nnnn</span><span style="--0:#E1E4E8;--1:#24292E"> { begindocument/before } { . } { &#x3C; } { xeCJK }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\hook_gset_rule:nnnn { begindocument/before } { . } { < } { xeCJK }"><div></div></button></div></figure></div>
<p>不知道在干什么</p>
<p>似乎是在文档开始前去调用 xeCJK</p>
<h2 id="创建函数变体">创建函数变体</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\prg_generate_conditional_variant:Nnn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\int_case:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Vn , xn } { T, F, TF }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_generate_variant:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\int_case:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Vn, xn }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_generate_variant:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\tl_map_inline:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { xn }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_generate_variant:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Nx }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_generate_variant:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\str_case:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { xn }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\prg_generate_conditional_variant:Nnn \int_case:nn { Vn , xn } { T, F, TF }\cs_generate_variant:Nn \int_case:nn { Vn, xn }\cs_generate_variant:Nn \tl_map_inline:nn { xn }\cs_generate_variant:Nn \dim_set:Nn { Nx }\cs_generate_variant:Nn \str_case:nn { xn }"><div></div></button></div></figure></div>
<h2 id="基本函数">基本函数</h2>
<h3 id="空白页">空白页</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 空白页</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_new_blank_page:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\null</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\thispagestyle</span><span style="--0:#E1E4E8;--1:#24292E">{empty} </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 空白页\cs_new:Npn \__whu_new_blank_page:  {    \newpage \null \thispagestyle{empty} \newpage  }"><div></div></button></div></figure></div>
<p><code>__whu_new_blank_page</code> 创建一个新页面，并将页面为空白页样式。这意味着当前页面上不会显示页眉、页脚或页码，整个页面将是空白的</p>
<h3 id="分散盒子">分散盒子</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 分散盒子</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box:nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#99A0A6;--1:#616972">% #1: 宽度</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#99A0A6;--1:#616972">% #2: 内容</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\mode_leave_vertical:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\hbox_to_wd:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\tl_map_inline:xn</span><span style="--0:#E1E4E8;--1:#24292E"> {#2} { ##1 </span><span style="--0:#79B8FF;--1:#005CC5">\hfil</span><span style="--0:#E1E4E8;--1:#24292E"> } </span><span style="--0:#79B8FF;--1:#005CC5">\unskip</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box_with_end_spaces:nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\mode_leave_vertical:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\hbox_to_wd:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">{0.19cm} </span><span style="--0:#79B8FF;--1:#005CC5">\tl_map_inline:xn</span><span style="--0:#E1E4E8;--1:#24292E"> {#2} { ##1 </span><span style="--0:#79B8FF;--1:#005CC5">\hfil</span><span style="--0:#E1E4E8;--1:#24292E"> } </span><span style="--0:#79B8FF;--1:#005CC5">\unskip</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">{0.19cm}}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 分散盒子\cs_new_protected:Npn \__whu_spread_box:nn #1#2  % #1: 宽度  % #2: 内容  {    \mode_leave_vertical:    \hbox_to_wd:nn {#1}      { \tl_map_inline:xn {#2} { ##1 \hfil } \unskip }  }\cs_new_protected:Npn \__whu_spread_box_with_end_spaces:nn #1#2  {    \mode_leave_vertical:    \hbox_to_wd:nn {#1}      { \hspace{0.19cm} \tl_map_inline:xn {#2} { ##1 \hfil } \unskip \hspace{0.19cm}}  }"><div></div></button></div></figure></div>
<p><code>\__whu_spread_box</code> 创建分散盒子：先创建一个水平盒子，再对于 <code>#2</code> 中的内容的每两个元素之间添加一个弹性填空(<code>\hfil</code>)</p>
<p><code>\__whu_spread_box_with_end_spaces</code> 同理，只是在最后重新添加了 <code>0.19cm</code> 的空白</p>
<h3 id="带圈数字">带圈数字</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\circlednumber</span><span style="--0:#E1E4E8;--1:#24292E"> { s m }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\IfBooleanTF</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_tikz_circled_number:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#2} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_circled_number:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#2} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\NewDocumentCommand \circlednumber { s m }  {    \IfBooleanTF {#1}      { \__whu_tikz_circled_number:n {#2} }      { \__whu_circled_number:n {#2} }  }"><div></div></button></div></figure></div>
<p>为用户创建 <code>circlenumber</code> 命令，可创建带圈数字。如果第一个参数为 true 则使用 tikz 创建;否则使用 Unicode</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_circled_number:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\int_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_int {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nNnTF</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_int } = { 0 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\int_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_int { "24EA } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nNnTF</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_int } &#x3C; { 21 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\int_add:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_int { "245F } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nNnTF</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_int } &#x3C; { 36 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\int_add:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_int { "3250 } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nNnTF</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_int } &#x3C; { 51 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\int_add:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_int { "32B0 } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">                    </span><span style="--0:#79B8FF;--1:#005CC5">\msg_error:nnn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ invalid-circled-number } { </span><span style="--0:#79B8FF;--1:#005CC5">\int_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_int }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\CJKfamily</span><span style="--0:#E1E4E8;--1:#24292E">+ { }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\symbol</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_int }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\msg_new:nnn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu } { invalid-circled-number }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ Invalid~ circled~ number~ #1. }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new:Npn \__whu_circled_number:n #1  {    \int_set:Nn \l_tmpa_int {#1}    \int_compare:nNnTF { \l_tmpa_int } = { 0 }      { \int_set:Nn \l_tmpa_int { &#x22;24EA } }      {        \int_compare:nNnTF { \l_tmpa_int } < { 21 }          { \int_add:Nn \l_tmpa_int { &#x22;245F } }          {            \int_compare:nNnTF { \l_tmpa_int } < { 36 }              { \int_add:Nn \l_tmpa_int { &#x22;3250 } }              {                \int_compare:nNnTF { \l_tmpa_int } < { 51 }                  { \int_add:Nn \l_tmpa_int { &#x22;32B0 } }                  {                    \msg_error:nnn { whu }                      { invalid-circled-number } { \int_use:N \l_tmpa_int }                  }              }          }      }    \group_begin:      \CJKfamily+ { }      \symbol { \l_tmpa_int }    \group_end:  }\msg_new:nnn { whu } { invalid-circled-number }  { Invalid~ circled~ number~ #1. }"><div></div></button></div></figure></div>
<p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 1511.2166748046875 1229.0333251953125" style="max-width: 1511.2166748046875px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-0"><style>#mermaid-0{font-family:arial,sans-serif;font-size:16px;fill:#333;}#mermaid-0 .error-icon{fill:#552222;}#mermaid-0 .error-text{fill:#552222;stroke:#552222;}#mermaid-0 .edge-thickness-normal{stroke-width:2px;}#mermaid-0 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-0 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-0 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-0 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-0 .marker{fill:#333333;stroke:#333333;}#mermaid-0 .marker.cross{stroke:#333333;}#mermaid-0 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-0 .label{font-family:arial,sans-serif;color:#333;}#mermaid-0 .cluster-label text{fill:#333;}#mermaid-0 .cluster-label span,#mermaid-0 p{color:#333;}#mermaid-0 .label text,#mermaid-0 span,#mermaid-0 p{fill:#333;color:#333;}#mermaid-0 .node rect,#mermaid-0 .node circle,#mermaid-0 .node ellipse,#mermaid-0 .node polygon,#mermaid-0 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-0 .flowchart-label text{text-anchor:middle;}#mermaid-0 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-0 .node .label{text-align:center;}#mermaid-0 .node.clickable{cursor:pointer;}#mermaid-0 .arrowheadPath{fill:#333333;}#mermaid-0 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-0 .flowchart-link{stroke:#333333;fill:none;}#mermaid-0 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-0 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-0 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-0 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-0 .cluster text{fill:#333;}#mermaid-0 .cluster span,#mermaid-0 p{color:#333;}#mermaid-0 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-0 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-0 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-0_flowchart-pointEnd"><path style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-0_flowchart-pointStart"><path style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-0_flowchart-circleEnd"><circle style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-0_flowchart-circleStart"><circle style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-0_flowchart-crossEnd"><path style="stroke-width: 2px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-0_flowchart-crossStart"><path style="stroke-width: 2px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-invoke LE-set" id="L-invoke-set-0" d="M750.863,34L750.863,38.167C750.863,42.333,750.863,50.667,750.863,58.117C750.863,65.567,750.863,72.133,750.863,75.417L750.863,78.7"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-set LE-if0" id="L-set-if0-0" d="M750.863,118L750.863,122.167C750.863,126.333,750.863,134.667,750.929,142.2C750.995,149.734,751.127,156.467,751.193,159.834L751.259,163.201"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-if0 LE-if21" id="L-if0-if21-0" d="M795.224,275.722L813.223,288.699C831.222,301.676,867.219,327.629,885.289,345.556C903.358,363.484,903.5,373.384,903.57,378.334L903.641,383.284"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-if21 LE-if36" id="L-if21-if36-0" d="M951.966,500.317L972.847,514.025C993.728,527.734,1035.489,555.15,1056.44,573.808C1077.391,592.467,1077.533,602.367,1077.604,607.317L1077.674,612.267"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-if36 LE-if51" id="L-if36-if51-0" d="M1125.707,729.593L1146.198,743.252C1166.688,756.912,1207.669,784.231,1228.23,802.841C1248.791,821.45,1248.933,831.35,1249.004,836.3L1249.074,841.251"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-if51 LE-error" id="L-if51-error-0" d="M1294.047,961.637L1310.892,974.786C1327.737,987.936,1361.427,1014.235,1378.272,1033.917C1395.117,1053.6,1395.117,1066.667,1395.117,1073.2L1395.117,1079.733"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-if0 LE-set24ea" id="L-if0-set24ea-0" d="M686.841,255.062L590.136,271.482C493.43,287.903,300.019,320.743,203.314,356.245C106.608,391.747,106.608,429.911,106.608,468.075C106.608,506.239,106.608,544.403,106.608,582.567C106.608,620.731,106.608,658.894,106.608,697.058C106.608,735.222,106.608,773.386,106.608,811.55C106.608,849.714,106.608,887.878,106.608,926.042C106.608,964.206,106.608,1002.369,106.608,1027.901C106.608,1053.433,106.608,1066.333,106.608,1072.783L106.608,1079.233"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-set24ea LE-finish" id="L-set24ea-finish-0" d="M106.608,1119.533L106.608,1125.283C106.608,1131.033,106.608,1142.533,169.116,1153.767C231.623,1165.001,356.639,1175.968,419.146,1181.452L481.654,1186.936"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-if21 LE-add245f" id="L-if21-add245f-0" d="M838.828,483.678L767.576,500.16C696.324,516.641,553.82,549.604,482.569,585.167C411.317,620.731,411.317,658.894,411.317,697.058C411.317,735.222,411.317,773.386,411.317,811.55C411.317,849.714,411.317,887.878,411.317,926.042C411.317,964.206,411.317,1002.369,411.317,1026.318C411.317,1050.267,411.317,1060,411.317,1064.867L411.317,1069.733"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-add245f LE-finish" id="L-add245f-finish-0" d="M411.317,1129.033L411.317,1133.2C411.317,1137.367,411.317,1145.7,427.723,1153.826C444.13,1161.952,476.943,1169.871,493.349,1173.831L509.756,1177.79"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-if36 LE-add3250" id="L-if36-add3250-0" d="M1018.941,718.741L975.681,734.209C932.422,749.677,845.902,780.614,802.643,815.164C759.383,849.714,759.383,887.878,759.383,926.042C759.383,964.206,759.383,1002.369,759.383,1026.401C759.383,1050.433,759.383,1060.333,759.383,1065.283L759.383,1070.233"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-add3250 LE-finish" id="L-add3250-finish-0" d="M759.383,1128.533L759.383,1132.783C759.383,1137.033,759.383,1145.533,742.977,1153.743C726.57,1161.952,693.757,1169.871,677.351,1173.831L660.944,1177.79"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-if51 LE-add32b0" id="L-if51-add32b0-0" d="M1204.254,961.637L1187.242,974.786C1170.23,987.936,1136.207,1014.235,1119.195,1032.334C1102.183,1050.433,1102.183,1060.333,1102.183,1065.283L1102.183,1070.233"></path><path marker-end="url(#mermaid-0_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-add32b0 LE-finish" id="L-add32b0-finish-0" d="M1102.183,1128.533L1102.183,1132.783C1102.183,1137.033,1102.183,1145.533,1033.328,1155.379C964.472,1165.224,826.761,1176.415,757.905,1182.011L689.049,1187.606"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(903.2166862487793, 353.5833282470703)" class="edgeLabel"><g transform="translate(-5.775001525878906, -9.5)" class="label"><foreignObject height="19" width="11.550003051757812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">N</span></div></foreignObject></g></g><g transform="translate(1077.2500267028809, 582.5666656494141)" class="edgeLabel"><g transform="translate(-5.775001525878906, -9.5)" class="label"><foreignObject height="19" width="11.550003051757812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">N</span></div></foreignObject></g></g><g transform="translate(1248.6500358581543, 811.5500030517578)" class="edgeLabel"><g transform="translate(-5.775001525878906, -9.5)" class="label"><foreignObject height="19" width="11.550003051757812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">N</span></div></foreignObject></g></g><g transform="translate(1395.1167068481445, 1040.5333404541016)" class="edgeLabel"><g transform="translate(-5.775001525878906, -9.5)" class="label"><foreignObject height="19" width="11.550003051757812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">N</span></div></foreignObject></g></g><g transform="translate(106.60832977294922, 697.0583343505859)" class="edgeLabel"><g transform="translate(-5.333335876464844, -9.5)" class="label"><foreignObject height="19" width="10.666671752929688"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Y</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(411.31666564941406, 811.5500030517578)" class="edgeLabel"><g transform="translate(-5.333335876464844, -9.5)" class="label"><foreignObject height="19" width="10.666671752929688"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Y</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(759.3833465576172, 926.0416717529297)" class="edgeLabel"><g transform="translate(-5.333335876464844, -9.5)" class="label"><foreignObject height="19" width="10.666671752929688"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Y</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1102.183364868164, 1040.5333404541016)" class="edgeLabel"><g transform="translate(-5.333335876464844, -9.5)" class="label"><foreignObject height="19" width="10.666671752929688"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Y</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(750.8625183105469, 17)" data-id="invoke" data-node="true" id="flowchart-invoke-0" class="node default default flowchart-label"><rect height="34" width="156.14999389648438" y="-17" x="-78.07499694824219" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-70.57499694824219, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="141.14999389648438"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">用户选择使用 Unicode</span></div></foreignObject></g></g><g transform="translate(750.8625183105469, 101)" data-id="set" data-node="true" id="flowchart-set-1" class="node default default flowchart-label"><rect height="34" width="185.38333129882812" y="-17" x="-92.69166564941406" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-85.19166564941406, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="170.38333129882812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">将 tempa 设置为第一个参数</span></div></foreignObject></g></g><g transform="translate(750.8625183105469, 243.54166412353516)" data-id="if0" data-node="true" id="flowchart-if0-2" class="node default default flowchart-label"><polygon style="" transform="translate(-75.54166412353516,75.54166412353516)" class="label-container" points="75.54166412353516,0 151.0833282470703,-75.54166412353516 75.54166412353516,-151.0833282470703 0,-75.54166412353516"></polygon><g transform="translate(-51.041664123535156, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="102.08332824707031"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">判断 tempa = 0</span></div></foreignObject></g></g><g transform="translate(106.60832977294922, 1102.0333404541016)" data-id="set24ea" data-node="true" id="flowchart-set24ea-3" class="node default default flowchart-label"><rect height="35" width="213.21665954589844" y="-17.5" x="-106.60832977294922" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-99.10832977294922, -10)" style="" class="label"><rect></rect><foreignObject height="20" width="198.21665954589844"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">将 tempa 设置为 ⓪(U+24EA)</span></div></foreignObject></g></g><g transform="translate(903.2166862487793, 468.0749969482422)" data-id="if21" data-node="true" id="flowchart-if21-4" class="node default default flowchart-label"><polygon style="" transform="translate(-79.99166870117188,79.99166870117188)" class="label-container" points="79.99166870117188,0 159.98333740234375,-79.99166870117188 79.99166870117188,-159.98333740234375 0,-79.99166870117188"></polygon><g transform="translate(-55.491668701171875, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="110.98333740234375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">判断 tempa &#x3C; 21</span></div></foreignObject></g></g><g transform="translate(411.31666564941406, 1102.0333404541016)" data-id="add245f" data-node="true" id="flowchart-add245f-5" class="node default default flowchart-label"><rect height="54" width="296.20001220703125" y="-27" x="-148.10000610351562" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-140.60000610351562, -19.5)" style="" class="label"><rect></rect><foreignObject height="39" width="281.20001220703125"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">tempa += 0x245F<br></br>将 1-20 对应到 ①(U+2460) 到⑳(U+2473)</span></div></foreignObject></g></g><g transform="translate(1077.2500267028809, 697.0583343505859)" data-id="if36" data-node="true" id="flowchart-if36-6" class="node default default flowchart-label"><polygon style="" transform="translate(-79.99166870117188,79.99166870117188)" class="label-container" points="79.99166870117188,0 159.98333740234375,-79.99166870117188 79.99166870117188,-159.98333740234375 0,-79.99166870117188"></polygon><g transform="translate(-55.491668701171875, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="110.98333740234375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">判断 tempa &#x3C; 36</span></div></foreignObject></g></g><g transform="translate(759.3833465576172, 1102.0333404541016)" data-id="add3250" data-node="true" id="flowchart-add3250-7" class="node default default flowchart-label"><rect height="53" width="299.933349609375" y="-26.5" x="-149.9666748046875" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-142.4666748046875, -19)" style="" class="label"><rect></rect><foreignObject height="38" width="284.933349609375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">tempa += 0x3250<br></br>将 21-35 对应到 ㉑(U+3251) 到㉟(U+325F)</span></div></foreignObject></g></g><g transform="translate(1248.6500358581543, 926.0416717529297)" data-id="if51" data-node="true" id="flowchart-if51-8" class="node default default flowchart-label"><polygon style="" transform="translate(-79.99166870117188,79.99166870117188)" class="label-container" points="79.99166870117188,0 159.98333740234375,-79.99166870117188 79.99166870117188,-159.98333740234375 0,-79.99166870117188"></polygon><g transform="translate(-55.491668701171875, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="110.98333740234375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">判断 tempa &#x3C; 51</span></div></foreignObject></g></g><g transform="translate(1102.183364868164, 1102.0333404541016)" data-id="add32b0" data-node="true" id="flowchart-add32b0-9" class="node default default flowchart-label"><rect height="53" width="285.66668701171875" y="-26.5" x="-142.83334350585938" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-135.33334350585938, -19)" style="" class="label"><rect></rect><foreignObject height="38" width="270.66668701171875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">tempa += 0x32b0<br></br>将36-50对应到㊱(U+32B1)到㊿(U+32BF)</span></div></foreignObject></g></g><g transform="translate(1395.1167068481445, 1102.0333404541016)" data-id="error" data-node="true" id="flowchart-error-10" class="node default default flowchart-label"><rect height="34" width="200.1999969482422" y="-17" x="-100.0999984741211" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-92.5999984741211, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="185.1999969482422"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">输出 invalid circled number</span></div></foreignObject></g></g><g transform="translate(585.3500061035156, 1196.0333404541016)" data-id="finish" data-node="true" id="flowchart-finish-11" class="node default default flowchart-label"><rect height="34" width="196.8333282470703" y="-17" x="-98.41666412353516" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-90.91666412353516, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="181.8333282470703"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">使用 CJKfamily 输出 tempa</span></div></foreignObject></g></g></g></g></g></svg></p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag tikz-绘制带圈数字</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\fp_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_xscale_fp   </span><span style="--0:#99A0A6;--1:#616972">% 水平压缩系数</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\fp_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_yscale_fp   </span><span style="--0:#99A0A6;--1:#616972">% 垂直压缩系数</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\dim_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_total_hegiht_dim   </span><span style="--0:#99A0A6;--1:#616972">% 数字的总高度</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\dim_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_radius_dim     </span><span style="--0:#99A0A6;--1:#616972">% 半径</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_tikz_circled_number:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 根据数字大小设置压缩系数</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fp_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_xscale_fp</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nNnTF</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} &#x3C; { 10 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 0.9 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nNnTF</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} &#x3C; { 100 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 0.7 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 0.5 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fp_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_yscale_fp</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nNnTF</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} &#x3C; { 10 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 0.9 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nNnTF</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} &#x3C; { 100 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 0.8 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 0.6 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 获取数字的高度</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\hbox_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_box {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_total_hegiht_dim</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\box_ht:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_box + </span><span style="--0:#79B8FF;--1:#005CC5">\box_dp:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_box  }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 设置圆的半径</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_radius_dim</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\dim_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_total_hegiht_dim / 2 + 0.34 ex } }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 绘制</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tikz</span><span style="--0:#E1E4E8;--1:#24292E"> [ baseline ]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\node</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">[ inner~sep = 0pt, outer~sep = 0pt ]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">at (0, </span><span style="--0:#79B8FF;--1:#005CC5">\dim_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_total_hegiht_dim / 2 )</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\hbox_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_box</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nNnTF</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} > {9}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\textbf</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                  </span></span><span style="--0:#E1E4E8;--1:#24292E">{#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\makebox</span><span style="--0:#E1E4E8;--1:#24292E">[0.35em][c]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#79B8FF;--1:#005CC5">\box_scale:Nnn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_box</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\fp_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_xscale_fp }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\fp_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_yscale_fp }</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#79B8FF;--1:#005CC5">\box_use_drop:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_tmpa_box</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\draw</span><span style="--0:#E1E4E8;--1:#24292E"> (0, </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_total_hegiht_dim / 2 )</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">circle ( </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tikz_circled_number_radius_dim );</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag tikz-绘制带圈数字\fp_new:N \l__whu_tikz_circled_number_xscale_fp   % 水平压缩系数\fp_new:N \l__whu_tikz_circled_number_yscale_fp   % 垂直压缩系数\dim_new:N \l__whu_tikz_circled_number_total_hegiht_dim   % 数字的总高度\dim_new:N \l__whu_tikz_circled_number_radius_dim     % 半径\cs_new:Npn \__whu_tikz_circled_number:n #1  {    % 根据数字大小设置压缩系数    \fp_set:Nn \l__whu_tikz_circled_number_xscale_fp      {        \int_compare:nNnTF {#1} < { 10 }          { 0.9 }          {            \int_compare:nNnTF {#1} < { 100 }              { 0.7 }              { 0.5 }          }      }    \fp_set:Nn \l__whu_tikz_circled_number_yscale_fp      {        \int_compare:nNnTF {#1} < { 10 }          { 0.9 }          {            \int_compare:nNnTF {#1} < { 100 }              { 0.8 }              { 0.6 }          }      }    % 获取数字的高度    \hbox_set:Nn \l_tmpa_box {#1}    \dim_set:Nn \l__whu_tikz_circled_number_total_hegiht_dim      { \box_ht:N \l_tmpa_box + \box_dp:N \l_tmpa_box  }    % 设置圆的半径    \dim_set:Nn \l__whu_tikz_circled_number_radius_dim      { \dim_eval:n { \l__whu_tikz_circled_number_total_hegiht_dim / 2 + 0.34 ex } }    % 绘制    \tikz [ baseline ]      {        \node          [ inner~sep = 0pt, outer~sep = 0pt ]          at (0, \dim_use:N \l__whu_tikz_circled_number_total_hegiht_dim / 2 )          {            \hbox_set:Nn \l_tmpa_box              {                \int_compare:nNnTF {#1} > {9}                  { \textbf {#1} }                  {#1}              }            \makebox[0.35em][c]              {                \box_scale:Nnn \l_tmpa_box                  { \fp_use:N \l__whu_tikz_circled_number_xscale_fp }                  { \fp_use:N \l__whu_tikz_circled_number_yscale_fp }                \box_use_drop:N \l_tmpa_box              }          };        \draw (0, \l__whu_tikz_circled_number_total_hegiht_dim / 2 )          circle ( \l__whu_tikz_circled_number_radius_dim );      }  }"><div></div></button></div></figure></div>
<p>tikz 画图硬汉</p>
<h3 id="获取宽度与-clist-的内容的最大宽度">获取宽度与-clist-的内容的最大宽度</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_get_text_width:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\hbox_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_box {#2}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1 { </span><span style="--0:#79B8FF;--1:#005CC5">\box_wd:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_box }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_generate_variant:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_get_text_width:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> { NV }</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_get_max_text_width:NN</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\clist_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist #2</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\bool_until_do:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\clist_if_empty_p:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\clist_pop:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_get_text_width:NV</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_dim </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\dim_gset:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1 { </span><span style="--0:#79B8FF;--1:#005CC5">\dim_max:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_dim } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new:Npn \__whu_get_text_width:Nn #1#2  {    \hbox_set:Nn \l__whu_tmpa_box {#2}    \dim_set:Nn #1 { \box_wd:N \l__whu_tmpa_box }  }\cs_generate_variant:Nn \__whu_get_text_width:Nn { NV }\cs_new:Npn \__whu_get_max_text_width:NN #1#2  {    \group_begin:      \clist_set_eq:NN \l__whu_tmpa_clist #2      \bool_until_do:nn { \clist_if_empty_p:N \l__whu_tmpa_clist }        {          \clist_pop:NN \l__whu_tmpa_clist \l__whu_tmpa_tl          \__whu_get_text_width:NV \l__whu_tmpa_dim \l__whu_tmpa_tl          \dim_gset:Nn #1 { \dim_max:nn {#1} { \l__whu_tmpa_dim } }        }    \group_end:  }"><div></div></button></div></figure></div>
<p><code>\__whu_get_text_width</code> 通过设置<code>hbox</code>的内容为 <code>#2</code> 获取其宽度并存储在 <code>#1</code> 中</p>
<p><code>\__whu_get_max_text_width:NN</code> 将列表<code>#2</code> 的内容依次弹出，然后通过 <code>\__whu_get_text_width</code>获取其大小并比较，最后将最大的宽度存储在 <code>#1</code> 中</p>
<h3 id="删除章标题中的-quad">删除章标题中的-\quad</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 删除章标题中的-\quad</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_sanitize_chapter_title:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_clear:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_set:No</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_remove_all:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl { </span><span style="--0:#79B8FF;--1:#005CC5">\quad</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 删除章标题中的-\quad\cs_new_protected:Npn \__whu_sanitize_chapter_title:n #1  {    \tl_clear:N \l__whu_tmpa_tl    \tl_set:No \l__whu_tmpa_tl {#1}    \tl_remove_all:Nn \l__whu_tmpa_tl { \quad }  }"><div></div></button></div></figure></div>
<p><code>\__whu_sanitize_chapter_title</code> 将 token list <code>#1 </code> 中的 \quad 全部移除</p>
<p>这是一个相当有技巧性的写法。通过将 <code>#1</code> 记 tl 类型并通过 <code>\tl_remove_all</code> 操作删除其中所有的 <code>\quad</code>。</p>
<p>不过要注意这样删除之后的<strong>输出在 <code>\l__whu_tmpa_tl</code> 变量中</strong></p>
<h3 id="手动生成章的标题用于摘要参考文献等">手动生成章的标题，用于摘要、参考文献等</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 手动生成章的标题，用于摘要、参考文献等</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_chapter:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_sanitize_chapter_title:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\ctexset</span><span style="--0:#E1E4E8;--1:#24292E"> { chapter / numbering = false }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E"> [ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl ] {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_chapter_header:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_generate_variant:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_chapter:n</span><span style="--0:#E1E4E8;--1:#24292E"> { V }</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_chapter_header:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\bool_if:NTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_twoside_bool</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\markboth</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} {#1} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\markboth</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E"> #1 </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E"> } { } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 手动生成章的标题，用于摘要、参考文献等\cs_new_protected:Npn \__whu_chapter:n #1  {    \__whu_sanitize_chapter_title:n {#1}    \group_begin:      \ctexset { chapter / numbering = false }      \chapter [ \l__whu_tmpa_tl ] {#1}    \group_end:    \__whu_chapter_header:n {#1}  }\cs_generate_variant:Nn \__whu_chapter:n { V }\cs_new_protected:Npn \__whu_chapter_header:n #1  {    \bool_if:NTF \g__whu_twoside_bool      { \markboth {#1} {#1} }      { \markboth { \hfill #1 \hfill } { } }  }"><div></div></button></div></figure></div>
<p>对于 <code>\__whu_chapter_header</code>，它判断是否设置了 <code>\g__whu_twoside_bool</code> 变量，如果设置了则将左右页眉都设为 <code>#1</code>; 否则则设置单个页眉，并通过两个 <code>\hfill</code> 居中显示</p>
<p>再来说 <code>\\__whu_chapter</code>，它首先在该作用域中关闭了自动编号，接着创建了 <code>#1</code> 章节，并通过删去 <code>\quad</code> 的 <code>#1</code> 作为目录页的索引。最后通过调用 <code>\__whu_chapter_header</code> 创建页眉</p>
<h2 id="处理文档类选项">处理文档类选项</h2>
<h3 id="定义选项">定义选项</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="latex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 选项定义</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_define:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / option }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">type </span><span style="--0:#79B8FF;--1:#005CC5">.choice:</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">type </span><span style="--0:#79B8FF;--1:#005CC5">.value_required:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">type </span><span style="--0:#79B8FF;--1:#005CC5">.choices:nn</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ proposal, bachelor, master, doctor }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\int_gset_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> \g__whu_thesis_type_int \l_keys_choice_int</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_gset_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> \g__whu_thesis_type_tl \l_keys_choice_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">type </span><span style="--0:#79B8FF;--1:#005CC5">.initial:n</span><span style="--0:#E1E4E8;--1:#24292E"> = bachelor,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">class </span><span style="--0:#79B8FF;--1:#005CC5">.choice:</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">class </span><span style="--0:#79B8FF;--1:#005CC5">.value_required:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">class </span><span style="--0:#79B8FF;--1:#005CC5">.choices:nn</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ academic, professional }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\tl_gset_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> \g__whu_thesis_class_tl \l_keys_choice_tl },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">class </span><span style="--0:#79B8FF;--1:#005CC5">.initial:n</span><span style="--0:#E1E4E8;--1:#24292E"> = academic,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">oneside </span><span style="--0:#79B8FF;--1:#005CC5">.value_forbidden:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">twoside </span><span style="--0:#79B8FF;--1:#005CC5">.value_forbidden:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">oneside </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\clist_gput_right:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> \g__whu_to_ctexbook_clist { oneside }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\bool_set_false:N</span><span style="--0:#E1E4E8;--1:#24292E">    \g__whu_twoside_bool</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">twoside </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\clist_gput_right:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> \g__whu_to_ctexbook_clist { twoside }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\bool_set_true:N</span><span style="--0:#E1E4E8;--1:#24292E">     \g__whu_twoside_bool</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">openany </span><span style="--0:#79B8FF;--1:#005CC5">.value_forbidden:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">openany </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\clist_gput_right:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> \g__whu_to_ctexbook_clist { openany }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">showframe </span><span style="--0:#79B8FF;--1:#005CC5">.value_forbidden:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">showframe </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\PassOptionsToPackage</span><span style="--0:#E1E4E8;--1:#24292E"> { showframe } { geometry }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">draft </span><span style="--0:#79B8FF;--1:#005CC5">.choice:</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">draft / true  </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\bool_set_true:N</span><span style="--0:#E1E4E8;--1:#24292E">     \g__whu_draft_bool</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\clist_gput_right:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> \g__whu_to_ctexbook_clist { draft }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">draft / false </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\bool_set_false:N</span><span style="--0:#E1E4E8;--1:#24292E">    \g__whu_draft_bool },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">draft </span><span style="--0:#79B8FF;--1:#005CC5">.default:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">draft </span><span style="--0:#79B8FF;--1:#005CC5">.initial:n</span><span style="--0:#E1E4E8;--1:#24292E"> = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">unknown </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> = { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_error:n</span><span style="--0:#E1E4E8;--1:#24292E"> { unknown-option } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\__whu_msg_new:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { unknown-option }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ Class~ option~ "\l_keys_key_str"~ is~ unknown. }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\ProcessKeysOptions</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / option }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 选项定义\keys_define:nn { whu / option }  {    type .choice:,    type .value_required:n = true,    type .choices:nn =      { proposal, bachelor, master, doctor }      {        \int_gset_eq:NN \g__whu_thesis_type_int \l_keys_choice_int        \tl_gset_eq:NN \g__whu_thesis_type_tl \l_keys_choice_tl      },    type .initial:n = bachelor,    class .choice:,    class .value_required:n = true,    class .choices:nn =      { academic, professional }      { \tl_gset_eq:NN \g__whu_thesis_class_tl \l_keys_choice_tl },    class .initial:n = academic,    oneside .value_forbidden:n = true,    twoside .value_forbidden:n = true,    oneside .code:n =      {        \clist_gput_right:Nn \g__whu_to_ctexbook_clist { oneside }        \bool_set_false:N    \g__whu_twoside_bool      },    twoside .code:n =      {        \clist_gput_right:Nn \g__whu_to_ctexbook_clist { twoside }        \bool_set_true:N     \g__whu_twoside_bool      },    openany .value_forbidden:n = true,    openany .code:n =      {        \clist_gput_right:Nn \g__whu_to_ctexbook_clist { openany }      },    showframe .value_forbidden:n = true,    showframe .code:n =      {        \PassOptionsToPackage { showframe } { geometry }      },    draft .choice:,    draft / true  .code:n =      {        \bool_set_true:N     \g__whu_draft_bool        \clist_gput_right:Nn \g__whu_to_ctexbook_clist { draft }      },    draft / false .code:n =      { \bool_set_false:N    \g__whu_draft_bool },    draft .default:n = true,    draft .initial:n = false,    unknown .code:n = { \__whu_error:n { unknown-option } }  }\__whu_msg_new:nn { unknown-option }  { Class~ option~ &#x22;\l_keys_key_str&#x22;~ is~ unknown. }\ProcessKeysOptions { whu / option }"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 行距</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 本科的 linespread</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\fp_const:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bachelor_line_spread_fp</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\dim_ratio:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 23 pt } { 12 bp } / 1.2 }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 硕士的 linespread</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\fp_const:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_master_line_spread_fp</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\dim_ratio:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 20 bp } { 12 bp } / 1.2 }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 博士的 linespread</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\fp_const:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_doctor_line_spread_fp</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\dim_ratio:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 20 bp } { 12 bp } / 1.2 }</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 字号和行距处理</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\int_case:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_int }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 开题报告字号小四</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{1} { </span><span style="--0:#79B8FF;--1:#005CC5">\PassOptionsToClass</span><span style="--0:#E1E4E8;--1:#24292E"> { zihao = -4 } { ctexbook } }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 本科小四，23磅</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{2} { </span><span style="--0:#79B8FF;--1:#005CC5">\PassOptionsToClass</span><span style="--0:#E1E4E8;--1:#24292E"> { zihao = -4 , linespread = </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bachelor_line_spread_fp } { ctexbook } }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 硕士小四，20磅</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{3} { </span><span style="--0:#79B8FF;--1:#005CC5">\PassOptionsToClass</span><span style="--0:#E1E4E8;--1:#24292E"> { zihao = -4 , linespread = </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bachelor_line_spread_fp } { ctexbook } }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 博士小四，20磅</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{4} { </span><span style="--0:#79B8FF;--1:#005CC5">\PassOptionsToClass</span><span style="--0:#E1E4E8;--1:#24292E"> { zihao = -4 , linespread = </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bachelor_line_spread_fp } { ctexbook } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 页面的单双面设置</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\int_case:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_int }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 开题报告：oneside</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{1} { </span><span style="--0:#79B8FF;--1:#005CC5">\PassOptionsToClass</span><span style="--0:#E1E4E8;--1:#24292E"> { oneside } { ctexbook } }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 本科：默认 oneside</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{2} { </span><span style="--0:#79B8FF;--1:#005CC5">\PassOptionsToClass</span><span style="--0:#E1E4E8;--1:#24292E"> { oneside } { ctexbook } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\PassOptionsToClass</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">UTF8,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">heading  = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_to_ctexbook_clist,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">fontset = none</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ ctexbook }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 行距% 本科的 linespread\fp_const:Nn \c__whu_bachelor_line_spread_fp  { \dim_ratio:nn { 23 pt } { 12 bp } / 1.2 }% 硕士的 linespread\fp_const:Nn \c__whu_master_line_spread_fp  { \dim_ratio:nn { 20 bp } { 12 bp } / 1.2 }% 博士的 linespread\fp_const:Nn \c__whu_doctor_line_spread_fp  { \dim_ratio:nn { 20 bp } { 12 bp } / 1.2 }%tag 字号和行距处理\int_case:nn { \g__whu_thesis_type_int }  {    % 开题报告字号小四    {1} { \PassOptionsToClass { zihao = -4 } { ctexbook } }    % 本科小四，23磅    {2} { \PassOptionsToClass { zihao = -4 , linespread = \c__whu_bachelor_line_spread_fp } { ctexbook } }    % 硕士小四，20磅    {3} { \PassOptionsToClass { zihao = -4 , linespread = \c__whu_bachelor_line_spread_fp } { ctexbook } }    % 博士小四，20磅    {4} { \PassOptionsToClass { zihao = -4 , linespread = \c__whu_bachelor_line_spread_fp } { ctexbook } }  }%tag 页面的单双面设置\int_case:nn { \g__whu_thesis_type_int }  {    % 开题报告：oneside    {1} { \PassOptionsToClass { oneside } { ctexbook } }    % 本科：默认 oneside    {2} { \PassOptionsToClass { oneside } { ctexbook } }  }\PassOptionsToClass  {    UTF8,    heading  = true,    \g__whu_to_ctexbook_clist,    fontset = none  }  { ctexbook }"><div></div></button></div></figure></div>
<p>一些中规中矩却又容易出错的常量设置</p>
<p>值得一提的是此处将所有配置都传给了 <code>ctexbook</code> 包，包括:</p>
<ul>
<li>字号 zhihao</li>
<li>行距倍数 linespread <sup><a href="#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref="" aria-describedby="footnote-label">2</a></sup></li>
<li>编码</li>
<li>字体集</li>
<li>外部配置 <code>g__whu_to_ctexbook_clist</code></li>
</ul>
<p>对于行距倍数，这里通过 <code>\dim_radion:nn</code> 进行了单位换算。以本科为例：当字号为小四(12pt)时，23磅间距是指 <code>23pt / 12pb</code> 倍</p>
<p>对于 ctexbook，它的 layout<sup><a href="#user-content-fn-3" id="user-content-fnref-3" data-footnote-ref="" aria-describedby="footnote-label">3</a></sup> 是这样的：</p>
<p><img alt="issue-geometry-origin" width="539" height="731" loading="lazy" decoding="async" src="/_astro/61171943-ded48a00-a56d-11e9-8d03-e1dfd52e742c.CCYWQLXH_ZJ7uQ5.webp" ></p>
<h3 id="给预加载的宏包传递选项">给预加载的宏包传递选项</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="latex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 给预加载的宏包传递选项</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\clist_map_inline:nn</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ no-math  } { fontspec },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ numbered } { bookmark },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ titles   } { tocloft  },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ perpage  } { footmisc }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\PassOptionsToPackage</span><span style="--0:#E1E4E8;--1:#24292E"> #1 }</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { filehook }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 给预加载的宏包传递选项\clist_map_inline:nn  {    { no-math  } { fontspec },    { numbered } { bookmark },    { titles   } { tocloft  },    { perpage  } { footmisc }  }  { \PassOptionsToPackage #1 }\RequirePackage { filehook }"><div></div></button></div></figure></div>
<h3 id="消去-cjk-警告">消去 CJK 警告</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\AtEndOfPackageFile</span><span style="--0:#E1E4E8;--1:#24292E">* { fontspec }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\msg_redirect_name:nnn</span><span style="--0:#E1E4E8;--1:#24292E"> { fontspec } { no-script } { none } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\AtEndOfPackageFile</span><span style="--0:#E1E4E8;--1:#24292E">* { xeCJK }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\msg_redirect_name:nnn</span><span style="--0:#E1E4E8;--1:#24292E"> { xeCJK } { CJKfamily-redef } { none }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\defaultCJKfontfeatures</span><span style="--0:#E1E4E8;--1:#24292E"> { Script  = CJK }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\AtEndOfPackageFile* { fontspec }  { \msg_redirect_name:nnn { fontspec } { no-script } { none } }\AtEndOfPackageFile* { xeCJK }  {    \msg_redirect_name:nnn { xeCJK } { CJKfamily-redef } { none }    \defaultCJKfontfeatures { Script  = CJK }  }"><div></div></button></div></figure></div>
<p>在包执行结束后进行消息重定向，以达到丢弃消息的目的</p>
<h3 id="加载包">加载包</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\LoadClass</span><span style="--0:#E1E4E8;--1:#24292E"> { ctexbook }</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 加载宏包 (in alphabetic order)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { amsmath }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { amssymb }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { amsthm }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { bookmark }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { booktabs }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { caption }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { enumitem }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { etoolbox }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { fancyhdr }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { fixdif }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { fontspec }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { footmisc }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { geometry }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { graphicx }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { thmtools }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { tikzpagenodes }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { tocloft }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { xeCJK }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { xeCJKfntef }</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\AtEndPreamble</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { hyperref }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\LoadClass { ctexbook }%tag 加载宏包 (in alphabetic order)\RequirePackage { amsmath }\RequirePackage { amssymb }\RequirePackage { amsthm }\RequirePackage { bookmark }\RequirePackage { booktabs }\RequirePackage { caption }\RequirePackage { enumitem }\RequirePackage { etoolbox }\RequirePackage { fancyhdr }\RequirePackage { fixdif }\RequirePackage { fontspec }\RequirePackage { footmisc }\RequirePackage { geometry }\RequirePackage { graphicx }\RequirePackage { thmtools }\RequirePackage { tikzpagenodes }\RequirePackage { tocloft }\RequirePackage { xeCJK }\RequirePackage { xeCJKfntef }\AtEndPreamble  {    \RequirePackage { hyperref }  }"><div></div></button></div></figure></div>
<h2 id="页面尺寸设置">页面尺寸设置</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 页面尺寸设置 (paper size setting)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 统一都是 A4 纸大小</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\geometry</span><span style="--0:#E1E4E8;--1:#24292E">{paper = a4paper}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 开题报告</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_proposal_set_paper_size:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\geometry</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">left       = 31.75mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">right      = 31.75mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">top        = 25.4mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">bottom     = 25.4mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">headheight = 0pt,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">headsep    = 0pt</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 本科</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_set_paper_size:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\geometry</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">left       = 31.8mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">right      = 31.8mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">top        = 25.4mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">bottom     = 25.4mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">headheight = 3mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">headsep    = 2mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">footskip   = 6mm</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 硕士</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_set_paper_size:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\geometry</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">left       = 28mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">right      = 25mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">top        = 30mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">bottom     = 29mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">headheight = 15pt</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 博士</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_set_paper_size:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\geometry</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">left       = 28mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">right      = 25mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">top        = 30mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">bottom     = 29mm,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">headheight = 15pt</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\int_case:Vn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_int</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 开题报告</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{1} { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_proposal_set_paper_size:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 本科</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{2} { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_set_paper_size:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 硕士</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{3} { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_set_paper_size:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 博士</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{4} { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_set_paper_size:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%region 页面尺寸设置 (paper size setting)% 统一都是 A4 纸大小\geometry{paper = a4paper}%tag 开题报告\cs_new:Npn \__whu_proposal_set_paper_size:  {    \geometry      {        left       = 31.75mm,        right      = 31.75mm,        top        = 25.4mm,        bottom     = 25.4mm,        headheight = 0pt,        headsep    = 0pt      }  }%tag 本科\cs_new:Npn \__whu_bachelor_set_paper_size:  {    \geometry      {        left       = 31.8mm,        right      = 31.8mm,        top        = 25.4mm,        bottom     = 25.4mm,        headheight = 3mm,        headsep    = 2mm,        footskip   = 6mm      }  }%tag 硕士\cs_new:Npn \__whu_master_set_paper_size:  {    \geometry      {        left       = 28mm,        right      = 25mm,        top        = 30mm,        bottom     = 29mm,        headheight = 15pt      }  }%tag 博士\cs_new:Npn \__whu_doctor_set_paper_size:  {    \geometry      {        left       = 28mm,        right      = 25mm,        top        = 30mm,        bottom     = 29mm,        headheight = 15pt      }  }\int_case:Vn \g__whu_thesis_type_int  {    % 开题报告    {1} { \__whu_proposal_set_paper_size: }    % 本科    {2} { \__whu_bachelor_set_paper_size: }    % 硕士    {3} { \__whu_master_set_paper_size: }    % 博士    {4} { \__whu_doctor_set_paper_size: }  }"><div></div></button></div></figure></div>
<h2 id="处理图书馆版本选项">处理图书馆版本选项</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 图书馆版本 去除所有空白页</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_define:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / style }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">library </span><span style="--0:#79B8FF;--1:#005CC5">.bool_gset:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_library_version_bool,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">library </span><span style="--0:#79B8FF;--1:#005CC5">.initial:n</span><span style="--0:#E1E4E8;--1:#24292E">   = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">library </span><span style="--0:#79B8FF;--1:#005CC5">.default:n</span><span style="--0:#E1E4E8;--1:#24292E">   = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\ctex_after_end_preamble:n</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#79B8FF;--1:#005CC5">\bool_if:NT</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_library_version_bool</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\cs_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_new_blank_page:</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cleardoublepage</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\clearpage</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion 图书馆版本</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%region 图书馆版本 去除所有空白页\keys_define:nn { whu / style }  {    library .bool_gset:N = \g__whu_library_version_bool,    library .initial:n   = false,    library .default:n   = true,  }\ctex_after_end_preamble:n{  \bool_if:NT \g__whu_library_version_bool  {    \cs_set_eq:NN \__whu_new_blank_page: \newpage    \renewcommand{\cleardoublepage}{\clearpage}  }}%endregion 图书馆版本"><div></div></button></div></figure></div>
<p>如果启用了 <code>library</code> 选项，则在接下来的代码中用 <code>\clearpage</code> 取代 <code>\cleardoublepage</code>。</p>
<p><code>\cleardouble</code> 和 <code>\clearpage</code> 在大部分时间是一致的，但 <code>\cleardoublepage</code> 同时还会检查页码。如果当前的页码是奇数并且 typesettings 是 <code>twosided</code> 时，<code>\cleardoublepage</code> 还会再多插入一页，使新的一页仍是奇数页<sup><a href="#user-content-fn-5" id="user-content-fnref-5" data-footnote-ref="" aria-describedby="footnote-label">4</a></sup>。如果启用了 <code>library</code> 选项，则不会再新插入一页</p>
<h2 id="字体配置">字体配置</h2>
<h3 id="字体配置预备函数">字体配置预备函数</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_main_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setCJKmainfont</span><span style="--0:#E1E4E8;--1:#24292E">{#1}[#2]</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\newCJKfontfamily</span><span style="--0:#E1E4E8;--1:#24292E"> [zhsong] </span><span style="--0:#79B8FF;--1:#005CC5">\songti</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} [#2]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_sans_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setCJKsansfont</span><span style="--0:#E1E4E8;--1:#24292E">{#1}[#2]</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\newCJKfontfamily</span><span style="--0:#E1E4E8;--1:#24292E"> [zhhei] </span><span style="--0:#79B8FF;--1:#005CC5">\heiti</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} [#2]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_mono_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setCJKmonofont</span><span style="--0:#E1E4E8;--1:#24292E">{#1}[#2]</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\newCJKfontfamily</span><span style="--0:#E1E4E8;--1:#24292E"> [zhfs] </span><span style="--0:#79B8FF;--1:#005CC5">\fangsong</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} [#2]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_font_kaishu:nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\newCJKfontfamily</span><span style="--0:#E1E4E8;--1:#24292E"> [zhkai] </span><span style="--0:#79B8FF;--1:#005CC5">\kaishu</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} [#2]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\tl_const:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cjk_font_options_tl { UprightFont = *, ItalicFont = *, AutoFakeBold }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_main_font:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_main_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cjk_font_options_tl } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_sans_font:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_sans_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cjk_font_options_tl } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_mono_font:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_mono_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cjk_font_options_tl } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_font_kaishu:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_font_kaishu:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cjk_font_options_tl } }</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\bool_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_style_cjk_fakefont_bool</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\tl_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_style_math_font_choice_tl</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new_protected:Npn \__whu_set_cjk_main_font:nn #1#2  {    \setCJKmainfont{#1}[#2]    \newCJKfontfamily [zhsong] \songti {#1} [#2]  }\cs_new_protected:Npn \__whu_set_cjk_sans_font:nn #1#2  {    \setCJKsansfont{#1}[#2]    \newCJKfontfamily [zhhei] \heiti {#1} [#2]  }\cs_new_protected:Npn \__whu_set_cjk_mono_font:nn #1#2  {    \setCJKmonofont{#1}[#2]    \newCJKfontfamily [zhfs] \fangsong {#1} [#2]  }\cs_new_protected:Npn \__whu_set_cjk_font_kaishu:nn #1#2  {    \newCJKfontfamily [zhkai] \kaishu {#1} [#2]  }\tl_const:Nn \l__whu_cjk_font_options_tl { UprightFont = *, ItalicFont = *, AutoFakeBold }\cs_new_protected:Npx \__whu_set_cjk_main_font:n #1  { \__whu_set_cjk_main_font:nn {#1} { \l__whu_cjk_font_options_tl } }\cs_new_protected:Npx \__whu_set_cjk_sans_font:n #1  { \__whu_set_cjk_sans_font:nn {#1} { \l__whu_cjk_font_options_tl } }\cs_new_protected:Npx \__whu_set_cjk_mono_font:n #1  { \__whu_set_cjk_mono_font:nn {#1} { \l__whu_cjk_font_options_tl } }\cs_new_protected:Npx \__whu_set_cjk_font_kaishu:n #1  { \__whu_set_cjk_font_kaishu:nn {#1} { \l__whu_cjk_font_options_tl } }\bool_new:N \g__whu_style_cjk_fakefont_bool\tl_new:N \g__whu_style_math_font_choice_tl"><div></div></button></div></figure></div>
<p>提供了</p>
<ul>
<li><code>\__whu_set_cjk_main_font:nn</code></li>
<li><code>\__whu_set_cjk_sans_font:nn</code></li>
<li><code>\__whu_set_cjk_mono_font:nn</code></li>
<li><code>\__whu_set_cjk_font_kaishu:nn</code></li>
</ul>
<p>用于设置字体</p>
<h3 id="字体配置项">字体配置项</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 定义键</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_define:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / style }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">font </span><span style="--0:#79B8FF;--1:#005CC5">.choices:nn</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ times, xits, termes, default }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\cs_gset_eq:Nc</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_font_use:</span><span style="--0:#E1E4E8;--1:#24292E"> { __whu_style_font_set_ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_keys_choice_tl : } },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">font </span><span style="--0:#79B8FF;--1:#005CC5">.value_required:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">math-font </span><span style="--0:#79B8FF;--1:#005CC5">.choices:nn</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ xits, termes, default }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\cs_gset_eq:Nc</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_math_font_use:</span><span style="--0:#E1E4E8;--1:#24292E"> { __whu_style_math_font_set_ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_keys_choice_tl : }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_gset_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_style_math_font_choice_tl </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_keys_choice_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">math-font </span><span style="--0:#79B8FF;--1:#005CC5">.value_required:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">cjk-font </span><span style="--0:#79B8FF;--1:#005CC5">.choices:nn</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ windows, mac, fandol, sourcehan, founder, none }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\cs_gset_eq:Nc</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_cjk_font_use:</span><span style="--0:#E1E4E8;--1:#24292E"> { __whu_style_cjk_font_set_ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_keys_choice_tl : } },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">cjk-font </span><span style="--0:#79B8FF;--1:#005CC5">.value_required:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">cjk-fakefont </span><span style="--0:#79B8FF;--1:#005CC5">.bool_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_style_cjk_fakefont_bool,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">cjk-fakefont </span><span style="--0:#79B8FF;--1:#005CC5">.default:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 定义键\keys_define:nn { whu / style }  {    font .choices:nn =      { times, xits, termes, default }      { \cs_gset_eq:Nc \__whu_style_font_use: { __whu_style_font_set_ \l_keys_choice_tl : } },    font .value_required:n = true,    math-font .choices:nn =      { xits, termes, default }      {        \cs_gset_eq:Nc \__whu_style_math_font_use: { __whu_style_math_font_set_ \l_keys_choice_tl : }        \tl_gset_eq:NN \g__whu_style_math_font_choice_tl \l_keys_choice_tl      },    math-font .value_required:n = true,    cjk-font .choices:nn =      { windows, mac, fandol, sourcehan, founder, none }      { \cs_gset_eq:Nc \__whu_style_cjk_font_use: { __whu_style_cjk_font_set_ \l_keys_choice_tl : } },    cjk-font .value_required:n = true,    cjk-fakefont .bool_set:N = \g__whu_style_cjk_fakefont_bool,    cjk-fakefont .default:n = true  }"><div></div></button></div></figure></div>
<p>在 <code>whu/style</code> 中添加了多个与字体相关的项，在设置该项时会调阅<a href="#%E5%AD%97%E4%BD%93%E9%85%8D%E7%BD%AE%E9%A2%84%E5%A4%87%E5%87%BD%E6%95%B0">前面的</a>配置语句</p>
<h3 id="西文字体配置预备函数">西文字体配置预备函数</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 西文字体设置 (english font setting)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag times</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_font_set_times:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setmainfont</span><span style="--0:#E1E4E8;--1:#24292E"> { Times ~ New ~ Roman }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">SmallCapsFont = { TeX ~ Gyre ~ Termes },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">SmallCapsFeatures = { Letters = SmallCaps }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag xits</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_font_set_xits:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setmainfont</span><span style="--0:#E1E4E8;--1:#24292E"> { XITS }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">Extension      = .otf,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">UprightFont    = *-Regular,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = *-Bold,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">ItalicFont     = *-Italic,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldItalicFont = *-BoldItalic</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag termes</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_font_set_termes:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setmainfont</span><span style="--0:#E1E4E8;--1:#24292E"> { texgyretermes }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">Extension      = .otf,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">UprightFont    = *-regular,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = *-bold,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">ItalicFont     = *-italic,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldItalicFont = *-bolditalic</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_font_set_default:</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion 西文字体设置</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%region 西文字体设置 (english font setting)%tag times\cs_new_protected:Npn \__whu_style_font_set_times:  {    \setmainfont { Times ~ New ~ Roman }      [        SmallCapsFont = { TeX ~ Gyre ~ Termes },        SmallCapsFeatures = { Letters = SmallCaps }      ]  }%tag xits\cs_new_protected:Npn \__whu_style_font_set_xits:  {    \setmainfont { XITS }      [        Extension      = .otf,        UprightFont    = *-Regular,        BoldFont       = *-Bold,        ItalicFont     = *-Italic,        BoldItalicFont = *-BoldItalic      ]  }%tag termes\cs_new_protected:Npn \__whu_style_font_set_termes:  {    \setmainfont { texgyretermes }      [        Extension      = .otf,        UprightFont    = *-regular,        BoldFont       = *-bold,        ItalicFont     = *-italic,        BoldItalicFont = *-bolditalic      ]  }\cs_new_protected:Npn \__whu_style_font_set_default: { }%endregion 西文字体设置"><div></div></button></div></figure></div>
<p>提供</p>
<ul>
<li><code>\__whu_style_font_set_times</code></li>
<li><code>\__whu_style_font_set_xits</code></li>
<li><code>\__whu_style_font_set_terms</code></li>
</ul>
<p>用于设置西文字体</p>
<h3 id="数学字体预备函数">数学字体预备函数</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 数学字体设置 (math font setting)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_math_font_set_xits:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setmathfont</span><span style="--0:#E1E4E8;--1:#24292E"> { XITSMath-Regular.otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont     = XITSMath-Bold.otf,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">]</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setmathfont</span><span style="--0:#E1E4E8;--1:#24292E"> { XITSMath-Regular.otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">range        = {cal, bfcal},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">StylisticSet = 01</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_math_font_set_termes:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setmathfont</span><span style="--0:#E1E4E8;--1:#24292E"> { texgyretermes-math.otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_math_font_set_default:</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 数学字体设置 (math font setting)\cs_new_protected:Npn \__whu_style_math_font_set_xits:  {    \setmathfont { XITSMath-Regular.otf }      [        BoldFont     = XITSMath-Bold.otf,      ]    \setmathfont { XITSMath-Regular.otf }      [        range        = {cal, bfcal},        StylisticSet = 01      ]  }\cs_new_protected:Npn \__whu_style_math_font_set_termes:  {    \setmathfont { texgyretermes-math.otf }  }\cs_new_protected:Npn \__whu_style_math_font_set_default: { }"><div></div></button></div></figure></div>
<h3 id="中文字体预备函数">中文字体预备函数</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 中文字体设置 (chinese font setting)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag default</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_cjk_font_set_none:</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag windows</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_cjk_font_set_windows:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\bool_if:NTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_style_cjk_fakefont_bool</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_main_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { SimSun }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ AutoFakeBold = 4, AutoFakeSlant = 0.167 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_sans_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { SimHei }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ AutoFakeBold = 4, AutoFakeSlant = 0.167 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_mono_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FangSong }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ AutoFakeBold = 4, AutoFakeSlant = 0.167 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_font_kaishu:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { KaiTi }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ AutoFakeBold = 4, AutoFakeSlant = 0.167 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_main_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { SimSun }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = SimHei,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">ItalicFont     = KaiTi,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">SlantedFont    = KaiTi,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldItalicFont = SimHei</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_sans_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { SimHei }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ BoldFont = *, ItalicFont = *, SlantedFont = *, BoldItalicFont = * }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_mono_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FangSong }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ BoldFont = *, ItalicFont = *, SlantedFont = *, BoldItalicFont = * }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_font_kaishu:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { KaiTi }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ BoldFont = *, ItalicFont = *, SlantedFont = *, BoldItalicFont = * }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag mac</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_cjk_font_set_mac:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\bool_if:NTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_style_cjk_fakefont_bool</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_main_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Songti~ SC~ Light }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = Songti~ SC~ Bold,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">AutoFakeSlant  = 0.167</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_sans_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Heiti~ SC~ Light }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont      = Heiti~ SC~ Medium,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">AutoFakeSlant = 0.167</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_mono_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { STFangsong }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ AutoFakeBold = 4, AutoFakeSlant = 0.167 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_font_kaishu:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Kaiti~ SC~ Regular }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont      = Kaiti~ SC~ Bold,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">AutoFakeSlant = 0.167</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_main_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Songti~ SC~ Light }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = Songti~ SC~ Bold,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">ItalicFont     = Kaiti~ SC~ Regular,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">SlantedFont    = Kaiti~ SC~ Regular,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldItalicFont = Songti~ SC~ Bold</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_sans_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Heiti~ SC~ Light }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = Heiti~ SC~ Medium,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">ItalicFont     = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">SlantedFont    = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldItalicFont = Heiti~ SC~ Medium</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_mono_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { STFangsong }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ BoldFont = *, ItalicFont = *, SlantedFont = *, BoldItalicFont = * }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_font_kaishu:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Kaiti~ SC~ Regular }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = Kaiti~ SC~ Bold,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">ItalicFont     = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">SlantedFont    = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldItalicFont = Kaiti~ SC~ Bold</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag fandol</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_cjk_font_set_fandol:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\bool_if:NTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_style_cjk_fakefont_bool</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_main_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FandolSong-Regular.otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont      = FandolSong-Bold.otf,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">AutoFakeSlant = 0.167</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_sans_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FandolHei-Regular.otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont      = FandolHei-Bold.otf,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">AutoFakeSlant = 0.167</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_mono_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FandolFang-Regular.otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ AutoFakeBold = 4, AutoFakeSlant = 0.167 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_font_kaishu:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FandolKai-Regular.otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ AutoFakeBold = 4, AutoFakeSlant = 0.167 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_main_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FandolSong-Regular.otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = FandolSong-Bold.otf,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">ItalicFont     = FandolKai-Regular.otf,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">SlantedFont    = FandolKai-Regular.otf,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldItalicFont = FandolSong-Bold.otf</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_sans_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FandolHei-Regular.otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = FandolHei-Bold.otf,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">ItalicFont     = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">SlantedFont    = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldItalicFont = FandolHei-Bold.otf</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_mono_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FandolFang-Regular.otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ BoldFont = *, ItalicFont = *, SlantedFont = *, BoldItalicFont = * }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_font_kaishu:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FandolKai-Regular.otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ BoldFont = *, ItalicFont = *, SlantedFont = *, BoldItalicFont = * }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag founder</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_cjk_font_set_founder:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_main_font:nn</span><span style="--0:#E1E4E8;--1:#24292E">  { FZShuSong-Z01  } { BoldFont = FZHei-B01, ItalicFont = FZKai-Z03 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_sans_font:n</span><span style="--0:#E1E4E8;--1:#24292E">   { FZHei-B01      }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_mono_font:n</span><span style="--0:#E1E4E8;--1:#24292E">   { FZFangSong-Z02 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_font_kaishu:n</span><span style="--0:#E1E4E8;--1:#24292E"> { FZKai-Z03      }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag source-han</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_cjk_font_set_sourcehan:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\bool_if:NTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_style_cjk_fakefont_bool</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_main_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Source~ Han~ Serif~ SC }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">UprightFont   = *-Regular,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont      = *-Bold,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">AutoFakeSlant = 0.167</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_sans_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Source~ Han~ Sans~ SC }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">UprightFont   = *-Regular,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont      = *-Bold,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">AutoFakeSlant = 0.167</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_font_kaishu:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FZKai-Z03 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ AutoFakeBold = 4, AutoFakeSlant = 0.167 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_mono_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FZFangSong-Z02 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ AutoFakeBold = 4, AutoFakeSlant = 0.167 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_main_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Source~ Han~ Serif~ SC }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">UprightFont    = *-Regular,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = *-Bold,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">ItalicFont     = *-Regular,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldItalicFont = *-Bold</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_sans_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { Source~ Han~ Sans~ SC }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">UprightFont    = *-Regular,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = *-Bold,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">ItalicFont     = *-Regular,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldItalicFont = *-Bold</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_font_kaishu:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FZKai-Z03 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">ItalicFont     = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldItalicFont = *</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_cjk_mono_font:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { FZFangSong-Z02 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldFont       = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">ItalicFont     = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">BoldItalicFont = *</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion 中文字体设置</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%region 中文字体设置 (chinese font setting)%tag default\cs_new_protected:Npn \__whu_style_cjk_font_set_none: { }%tag windows\cs_new_protected:Npn \__whu_style_cjk_font_set_windows:  {    \bool_if:NTF \g__whu_style_cjk_fakefont_bool      {        \__whu_set_cjk_main_font:nn { SimSun }          { AutoFakeBold = 4, AutoFakeSlant = 0.167 }        \__whu_set_cjk_sans_font:nn { SimHei }          { AutoFakeBold = 4, AutoFakeSlant = 0.167 }        \__whu_set_cjk_mono_font:nn { FangSong }          { AutoFakeBold = 4, AutoFakeSlant = 0.167 }        \__whu_set_cjk_font_kaishu:nn { KaiTi }          { AutoFakeBold = 4, AutoFakeSlant = 0.167 }      }      {        \__whu_set_cjk_main_font:nn { SimSun }          {            BoldFont       = SimHei,            ItalicFont     = KaiTi,            SlantedFont    = KaiTi,            BoldItalicFont = SimHei          }        \__whu_set_cjk_sans_font:nn { SimHei }          { BoldFont = *, ItalicFont = *, SlantedFont = *, BoldItalicFont = * }        \__whu_set_cjk_mono_font:nn { FangSong }          { BoldFont = *, ItalicFont = *, SlantedFont = *, BoldItalicFont = * }        \__whu_set_cjk_font_kaishu:nn { KaiTi }          { BoldFont = *, ItalicFont = *, SlantedFont = *, BoldItalicFont = * }      }  }%tag mac\cs_new_protected:Npn \__whu_style_cjk_font_set_mac:  {    \bool_if:NTF \g__whu_style_cjk_fakefont_bool      {        \__whu_set_cjk_main_font:nn { Songti~ SC~ Light }          {            BoldFont       = Songti~ SC~ Bold,            AutoFakeSlant  = 0.167          }        \__whu_set_cjk_sans_font:nn { Heiti~ SC~ Light }          {            BoldFont      = Heiti~ SC~ Medium,            AutoFakeSlant = 0.167          }        \__whu_set_cjk_mono_font:nn { STFangsong }          { AutoFakeBold = 4, AutoFakeSlant = 0.167 }        \__whu_set_cjk_font_kaishu:nn { Kaiti~ SC~ Regular }          {            BoldFont      = Kaiti~ SC~ Bold,            AutoFakeSlant = 0.167          }      }      {        \__whu_set_cjk_main_font:nn { Songti~ SC~ Light }          {            BoldFont       = Songti~ SC~ Bold,            ItalicFont     = Kaiti~ SC~ Regular,            SlantedFont    = Kaiti~ SC~ Regular,            BoldItalicFont = Songti~ SC~ Bold          }        \__whu_set_cjk_sans_font:nn { Heiti~ SC~ Light }          {            BoldFont       = Heiti~ SC~ Medium,            ItalicFont     = *,            SlantedFont    = *,            BoldItalicFont = Heiti~ SC~ Medium          }        \__whu_set_cjk_mono_font:nn { STFangsong }          { BoldFont = *, ItalicFont = *, SlantedFont = *, BoldItalicFont = * }        \__whu_set_cjk_font_kaishu:nn { Kaiti~ SC~ Regular }          {            BoldFont       = Kaiti~ SC~ Bold,            ItalicFont     = *,            SlantedFont    = *,            BoldItalicFont = Kaiti~ SC~ Bold          }      }  }%tag fandol\cs_new_protected:Npn \__whu_style_cjk_font_set_fandol:  {    \bool_if:NTF \g__whu_style_cjk_fakefont_bool      {        \__whu_set_cjk_main_font:nn { FandolSong-Regular.otf }          {            BoldFont      = FandolSong-Bold.otf,            AutoFakeSlant = 0.167          }        \__whu_set_cjk_sans_font:nn { FandolHei-Regular.otf }          {            BoldFont      = FandolHei-Bold.otf,            AutoFakeSlant = 0.167          }        \__whu_set_cjk_mono_font:nn { FandolFang-Regular.otf }          { AutoFakeBold = 4, AutoFakeSlant = 0.167 }        \__whu_set_cjk_font_kaishu:nn { FandolKai-Regular.otf }          { AutoFakeBold = 4, AutoFakeSlant = 0.167 }      }      {        \__whu_set_cjk_main_font:nn { FandolSong-Regular.otf }          {            BoldFont       = FandolSong-Bold.otf,            ItalicFont     = FandolKai-Regular.otf,            SlantedFont    = FandolKai-Regular.otf,            BoldItalicFont = FandolSong-Bold.otf          }        \__whu_set_cjk_sans_font:nn { FandolHei-Regular.otf }          {            BoldFont       = FandolHei-Bold.otf,            ItalicFont     = *,            SlantedFont    = *,            BoldItalicFont = FandolHei-Bold.otf          }        \__whu_set_cjk_mono_font:nn { FandolFang-Regular.otf }          { BoldFont = *, ItalicFont = *, SlantedFont = *, BoldItalicFont = * }        \__whu_set_cjk_font_kaishu:nn { FandolKai-Regular.otf }          { BoldFont = *, ItalicFont = *, SlantedFont = *, BoldItalicFont = * }      }  }%tag founder\cs_new_protected:Npn \__whu_style_cjk_font_set_founder:  {    \__whu_set_cjk_main_font:nn  { FZShuSong-Z01  } { BoldFont = FZHei-B01, ItalicFont = FZKai-Z03 }    \__whu_set_cjk_sans_font:n   { FZHei-B01      }    \__whu_set_cjk_mono_font:n   { FZFangSong-Z02 }    \__whu_set_cjk_font_kaishu:n { FZKai-Z03      }  }%tag source-han\cs_new_protected:Npn \__whu_style_cjk_font_set_sourcehan:  {    \bool_if:NTF \g__whu_style_cjk_fakefont_bool      {        \__whu_set_cjk_main_font:nn { Source~ Han~ Serif~ SC }          {            UprightFont   = *-Regular,            BoldFont      = *-Bold,            AutoFakeSlant = 0.167          }        \__whu_set_cjk_sans_font:nn { Source~ Han~ Sans~ SC }          {            UprightFont   = *-Regular,            BoldFont      = *-Bold,            AutoFakeSlant = 0.167          }        \__whu_set_cjk_font_kaishu:nn { FZKai-Z03 }          { AutoFakeBold = 4, AutoFakeSlant = 0.167 }        \__whu_set_cjk_mono_font:nn { FZFangSong-Z02 }          { AutoFakeBold = 4, AutoFakeSlant = 0.167 }      }      {        \__whu_set_cjk_main_font:nn { Source~ Han~ Serif~ SC }          {            UprightFont    = *-Regular,            BoldFont       = *-Bold,            ItalicFont     = *-Regular,            BoldItalicFont = *-Bold          }        \__whu_set_cjk_sans_font:nn { Source~ Han~ Sans~ SC }          {            UprightFont    = *-Regular,            BoldFont       = *-Bold,            ItalicFont     = *-Regular,            BoldItalicFont = *-Bold          }        \__whu_set_cjk_font_kaishu:nn { FZKai-Z03 }          {            BoldFont       = *,            ItalicFont     = *,            BoldItalicFont = *          }        \__whu_set_cjk_mono_font:nn { FZFangSong-Z02 }          {            BoldFont       = *,            ItalicFont     = *,            BoldItalicFont = *          }      }  }%endregion 中文字体设置"><div></div></button></div></figure></div>
<p>提供设置中文字体的方法</p>
<ul>
<li><code>\__whu_style_cjk_font_set_none</code></li>
<li><code>\__whu_style_cjk_font_set_windows</code></li>
<li><code>\__whu_style_cjk_font_set_mac</code></li>
<li><code>\__whu_style_cjk_font_set_fandol</code></li>
<li><code>\__whu_style_cjk_font_set_founder</code></li>
<li><code>\__whu_style_cjk_font_set_sourcehan</code></li>
</ul>
<h3 id="使用字体5">使用字体<sup><a href="#user-content-fn-6" id="user-content-fnref-6" data-footnote-ref="" aria-describedby="footnote-label">5</a></sup></h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 使用字体 (use font)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\AtEndPreamble</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_if_eq:NnTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_style_math_font_choice_tl {default}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E">{mathrsfs}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\DeclareFontFamily</span><span style="--0:#E1E4E8;--1:#24292E">{U}{rsfs}{</span><span style="--0:#79B8FF;--1:#005CC5">\skewchar\font</span><span style="--0:#E1E4E8;--1:#24292E">127 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\DeclareFontShape</span><span style="--0:#E1E4E8;--1:#24292E">{U}{rsfs}{m}{n}{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">&#x3C;5-6> rsfs5</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">&#x3C;6-8> rsfs7</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">&#x3C;8-> rsfs10</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}{}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> [ bold-style = ISO ] { unicode-math }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_font_use:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_math_font_use:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_style_cjk_font_use:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 设置默认字体</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / style }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">font         = times,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">math-font    = termes,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">cjk-font     = fandol,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">cjk-fakefont = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion 字体配置</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 使用字体 (use font)\AtEndPreamble  {    \tl_if_eq:NnTF \g__whu_style_math_font_choice_tl {default}      {        \RequirePackage{mathrsfs}        \DeclareFontFamily{U}{rsfs}{\skewchar\font127 }        \DeclareFontShape{U}{rsfs}{m}{n}{          <5-6> rsfs5          <6-8> rsfs7          <8-> rsfs10        }{}      }      {        \RequirePackage [ bold-style = ISO ] { unicode-math }      }    \__whu_style_font_use:    \__whu_style_math_font_use:    \__whu_style_cjk_font_use:  }%tag 设置默认字体\keys_set:nn { whu / style }  {    font         = times,    math-font    = termes,    cjk-font     = fandol,    cjk-fakefont = false,  }%endregion 字体配置"><div></div></button></div></figure></div>
<p>在 preamble 的最后（<code>\documentclass</code> 命令和 <code>\begin{document}</code> 命令之间）添加字体使用语句</p>
<p>当 <code>\g__whu_style_math_font_choice_tl</code> 为 <code>default</code> 时使用 <code>Ralph Smith's Formal Script</code> 字体。接下来声明了一个名为 <code>rsfs</code> 的字体族（font family），并设置了其 skew 字符（倾斜字符）为 127。这个设置可以确保字体在倾斜时不会出现问题。</p>
<p><code>\DeclareFontShape{U}{rsfs}{m}{n}{...}</code>：这行命令用于声明字体的形状（font shape），这里的 <code>U</code> 表示使用 Unicode 编码，<code>rsfs</code> 是字体族名称，<code>m</code> 表示字体系列（font series），<code>n</code> 表示字体形状（font shape）。</p>
<p>在大括号内的 <code>&#x3C;5-6> rsfs5</code>、<code>&#x3C;6-8> rsfs7</code> 和 <code>&#x3C;8-> rsfs10</code> 分别表示字体大小的范围和对应的字体文件。它们表示：</p>
<ul>
<li>对于字体大小在 5pt 到 6pt 之间的情况，使用 <code>rsfs5</code> 字体文件；</li>
<li>对于字体大小在 6pt 到 8pt 之间的情况，使用 <code>rsfs7</code> 字体文件；</li>
<li>对于字体大小大于等于 8pt 的情况，使用 <code>rsfs10</code> 字体文件。</li>
</ul>
<h2 id="章节标题设置与列表设置">章节标题设置与列表设置</h2>
<h3 id="移除列表垂直间距">移除列表垂直间距</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\setlist</span><span style="--0:#E1E4E8;--1:#24292E">{nosep}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\setlist{nosep}"><div></div></button></div></figure></div>
<p>设置列表（<code>enumerate</code>、<code>itemize</code> 和 <code>description</code> 环境）的垂直间距为零</p>
<h3 id="配置-ctex">配置 ctex</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 开题报告</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_proposal_report_set_ctex_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">numbering   = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format      = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{2}</span><span style="--0:#79B8FF;--1:#005CC5">\bfseries\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">beforeskip  = -3.5ex,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip   = 5ex plus 1ex minus 1ex,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle   = empty,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">titleformat = </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box_with_quad:n</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">section =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">number      = </span><span style="--0:#79B8FF;--1:#005CC5">\chinese</span><span style="--0:#E1E4E8;--1:#24292E">{section},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">name        = {,、},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">aftername   = {},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format      = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 本科毕业论文（设计）任务书</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_proposal_tasks_set_ctex_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">numbering   = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format      = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{3}</span><span style="--0:#79B8FF;--1:#005CC5">\bfseries\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">beforeskip  = 3ex,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip   = 7.5ex,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle   = empty</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">section =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">number      = </span><span style="--0:#79B8FF;--1:#005CC5">\chinese</span><span style="--0:#E1E4E8;--1:#24292E">{section},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">name        = {,、},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">aftername   = {},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format      = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 本科</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_set_ctex_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#99A0A6;--1:#616972">% 编号到 subsubsection</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">secnumdepth = 3,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format       = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2}</span><span style="--0:#79B8FF;--1:#005CC5">\sffamily\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">number       = </span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{chapter},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">numberformat = </span><span style="--0:#79B8FF;--1:#005CC5">\rmfamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">name         = {},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">beforeskip   = 0.8 </span><span style="--0:#79B8FF;--1:#005CC5">\baselineskip</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip    = 0.5 </span><span style="--0:#79B8FF;--1:#005CC5">\baselineskip</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">fixskip      = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle    = bachelor-mainmatter</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">section =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format       = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4}</span><span style="--0:#79B8FF;--1:#005CC5">\sffamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">numberformat = </span><span style="--0:#79B8FF;--1:#005CC5">\rmfamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">beforeskip   = 0.5 </span><span style="--0:#79B8FF;--1:#005CC5">\baselineskip</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip    = 0.5 </span><span style="--0:#79B8FF;--1:#005CC5">\baselineskip</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">fixskip      = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">subsection =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format       = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span><span style="--0:#79B8FF;--1:#005CC5">\sffamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">numberformat = </span><span style="--0:#79B8FF;--1:#005CC5">\rmfamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">beforeskip   = 0.5 </span><span style="--0:#79B8FF;--1:#005CC5">\baselineskip</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip    = 0.5 </span><span style="--0:#79B8FF;--1:#005CC5">\baselineskip</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">fixskip      = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">subsubsection =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format       = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span><span style="--0:#79B8FF;--1:#005CC5">\sffamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">numberformat = </span><span style="--0:#79B8FF;--1:#005CC5">\rmfamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">beforeskip   = 0.5 </span><span style="--0:#79B8FF;--1:#005CC5">\baselineskip</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip    = 0.5 </span><span style="--0:#79B8FF;--1:#005CC5">\baselineskip</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">fixskip      = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_set_enumerate_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% enumerate</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setenumerate</span><span style="--0:#E1E4E8;--1:#24292E">[1]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">labelindent    = </span><span style="--0:#79B8FF;--1:#005CC5">\parindent</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">leftmargin     = 0pt,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">widest         = 0,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">itemindent     = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">listparindent  = </span><span style="--0:#79B8FF;--1:#005CC5">\parindent</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">label          = (</span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">*)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setenumerate</span><span style="--0:#E1E4E8;--1:#24292E">[2]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">labelindent    = </span><span style="--0:#79B8FF;--1:#005CC5">\parindent</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">leftmargin     = 4em,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">itemindent     = 13pt,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">listparindent  = </span><span style="--0:#79B8FF;--1:#005CC5">\parindent</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">label          = </span><span style="--0:#79B8FF;--1:#005CC5">\circlednumber</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">*}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 硕士</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_set_ctex_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#99A0A6;--1:#616972">% 编号到 subsubsection</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">secnumdepth = 3,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format      = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2}</span><span style="--0:#79B8FF;--1:#005CC5">\sffamily\raggedright</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">number      = </span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{chapter},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">name        = {},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">beforeskip  = 4 ex plus 0.5 ex,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip   = 4 ex plus 0.5 ex,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">fixskip     = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">section =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format      = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4}</span><span style="--0:#79B8FF;--1:#005CC5">\sffamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#99A0A6;--1:#616972">% beforeskip  = 0.5 \baselineskip,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#99A0A6;--1:#616972">% afterskip   = 0.5 \baselineskip,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">fixskip     = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">subsection =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format      = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span><span style="--0:#79B8FF;--1:#005CC5">\sffamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#99A0A6;--1:#616972">% beforeskip  = 0.5 \baselineskip,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#99A0A6;--1:#616972">% afterskip   = 0.5 \baselineskip,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">fixskip     = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">subsubsection =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format      = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span><span style="--0:#79B8FF;--1:#005CC5">\sffamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#99A0A6;--1:#616972">% beforeskip  = 0.5 \baselineskip,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#99A0A6;--1:#616972">% afterskip   = 0.5 \baselineskip,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">fixskip     = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_set_enumerate_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% enumerate</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setenumerate</span><span style="--0:#E1E4E8;--1:#24292E">[1]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">labelindent    = </span><span style="--0:#79B8FF;--1:#005CC5">\parindent</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">leftmargin     = 0pt,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">widest         = 0,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">itemindent     = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">listparindent  = </span><span style="--0:#79B8FF;--1:#005CC5">\parindent</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">label          = (</span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">*)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setenumerate</span><span style="--0:#E1E4E8;--1:#24292E">[2]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">labelindent    = </span><span style="--0:#79B8FF;--1:#005CC5">\parindent</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">leftmargin     = 4em,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">itemindent     = 13pt,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">listparindent  = </span><span style="--0:#79B8FF;--1:#005CC5">\parindent</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">label          = </span><span style="--0:#79B8FF;--1:#005CC5">\roman</span><span style="--0:#E1E4E8;--1:#24292E">{*}.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 博士</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_set_ctex_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#99A0A6;--1:#616972">% 编号到 subsubsection</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">secnumdepth = 3,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format      = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2}</span><span style="--0:#79B8FF;--1:#005CC5">\sffamily\raggedright</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">number      = </span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{chapter},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">name        = {},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">beforeskip  = 4 ex plus 0.5 ex,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip   = 4 ex plus 0.5 ex,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">fixskip     = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">section =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format      = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4}</span><span style="--0:#79B8FF;--1:#005CC5">\sffamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#99A0A6;--1:#616972">% beforeskip  = 0.5 \baselineskip,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#99A0A6;--1:#616972">% afterskip   = 0.5 \baselineskip,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">fixskip     = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">subsection =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format      = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span><span style="--0:#79B8FF;--1:#005CC5">\sffamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#99A0A6;--1:#616972">% beforeskip  = 0.5 \baselineskip,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#99A0A6;--1:#616972">% afterskip   = 0.5 \baselineskip,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">fixskip     = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">subsubsection =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format      = </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span><span style="--0:#79B8FF;--1:#005CC5">\sffamily</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#99A0A6;--1:#616972">% beforeskip  = 0.5 \baselineskip,</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#99A0A6;--1:#616972">% afterskip   = 0.5 \baselineskip,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">fixskip     = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_set_enumerate_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% enumerate</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setenumerate</span><span style="--0:#E1E4E8;--1:#24292E">[1]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">labelindent    = </span><span style="--0:#79B8FF;--1:#005CC5">\parindent</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">leftmargin     = 0pt,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">widest         = 0,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">itemindent     = *,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">listparindent  = </span><span style="--0:#79B8FF;--1:#005CC5">\parindent</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">label          = (</span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">*)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setenumerate</span><span style="--0:#E1E4E8;--1:#24292E">[2]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">labelindent    = </span><span style="--0:#79B8FF;--1:#005CC5">\parindent</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">leftmargin     = 4em,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">itemindent     = 13pt,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">listparindent  = </span><span style="--0:#79B8FF;--1:#005CC5">\parindent</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">label          = </span><span style="--0:#79B8FF;--1:#005CC5">\roman</span><span style="--0:#E1E4E8;--1:#24292E">{*}.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 开题报告\cs_new:Npn \__whu_proposal_report_set_ctex_format:  {    \keys_set:nn { ctex }      {        chapter =          {            numbering   = false,            format      = \zihao{2}\bfseries\centering,            beforeskip  = -3.5ex,            afterskip   = 5ex plus 1ex minus 1ex,            pagestyle   = empty,            titleformat = \__whu_spread_box_with_quad:n          },        section =          {            number      = \chinese{section},            name        = {,、},            aftername   = {},            format      = \zihao{4}          }    }  }%tag 本科毕业论文（设计）任务书\cs_new:Npn \__whu_proposal_tasks_set_ctex_format:  {    \keys_set:nn { ctex }      {        chapter =          {            numbering   = false,            format      = \zihao{3}\bfseries\centering,            beforeskip  = 3ex,            afterskip   = 7.5ex,            pagestyle   = empty          },        section =          {            number      = \chinese{section},            name        = {,、},            aftername   = {},            format      = \zihao{4}          }    }  }%tag 本科\cs_new:Npn \__whu_bachelor_set_ctex_format:  {    \keys_set:nn { ctex }      {        % 编号到 subsubsection        secnumdepth = 3,        chapter =          {            format       = \zihao{-2}\sffamily\centering,            number       = \arabic{chapter},            numberformat = \rmfamily,            name         = {},            beforeskip   = 0.8 \baselineskip,            afterskip    = 0.5 \baselineskip,            fixskip      = true,            pagestyle    = bachelor-mainmatter          },        section =          {            format       = \zihao{4}\sffamily,            numberformat = \rmfamily,            beforeskip   = 0.5 \baselineskip,            afterskip    = 0.5 \baselineskip,            fixskip      = true,          },        subsection =          {            format       = \zihao{-4}\sffamily,            numberformat = \rmfamily,            beforeskip   = 0.5 \baselineskip,            afterskip    = 0.5 \baselineskip,            fixskip      = true,          },        subsubsection =          {            format       = \zihao{-4}\sffamily,            numberformat = \rmfamily,            beforeskip   = 0.5 \baselineskip,            afterskip    = 0.5 \baselineskip,            fixskip      = true,          },    }  }\cs_new:Npn \__whu_bachelor_set_enumerate_format:  {    % enumerate    \setenumerate[1]      {        labelindent    = \parindent,        leftmargin     = 0pt,        widest         = 0,        itemindent     = *,        listparindent  = \parindent,        label          = (\arabic*)      }    \setenumerate[2]      {        labelindent    = \parindent,        leftmargin     = 4em,        itemindent     = 13pt,        listparindent  = \parindent,        label          = \circlednumber{\arabic*}      }  }%tag 硕士\cs_new:Npn \__whu_master_set_ctex_format:  {    \keys_set:nn { ctex }      {        % 编号到 subsubsection        secnumdepth = 3,        chapter =          {            format      = \zihao{-2}\sffamily\raggedright,            number      = \arabic{chapter},            name        = {},            beforeskip  = 4 ex plus 0.5 ex,            afterskip   = 4 ex plus 0.5 ex,            fixskip     = true,          },        section =          {            format      = \zihao{4}\sffamily,            % beforeskip  = 0.5 \baselineskip,            % afterskip   = 0.5 \baselineskip,            fixskip     = true,          },        subsection =          {            format      = \zihao{-4}\sffamily,            % beforeskip  = 0.5 \baselineskip,            % afterskip   = 0.5 \baselineskip,            fixskip     = true,          },        subsubsection =          {            format      = \zihao{-4}\sffamily,            % beforeskip  = 0.5 \baselineskip,            % afterskip   = 0.5 \baselineskip,            fixskip     = true,          },    }  }\cs_new:Npn \__whu_master_set_enumerate_format:  {    % enumerate    \setenumerate[1]      {        labelindent    = \parindent,        leftmargin     = 0pt,        widest         = 0,        itemindent     = *,        listparindent  = \parindent,        label          = (\arabic*)      }    \setenumerate[2]      {        labelindent    = \parindent,        leftmargin     = 4em,        itemindent     = 13pt,        listparindent  = \parindent,        label          = \roman{*}.      }  }%tag 博士\cs_new:Npn \__whu_doctor_set_ctex_format:  {    \keys_set:nn { ctex }      {        % 编号到 subsubsection        secnumdepth = 3,        chapter =          {            format      = \zihao{-2}\sffamily\raggedright,            number      = \arabic{chapter},            name        = {},            beforeskip  = 4 ex plus 0.5 ex,            afterskip   = 4 ex plus 0.5 ex,            fixskip     = true,          },        section =          {            format      = \zihao{4}\sffamily,            % beforeskip  = 0.5 \baselineskip,            % afterskip   = 0.5 \baselineskip,            fixskip     = true,          },        subsection =          {            format      = \zihao{-4}\sffamily,            % beforeskip  = 0.5 \baselineskip,            % afterskip   = 0.5 \baselineskip,            fixskip     = true,          },        subsubsection =          {            format      = \zihao{-4}\sffamily,            % beforeskip  = 0.5 \baselineskip,            % afterskip   = 0.5 \baselineskip,            fixskip     = true,          },    }  }\cs_new:Npn \__whu_doctor_set_enumerate_format:  {    % enumerate    \setenumerate[1]      {        labelindent    = \parindent,        leftmargin     = 0pt,        widest         = 0,        itemindent     = *,        listparindent  = \parindent,        label          = (\arabic*)      }    \setenumerate[2]      {        labelindent    = \parindent,        leftmargin     = 4em,        itemindent     = 13pt,        listparindent  = \parindent,        label          = \roman{*}.      }  }"><div></div></button></div></figure></div>
<p>创建不同的函数用于适配不同的用途，主要包含以下属性:</p>













































<table><thead><tr><th>Key</th><th>Desc</th></tr></thead><tbody><tr><td>chapter/numbering</td><td>章节编号</td></tr><tr><td>chapter/format</td><td>章节标题格式</td></tr><tr><td>chapter/number</td><td>章编号内容，例如阿拉伯数字、罗马数字等</td></tr><tr><td>chapter/numberformat</td><td>章编号格式</td></tr><tr><td>chapter/beforeskip</td><td>章节标题之前的垂直间距，设置为负数即向上移动</td></tr><tr><td>chapter/afterskip</td><td>章节标题之后的垂直间距。 <code>5ex plus 1ex minus 1ex</code> 意为5 行高，最多扩展 1 行高，最少减少 1 行高</td></tr><tr><td>chapter/pagestyle</td><td>章节页眉页脚样式设置为空白</td></tr><tr><td>chapter/titleformat</td><td>章节标题的格式</td></tr><tr><td>chapter/fixskip</td><td>调整章标题前后的垂直间距</td></tr></tbody></table>
<p>对于 <code>section</code>、<code>subsection</code>、<code>subsubsection</code> 等同理</p>
<p>作者分别通过下列函数进行设置</p>





























<table><thead><tr><th>Name</th><th>Desc</th></tr></thead><tbody><tr><td><code>\__whu_proposal_report_set_ctex_format</code></td><td>开题报告</td></tr><tr><td><code>\__whu_proposal_tasks_set_ctex_format</code></td><td>本科毕业论文（设计）任务书</td></tr><tr><td><code>\__whu_bachelor_set_ctex_format</code></td><td>本科</td></tr><tr><td><code>\__whu_master_set_ctex_format</code></td><td>硕士</td></tr><tr><td><code>\__whu_doctor_set_ctex_format</code></td><td>博士</td></tr></tbody></table>
<p>除此之外还通过 <code>\setenumerate</code> 设置了列表项样式</p>

































<table><thead><tr><th>Key</th><th>Desc</th></tr></thead><tbody><tr><td>labelindent</td><td>标签缩进</td></tr><tr><td>leftmargin</td><td>左侧边距</td></tr><tr><td>widest</td><td>最宽项</td></tr><tr><td>itemindent</td><td>项目缩进设置</td></tr><tr><td>listparindent</td><td>段落缩进量</td></tr><tr><td>label</td><td>标签格式设置(如罗马数字)</td></tr></tbody></table>





















<table><thead><tr><th>Name</th><th>Desc</th></tr></thead><tbody><tr><td><code>\__whu_bachelor_set_enumerate_format</code></td><td>本科列表样式</td></tr><tr><td><code>\__whu_master_set_enumerate_format</code></td><td>硕士列表样式</td></tr><tr><td><code>\__whu_doctor_set_enumerate_format</code></td><td>博士列表样式</td></tr></tbody></table>
<h3 id="判断论文种类">判断论文种类</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\int_case:Vn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_int</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 本科</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{2}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_set_enumerate_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_set_ctex_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 硕士</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{3}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_set_enumerate_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_set_ctex_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 博士</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{4}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_set_enumerate_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_set_ctex_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\ProposalTasks</span><span style="--0:#E1E4E8;--1:#24292E"> } { O{武汉大学本科毕业论文（设计）任务书} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_proposal_tasks_set_ctex_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">{#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\int_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c@section</span><span style="--0:#E1E4E8;--1:#24292E"> {0}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\ProposalReport</span><span style="--0:#E1E4E8;--1:#24292E"> } { O{开题报告} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_proposal_report_set_ctex_format:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">{#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\int_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c@section</span><span style="--0:#E1E4E8;--1:#24292E"> {0}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\int_case:Vn \g__whu_thesis_type_int  {    % 本科    {2}      {        \__whu_bachelor_set_enumerate_format:        \__whu_bachelor_set_ctex_format:      }    % 硕士    {3}      {        \__whu_master_set_enumerate_format:        \__whu_master_set_ctex_format:      }    % 博士    {4}      {        \__whu_doctor_set_enumerate_format:        \__whu_doctor_set_ctex_format:      }  }\NewDocumentCommand { \ProposalTasks } { O{武汉大学本科毕业论文（设计）任务书} }  {    \__whu_proposal_tasks_set_ctex_format:    \chapter{#1}    \int_set:Nn \c@section {0}  }\NewDocumentCommand { \ProposalReport } { O{开题报告} }  {    \__whu_proposal_report_set_ctex_format:    \chapter{#1}    \int_set:Nn \c@section {0}  }"><div></div></button></div></figure></div>
<p>首先对本科、硕士和博士论文分别进行样式设置。然后创建了两个命令，分别是 <code>\ProposalTasks</code> 和 <code>\ProposalReport</code>。这两个命令接受一个参数，并具有一个默认值。在命令的实现中首先设置了相关样式，接着以传递参数创建了一个章节，并在之后重置了计数器 <code>\c@section</code> 。这样新的章节开始后，下一个节的编号将从 1 开始。</p>
<h2 id="页眉页脚样式">页眉页脚样式</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 页眉页脚样式</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 本科</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\fancypagestyle</span><span style="--0:#E1E4E8;--1:#24292E"> { bachelor-frontmatter }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhf</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyfoot</span><span style="--0:#E1E4E8;--1:#24292E">[C] { </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{5} </span><span style="--0:#79B8FF;--1:#005CC5">\Roman</span><span style="--0:#E1E4E8;--1:#24292E">{page} }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\headrulewidth</span><span style="--0:#E1E4E8;--1:#24292E"> { 0pt }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\fancypagestyle</span><span style="--0:#E1E4E8;--1:#24292E"> { bachelor-mainmatter }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhf</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyfoot</span><span style="--0:#E1E4E8;--1:#24292E">[C] { </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{5} </span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{page} }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhead</span><span style="--0:#E1E4E8;--1:#24292E">[C] { </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{5} </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {8cm} {武汉大学本科毕业论文（设计）}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\headrulewidth</span><span style="--0:#E1E4E8;--1:#24292E"> { 0.5pt }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setlength</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\headheight</span><span style="--0:#E1E4E8;--1:#24292E">}{13pt}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 硕士</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 页眉从中文摘要开始至论文末，偶数页码内容为：武汉大学硕士学位论文，奇数页码内容为学位论文题目。</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 摘要页码用罗马数字单独编排，并标注在每页页脚中部，英文摘要页码续接中文摘要的页码。</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\fancypagestyle</span><span style="--0:#E1E4E8;--1:#24292E"> { master-frontmatter }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhf</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhead</span><span style="--0:#E1E4E8;--1:#24292E"> [CE] { 武汉大学硕士学位论文 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhead</span><span style="--0:#E1E4E8;--1:#24292E"> [CO] { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyfoot</span><span style="--0:#E1E4E8;--1:#24292E"> [C]  { </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{5} </span><span style="--0:#79B8FF;--1:#005CC5">\Roman</span><span style="--0:#E1E4E8;--1:#24292E">{page} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\fancypagestyle</span><span style="--0:#E1E4E8;--1:#24292E"> { master-mainmatter  }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhf</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhead</span><span style="--0:#E1E4E8;--1:#24292E"> [CE] { 武汉大学硕士学位论文 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhead</span><span style="--0:#E1E4E8;--1:#24292E"> [CO] { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyfoot</span><span style="--0:#E1E4E8;--1:#24292E"> [C]  { </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{5} </span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{page} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 博士</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 页眉从中文摘要开始至论文末，偶数页码内容为“武汉大学博士学位论文”，奇数页码内容为学位论文题目。</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\fancypagestyle</span><span style="--0:#E1E4E8;--1:#24292E"> { doctor-frontmatter }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhf</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhead</span><span style="--0:#E1E4E8;--1:#24292E"> [CE] { 武汉大学博士学位论文 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhead</span><span style="--0:#E1E4E8;--1:#24292E"> [CO] { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyfoot</span><span style="--0:#E1E4E8;--1:#24292E"> [C]  { </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{5} </span><span style="--0:#79B8FF;--1:#005CC5">\Roman</span><span style="--0:#E1E4E8;--1:#24292E">{page} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\fancypagestyle</span><span style="--0:#E1E4E8;--1:#24292E"> { doctor-mainmatter  }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhf</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhead</span><span style="--0:#E1E4E8;--1:#24292E"> [CE] { 武汉大学博士学位论文 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyhead</span><span style="--0:#E1E4E8;--1:#24292E"> [CO] { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\fancyfoot</span><span style="--0:#E1E4E8;--1:#24292E"> [C]  { </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{5} </span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{page} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 给-\mainmatter-添加钩子</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\AddToHook</span><span style="--0:#E1E4E8;--1:#24292E">{ cmd / mainmatter / after }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\exp_args:No</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\pagestyle</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_tl - mainmatter } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%region 页眉页脚样式%tag 本科\fancypagestyle { bachelor-frontmatter }  {    \fancyhf { }    \fancyfoot[C] { \zihao{5} \Roman{page} }    \renewcommand \headrulewidth { 0pt }  }\fancypagestyle { bachelor-mainmatter }  {    \fancyhf { }    \fancyfoot[C] { \zihao{5} \arabic{page} }    \fancyhead[C] { \zihao{5} \__whu_spread_box:nn {8cm} {武汉大学本科毕业论文（设计）}}    \renewcommand \headrulewidth { 0.5pt }    \setlength{\headheight}{13pt}  }%tag 硕士% 页眉从中文摘要开始至论文末，偶数页码内容为：武汉大学硕士学位论文，奇数页码内容为学位论文题目。% 摘要页码用罗马数字单独编排，并标注在每页页脚中部，英文摘要页码续接中文摘要的页码。\fancypagestyle { master-frontmatter }  {    \fancyhf { }    \fancyhead [CE] { 武汉大学硕士学位论文 }    \fancyhead [CO] { \l__whu_info_title_tl }    \fancyfoot [C]  { \zihao{5} \Roman{page} }  }\fancypagestyle { master-mainmatter  }  {    \fancyhf { }    \fancyhead [CE] { 武汉大学硕士学位论文 }    \fancyhead [CO] { \l__whu_info_title_tl }    \fancyfoot [C]  { \zihao{5} \arabic{page} }  }%tag 博士% 页眉从中文摘要开始至论文末，偶数页码内容为“武汉大学博士学位论文”，奇数页码内容为学位论文题目。\fancypagestyle { doctor-frontmatter }  {    \fancyhf { }    \fancyhead [CE] { 武汉大学博士学位论文 }    \fancyhead [CO] { \l__whu_info_title_tl }    \fancyfoot [C]  { \zihao{5} \Roman{page} }  }\fancypagestyle { doctor-mainmatter  }  {    \fancyhf { }    \fancyhead [CE] { 武汉大学博士学位论文 }    \fancyhead [CO] { \l__whu_info_title_tl }    \fancyfoot [C]  { \zihao{5} \arabic{page} }  }%tag 给-\mainmatter-添加钩子\AddToHook{ cmd / mainmatter / after }  { \exp_args:No \pagestyle { \g__whu_thesis_type_tl - mainmatter } }%endregion"><div></div></button></div></figure></div>
<p>其中 <code>\fancyhf</code> 用于清除当前的页眉页脚设置，然后调用 <code>\fancyhead</code> 设置页眉也页脚。在页眉和页脚的设置中，<code>C</code> 表示居中，类似的有 <code>L</code> 和 <code>R</code>。<code>E</code> 和 <code>O</code> 表示 even 和 odd</p>
<p>在最后使用 <code>\AddToHook</code>在 <code>cmd/mainmatter/after</code>之后执行 <code>\pagestyle</code> 设置相关样式，其目的是统一后记 (backmatter) 的样式与 mainmatter</p>
<h2 id="个人信息配置项">个人信息配置项</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 个人信息</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 定义键</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_define:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / info }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">title           </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">title*          </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_en_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">department      </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_department_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">department*     </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_department_en_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">student-id      </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_student_id_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">author          </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_author_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">author*         </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_author_en_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">subject         </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_subject_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">subject*        </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_subject_en_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">major           </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_major_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">major*          </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_major_en_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">supervisor      </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">supervisor*     </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_en_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">supervisor-outer</span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_outer_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">academic-title  </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_academic_title_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">academic-title* </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_academic_title_en_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">academic-title-outer</span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_outer_academic_title_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">research-area   </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_research_area_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">research-area*  </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_research_area_en_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">clc             </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_clc_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">secret-level    </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_secret_level_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">udc             </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_udc_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">year           </span><span style="--0:#79B8FF;--1:#005CC5">.int_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_year_int,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">month          </span><span style="--0:#79B8FF;--1:#005CC5">.int_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_month_int,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">day            </span><span style="--0:#79B8FF;--1:#005CC5">.int_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_day_int,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">keywords     </span><span style="--0:#79B8FF;--1:#005CC5">.clist_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_keywords_clist,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">keywords*    </span><span style="--0:#79B8FF;--1:#005CC5">.clist_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_keywords_en_clist,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">cover-en-type </span><span style="--0:#79B8FF;--1:#005CC5">.choice:</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">cover-en-type </span><span style="--0:#79B8FF;--1:#005CC5">.choices:nn</span><span style="--0:#E1E4E8;--1:#24292E"> = { normal, cs }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                                </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\tl_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cover_en_type_tl </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_keys_choice_tl },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">cover-en-type </span><span style="--0:#79B8FF;--1:#005CC5">.initial:n</span><span style="--0:#E1E4E8;--1:#24292E"> = normal</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 初始化公共键</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / info }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">year = </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_sys_year_int,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">month = </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_sys_month_int,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">day = </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_sys_day_int,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">keywords = {</span><span style="--0:#79B8FF;--1:#005CC5">\LaTeX</span><span style="--0:#E1E4E8;--1:#24292E">{}, 毕业论文, 模版, 武汉大学},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">keywords* = {</span><span style="--0:#79B8FF;--1:#005CC5">\LaTeX</span><span style="--0:#E1E4E8;--1:#24292E">{}, Thesis, Template, Wuhan~University},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">clc = </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_empty_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">secret-level = </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_empty_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">udc = </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_empty_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">student-id = xxxxxxxxxxx</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 函数，用于定义常量</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 只定义中文</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_define_name:nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\tl_const:cn</span><span style="--0:#E1E4E8;--1:#24292E"> { c__whu_name_ #1 _tl } {#2} }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 中英文（或中文+拼音）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_define_name:nnn</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2#3</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_const:cn</span><span style="--0:#E1E4E8;--1:#24292E"> { c__whu_name_ #1    _tl } {#2}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_const:cn</span><span style="--0:#E1E4E8;--1:#24292E"> { c__whu_name_ #1 _en_tl } {#3}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 本科初始化</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_info_initial:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_map_inline:nn</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ secret_level } { 密级 },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ student_id } { 学号 },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ toc } { 目 </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">{2em} 录 },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_define_name:nn</span><span style="--0:#E1E4E8;--1:#24292E"> ##1 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_map_inline:nn</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ type } { 本科毕业论文（设计） } { BACHELOR’S~DEGREE~THESIS~OF~WUHAN~UNIVERSITY },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ department } { 学院 } { School (Department) },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ major } { 专业 } { Major },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ author } { 姓名 } { Candidate },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ supervisor } { 指导教师 } { Supervisor },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ keywords } { 关键词 } { Keywords },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ abstract } { 摘 </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">{2em} 要 } { ABSTRACT },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_define_name:nnn</span><span style="--0:#E1E4E8;--1:#24292E"> ##1 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / info }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">title           = {武汉大学本科生毕业论文 </span><span style="--0:#79B8FF;--1:#005CC5">\LaTeX</span><span style="--0:#E1E4E8;--1:#24292E">{} 模版},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">title*          = {A~</span><span style="--0:#79B8FF;--1:#005CC5">\LaTeX</span><span style="--0:#E1E4E8;--1:#24292E">{}~Thesis~Template~for~Wuhan~University},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">department      = {数学与统计学院},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">department*     = {School~of~Mathematics~and~Statistics},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">major           = {数学与应用数学},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">major*          = {Mathematics~and~Applied~Mathematics},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">author          = {夏大鱼羊},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">author*         = {XIA~Dayuyang},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">supervisor      = {夏大鱼羊},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">supervisor*     = {XIA~Kangwei},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">academic-title  = {教授},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">academic-title* = {Prof},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 硕博公共部分常量定义</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_and_doctor_info_initial:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_map_inline:nn</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ secret_level } { 密级 },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ clc } { 分类号 },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ numbering } { 编号 },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ udc } { UDC },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ subject_major_academic } { 学科、专业名称 },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ subject_major_professional } { 专业学位类别、领域 },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ academic } { 学术学位  },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ professional } { 专业学位 },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ toc } { 目 </span><span style="--0:#79B8FF;--1:#005CC5">\qquad</span><span style="--0:#E1E4E8;--1:#24292E"> 录 },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_define_name:nn</span><span style="--0:#E1E4E8;--1:#24292E"> ##1 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_map_inline:nn</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ author } { 研究生姓名 } { Candidate },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ student_id } { 学号 } { Student~ number },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ supervisor } { 校内导师姓名、职称 } { Supervisor },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ supervisor_outer } { 校外导师姓名、职称 } { Supervisor Outside },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ major } { 专业名称 } { Major },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ research_area  } { 研究方向 } { Speciality },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ abstract } { 摘 </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">{2em} 要 } { ABSTRACT },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ keywords } { 关键词 } { Keywords },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_define_name:nnn</span><span style="--0:#E1E4E8;--1:#24292E"> ##1 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 硕士初始化</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_info_initial:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_map_inline:nn</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ type } { 硕士学位论文 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_define_name:nn</span><span style="--0:#E1E4E8;--1:#24292E"> ##1 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / info }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">title         = {武汉大学硕士学位论文 </span><span style="--0:#79B8FF;--1:#005CC5">\LaTeX</span><span style="--0:#E1E4E8;--1:#24292E">{} 模版},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">title*        = {A~</span><span style="--0:#79B8FF;--1:#005CC5">\LaTeX</span><span style="--0:#E1E4E8;--1:#24292E">{}~Thesis~Template~for~Wuhan~University},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">department    = {数学与统计学院},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">department*   = {School~of~Mathematics~and~Statistics},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">major         = {基础数学},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">major*        = {Pure~Mathematics},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">research-area = {函数空间上的算子理论},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">research-area* = {Operator~Theory~on~Function~Spaces},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">author        = {夏大鱼羊},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">author*       = {XIA~Kangwei},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">supervisor    = {夏大鱼羊},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">supervisor*   = {XIA~Dayuyang},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">academic-title = {教授},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">academic-title* = {Prof}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 博士初始化</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_info_initial:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_map_inline:nn</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ type } { 博士学位论文 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_define_name:nn</span><span style="--0:#E1E4E8;--1:#24292E"> ##1 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / info }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">title         = {武汉大学博士学位论文 </span><span style="--0:#79B8FF;--1:#005CC5">\LaTeX</span><span style="--0:#E1E4E8;--1:#24292E">{} 模版},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">title*     = {A~</span><span style="--0:#79B8FF;--1:#005CC5">\LaTeX</span><span style="--0:#E1E4E8;--1:#24292E">{}~Thesis~Template~for~Wuhan~University},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">department    = {数学与统计学院},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">department*    = {School~of~Mathematics~and~Statistics},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">major         = {基础数学},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">major*        = {Pure~Mathematics},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">research-area = {函数空间上的算子理论},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">research-area* = {Operator~Theory~on~Function~Spaces},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">author        = {夏大鱼羊},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">author*       = {XIA~Kangwei},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">supervisor    = {夏大鱼羊},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">supervisor*   = {XIA~Dayuyang},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">academic-title = {教授},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">academic-title* = {Prof},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 执行初始化</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\int_case:Vn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_int</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 本科</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{2} { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_info_initial:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 硕士</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{3} { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_and_doctor_info_initial:</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_info_initial:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 博士</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{4} { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_and_doctor_info_initial:</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_info_initial:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion 个人信息</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%region 个人信息%tag 定义键\keys_define:nn { whu / info }  {    title           .tl_set:N = \l__whu_info_title_tl,    title*          .tl_set:N = \l__whu_info_title_en_tl,    department      .tl_set:N = \l__whu_info_department_tl,    department*     .tl_set:N = \l__whu_info_department_en_tl,    student-id      .tl_set:N = \l__whu_info_student_id_tl,    author          .tl_set:N = \l__whu_info_author_tl,    author*         .tl_set:N = \l__whu_info_author_en_tl,    subject         .tl_set:N = \l__whu_info_subject_tl,    subject*        .tl_set:N = \l__whu_info_subject_en_tl,    major           .tl_set:N = \l__whu_info_major_tl,    major*          .tl_set:N = \l__whu_info_major_en_tl,    supervisor      .tl_set:N = \l__whu_info_supervisor_tl,    supervisor*     .tl_set:N = \l__whu_info_supervisor_en_tl,    supervisor-outer.tl_set:N = \l__whu_info_supervisor_outer_tl,    academic-title  .tl_set:N = \l__whu_info_supervisor_academic_title_tl,    academic-title* .tl_set:N = \l__whu_info_supervisor_academic_title_en_tl,    academic-title-outer.tl_set:N = \l__whu_info_supervisor_outer_academic_title_tl,    research-area   .tl_set:N = \l__whu_info_research_area_tl,    research-area*  .tl_set:N = \l__whu_info_research_area_en_tl,    clc             .tl_set:N = \l__whu_info_clc_tl,    secret-level    .tl_set:N = \l__whu_info_secret_level_tl,    udc             .tl_set:N = \l__whu_info_udc_tl,    year           .int_set:N = \l__whu_info_year_int,    month          .int_set:N = \l__whu_info_month_int,    day            .int_set:N = \l__whu_info_day_int,    keywords     .clist_set:N = \l__whu_info_keywords_clist,    keywords*    .clist_set:N = \l__whu_info_keywords_en_clist,    cover-en-type .choice:,    cover-en-type .choices:nn = { normal, cs }                                { \tl_set_eq:NN \l__whu_cover_en_type_tl \l_keys_choice_tl },    cover-en-type .initial:n = normal  }%tag 初始化公共键\keys_set:nn { whu / info }  {    year = \c_sys_year_int,    month = \c_sys_month_int,    day = \c_sys_day_int,    keywords = {\LaTeX{}, 毕业论文, 模版, 武汉大学},    keywords* = {\LaTeX{}, Thesis, Template, Wuhan~University},    clc = \c_empty_tl,    secret-level = \c_empty_tl,    udc = \c_empty_tl,    student-id = xxxxxxxxxxx  }%tag 函数，用于定义常量% 只定义中文\cs_new_protected:Npn \__whu_define_name:nn #1#2  { \tl_const:cn { c__whu_name_ #1 _tl } {#2} }% 中英文（或中文+拼音）\cs_new_protected:Npn \__whu_define_name:nnn #1#2#3  {    \tl_const:cn { c__whu_name_ #1    _tl } {#2}    \tl_const:cn { c__whu_name_ #1 _en_tl } {#3}  }%tag 本科初始化\cs_new_protected:Npn \__whu_bachelor_info_initial:  {    \clist_map_inline:nn      {        { secret_level } { 密级 },        { student_id } { 学号 },        { toc } { 目 \hspace{2em} 录 },      }      { \__whu_define_name:nn ##1 }    \clist_map_inline:nn      {        { type } { 本科毕业论文（设计） } { BACHELOR’S~DEGREE~THESIS~OF~WUHAN~UNIVERSITY },        { department } { 学院 } { School (Department) },        { major } { 专业 } { Major },        { author } { 姓名 } { Candidate },        { supervisor } { 指导教师 } { Supervisor },        { keywords } { 关键词 } { Keywords },        { abstract } { 摘 \hspace{2em} 要 } { ABSTRACT },      }      { \__whu_define_name:nnn ##1 }    \keys_set:nn { whu / info }      {        title           = {武汉大学本科生毕业论文 \LaTeX{} 模版},        title*          = {A~\LaTeX{}~Thesis~Template~for~Wuhan~University},        department      = {数学与统计学院},        department*     = {School~of~Mathematics~and~Statistics},        major           = {数学与应用数学},        major*          = {Mathematics~and~Applied~Mathematics},        author          = {夏大鱼羊},        author*         = {XIA~Dayuyang},        supervisor      = {夏大鱼羊},        supervisor*     = {XIA~Kangwei},        academic-title  = {教授},        academic-title* = {Prof},      }  }%tag 硕博公共部分常量定义\cs_new:Npn \__whu_master_and_doctor_info_initial:  {    \clist_map_inline:nn      {        { secret_level } { 密级 },        { clc } { 分类号 },        { numbering } { 编号 },        { udc } { UDC },        { subject_major_academic } { 学科、专业名称 },        { subject_major_professional } { 专业学位类别、领域 },        { academic } { 学术学位  },        { professional } { 专业学位 },        { toc } { 目 \qquad 录 },      }      { \__whu_define_name:nn ##1 }    \clist_map_inline:nn      {        { author } { 研究生姓名 } { Candidate },        { student_id } { 学号 } { Student~ number },        { supervisor } { 校内导师姓名、职称 } { Supervisor },        { supervisor_outer } { 校外导师姓名、职称 } { Supervisor Outside },        { major } { 专业名称 } { Major },        { research_area  } { 研究方向 } { Speciality },        { abstract } { 摘 \hspace{2em} 要 } { ABSTRACT },        { keywords } { 关键词 } { Keywords },      }      { \__whu_define_name:nnn ##1 }  }%tag 硕士初始化\cs_new:Npn \__whu_master_info_initial:  {    \clist_map_inline:nn      {        { type } { 硕士学位论文 }      }      { \__whu_define_name:nn ##1 }    \keys_set:nn { whu / info }      {        title         = {武汉大学硕士学位论文 \LaTeX{} 模版},        title*        = {A~\LaTeX{}~Thesis~Template~for~Wuhan~University},        department    = {数学与统计学院},        department*   = {School~of~Mathematics~and~Statistics},        major         = {基础数学},        major*        = {Pure~Mathematics},        research-area = {函数空间上的算子理论},        research-area* = {Operator~Theory~on~Function~Spaces},        author        = {夏大鱼羊},        author*       = {XIA~Kangwei},        supervisor    = {夏大鱼羊},        supervisor*   = {XIA~Dayuyang},        academic-title = {教授},        academic-title* = {Prof}      }  }%tag 博士初始化\cs_new:Npn \__whu_doctor_info_initial:  {    \clist_map_inline:nn      {        { type } { 博士学位论文 }      }      { \__whu_define_name:nn ##1 }    \keys_set:nn { whu / info }      {        title         = {武汉大学博士学位论文 \LaTeX{} 模版},        title*     = {A~\LaTeX{}~Thesis~Template~for~Wuhan~University},        department    = {数学与统计学院},        department*    = {School~of~Mathematics~and~Statistics},        major         = {基础数学},        major*        = {Pure~Mathematics},        research-area = {函数空间上的算子理论},        research-area* = {Operator~Theory~on~Function~Spaces},        author        = {夏大鱼羊},        author*       = {XIA~Kangwei},        supervisor    = {夏大鱼羊},        supervisor*   = {XIA~Dayuyang},        academic-title = {教授},        academic-title* = {Prof},      }  }%tag 执行初始化\int_case:Vn \g__whu_thesis_type_int  {    % 本科    {2} { \__whu_bachelor_info_initial: }    % 硕士    {3} { \__whu_master_and_doctor_info_initial:          \__whu_master_info_initial: }    % 博士    {4} { \__whu_master_and_doctor_info_initial:          \__whu_doctor_info_initial: }  }%endregion 个人信息"><div></div></button></div></figure></div>
<p>值的一提的是这里会将公共常量定义为<code>c__whu_name_#1_tl</code>，例如 <code>\c_whu_name_author_tl</code> 对应 <code>姓名</code></p>
<p>根据 <code>\g__whu_thesis_type_int  </code> 不同，调用的命令来初始化常量</p>
<h2 id="落款">落款</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 本科任务书个人信息</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\ProposalTasksinformation</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\par</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">毕业论文（设计）题目：</span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E">*{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_tl }</span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[5pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">学院：</span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E">*{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_department_tl } </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_space_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">学号：</span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E">*{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_student_id_tl } </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_space_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">姓名：</span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E">*{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_author_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 本科开题报告个人信息</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\ProposalReportinformation</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\par</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">论文题目：</span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E">*{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_tl }</span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[10pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">学院：</span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E">*{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_department_tl } </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_space_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">学号：</span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E">*{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_student_id_tl } </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_space_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">姓名：</span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E">*{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_author_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 本科任务书落款</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\ProposalTasksSignature</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_compare:nNnTF</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\pagetotal</span><span style="--0:#E1E4E8;--1:#24292E"> } &#x3C; { .5 </span><span style="--0:#79B8FF;--1:#005CC5">\textheight</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\vfil</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\null</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\vfil</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\dim_compare:nNnTF</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\pagegoal</span><span style="--0:#E1E4E8;--1:#24292E"> - </span><span style="--0:#79B8FF;--1:#005CC5">\pagetotal</span><span style="--0:#E1E4E8;--1:#24292E"> } &#x3C; { 8em }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\vfill</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\vfil</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\null</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\vfil</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">指导老师签名：</span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E">*{</span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{10em}}  </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">年 </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{2em} 月 </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{2em} 日</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 本科任务书落款</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\ProposalReportSignature</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_compare:nNnTF</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\pagetotal</span><span style="--0:#E1E4E8;--1:#24292E"> } &#x3C; { .5 </span><span style="--0:#79B8FF;--1:#005CC5">\textheight</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\vfil</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\dim_compare:nNnTF</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\pagegoal</span><span style="--0:#E1E4E8;--1:#24292E"> - </span><span style="--0:#79B8FF;--1:#005CC5">\pagetotal</span><span style="--0:#E1E4E8;--1:#24292E"> } &#x3C; { 8em }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\vfill</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\vfil</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\null</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\vfil</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{flushright}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">指导老师签名：</span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{8em} </span><span style="--0:#79B8FF;--1:#005CC5">\null</span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[5pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">年 </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{2em} 月 </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{2em} 日</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{flushright}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 本科任务书个人信息\NewDocumentCommand \ProposalTasksinformation { }  {    \par \noindent    毕业论文（设计）题目：\CJKunderline*{ \l__whu_info_title_tl }\\[5pt]    学院：\CJKunderline*{ \l__whu_info_department_tl } \c_space_tl    学号：\CJKunderline*{ \l__whu_info_student_id_tl } \c_space_tl    姓名：\CJKunderline*{ \l__whu_info_author_tl }  }% 本科开题报告个人信息\NewDocumentCommand \ProposalReportinformation { }  {    \par \noindent    论文题目：\CJKunderline*{ \l__whu_info_title_tl }\\[10pt]    学院：\CJKunderline*{ \l__whu_info_department_tl } \c_space_tl    学号：\CJKunderline*{ \l__whu_info_student_id_tl } \c_space_tl    姓名：\CJKunderline*{ \l__whu_info_author_tl }  }% 本科任务书落款\NewDocumentCommand \ProposalTasksSignature { }  {    \dim_compare:nNnTF      { \pagetotal } < { .5 \textheight }      { \vfil \null \vfil }      {        \dim_compare:nNnTF          { \pagegoal - \pagetotal } < { 8em }          { \vfill }          { \vfil \null \vfil }      }    \noindent    指导老师签名：\CJKunderline*{\hspace*{10em}}  \hfill    年 \hspace*{2em} 月 \hspace*{2em} 日  }% 本科任务书落款\NewDocumentCommand \ProposalReportSignature { }  {    \dim_compare:nNnTF      { \pagetotal } < { .5 \textheight }      { \vfil }      {        \dim_compare:nNnTF          { \pagegoal - \pagetotal } < { 8em }          { \vfill }          { \vfil \null \vfil }      }    \begin{flushright}      指导老师签名：\hspace*{8em} \null\\[5pt]      年 \hspace*{2em} 月 \hspace*{2em} 日    \end{flushright}  }"><div></div></button></div></figure></div>
<p>以 <code>ProposalReportSignature</code> 为例</p>
<p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 961.0499877929688 271.6041717529297" style="max-width: 961.0499877929688px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-1"><style>#mermaid-1{font-family:arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1 .error-icon{fill:#552222;}#mermaid-1 .error-text{fill:#552222;stroke:#552222;}#mermaid-1 .edge-thickness-normal{stroke-width:2px;}#mermaid-1 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1 .marker{fill:#333333;stroke:#333333;}#mermaid-1 .marker.cross{stroke:#333333;}#mermaid-1 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-1 .label{font-family:arial,sans-serif;color:#333;}#mermaid-1 .cluster-label text{fill:#333;}#mermaid-1 .cluster-label span,#mermaid-1 p{color:#333;}#mermaid-1 .label text,#mermaid-1 span,#mermaid-1 p{fill:#333;color:#333;}#mermaid-1 .node rect,#mermaid-1 .node circle,#mermaid-1 .node ellipse,#mermaid-1 .node polygon,#mermaid-1 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1 .flowchart-label text{text-anchor:middle;}#mermaid-1 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-1 .node .label{text-align:center;}#mermaid-1 .node.clickable{cursor:pointer;}#mermaid-1 .arrowheadPath{fill:#333333;}#mermaid-1 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-1 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1 .cluster text{fill:#333;}#mermaid-1 .cluster span,#mermaid-1 p{color:#333;}#mermaid-1 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-1 :root{--mermaid-font-family:arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-1_flowchart-pointEnd"><path style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-1_flowchart-pointStart"><path style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-1_flowchart-circleEnd"><circle style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="mermaid-1_flowchart-circleStart"><circle style="stroke-width: 1px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-1_flowchart-crossEnd"><path style="stroke-width: 2px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="mermaid-1_flowchart-crossStart"><path style="stroke-width: 2px; stroke-dasharray: 1px, 0px;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-1_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-start LE-haft" id="L-start-haft-0" d="M199.133,110.817L203.3,110.817C207.467,110.817,215.8,110.817,223.334,110.883C230.867,110.949,237.601,111.081,240.968,111.147L244.334,111.213"></path><path marker-end="url(#mermaid-1_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-haft LE-fill" id="L-haft-fill-0" d="M437.107,77.157L447.846,72.251C458.585,67.345,480.063,57.533,509.547,52.627C539.031,47.721,576.519,47.721,614.008,47.721C651.497,47.721,688.986,47.721,716.808,49.412C744.63,51.103,762.785,54.485,771.862,56.176L780.94,57.867"></path><path marker-end="url(#mermaid-1_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-haft LE-em" id="L-haft-em-0" d="M437.107,145.476L447.846,150.216C458.585,154.955,480.063,164.434,495.132,169.242C510.2,174.051,518.859,174.189,523.188,174.259L527.517,174.328"></path><path marker-end="url(#mermaid-1_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-em LE-fill" id="L-em-fill-0" d="M671.641,149.853L680.78,145.805C689.919,141.758,708.197,133.662,726.591,122.239C744.985,110.816,763.495,96.065,772.75,88.689L782.005,81.314"></path><path marker-end="url(#mermaid-1_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-em LE-fnf" id="L-em-fnf-0" d="M684.129,186.484L691.187,187.638C698.244,188.793,712.36,191.103,723.663,192.258C734.967,193.412,743.458,193.412,747.704,193.412L751.95,193.412"></path><path marker-end="url(#mermaid-1_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-fill LE-endd" id="L-fill-endd-0" d="M825.15,62.471L834.133,62.471C843.117,62.471,861.083,62.471,874.378,67.052C887.673,71.633,896.296,80.795,900.607,85.376L904.918,89.957"></path><path marker-end="url(#mermaid-1_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-fnf LE-endd" id="L-fnf-endd-0" d="M854.05,193.412L858.217,193.412C862.383,193.412,870.717,193.412,880.48,183.254C890.243,173.095,901.435,152.777,907.032,142.618L912.628,132.459"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(614.0083312988281, 47.72083282470703)" class="edgeLabel"><g transform="translate(-5.333335876464844, -9.5)" class="label"><foreignObject height="19" width="10.666671752929688"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Y</span></div></foreignObject></g></g><g transform="translate(501.54166412353516, 173.9124984741211)" class="edgeLabel"><g transform="translate(-5.775001525878906, -9.5)" class="label"><foreignObject height="19" width="11.550003051757812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">N</span></div></foreignObject></g></g><g transform="translate(726.4749984741211, 125.56666564941406)" class="edgeLabel"><g transform="translate(-5.333335876464844, -9.5)" class="label"><foreignObject height="19" width="10.666671752929688"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">Y</span></div></foreignObject></g></g><g transform="translate(726.4749984741211, 193.4124984741211)" class="edgeLabel"><g transform="translate(-5.775001525878906, -9.5)" class="label"><foreignObject height="19" width="11.550003051757812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">N</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(99.56666564941406, 110.81666564941406)" data-id="start" data-node="true" id="flowchart-start-31" class="node default default flowchart-label"><rect height="34" width="199.13333129882812" y="-17" x="-99.56666564941406" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-92.06666564941406, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="184.13333129882812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">\ProposalReportSignature</span></div></foreignObject></g></g><g transform="translate(614.0083312988281, 173.9124984741211)" data-id="em" data-node="true" id="flowchart-em-32" class="node default default flowchart-label"><polygon style="" transform="translate(-81.69166564941406,81.69166564941406)" class="label-container" points="81.69166564941406,0 163.38333129882812,-81.69166564941406 81.69166564941406,-163.38333129882812 0,-81.69166564941406"></polygon><g transform="translate(-57.19166564941406, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="114.38333129882812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">当前页剩余 &#x3C; 8em</span></div></foreignObject></g></g><g transform="translate(359.9499969482422, 110.81666564941406)" data-id="haft" data-node="true" id="flowchart-haft-33" class="node default default flowchart-label"><polygon style="" transform="translate(-110.81666564941406,110.81666564941406)" class="label-container" points="110.81666564941406,0 221.63333129882812,-110.81666564941406 110.81666564941406,-221.63333129882812 0,-110.81666564941406"></polygon><g transform="translate(-86.31666564941406, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="172.63333129882812"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">当前位置 &#x3C; 文本区高度 * 0.5</span></div></foreignObject></g></g><g transform="translate(805.6500015258789, 62.47083282470703)" data-id="fill" data-node="true" id="flowchart-fill-34" class="node default default flowchart-label"><rect height="34" width="39" y="-17" x="-19.5" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-12, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">\vfil</span></div></foreignObject></g></g><g transform="translate(805.6500015258789, 193.4124984741211)" data-id="fnf" data-node="true" id="flowchart-fnf-35" class="node default default flowchart-label"><rect height="34" width="96.80000305175781" y="-17" x="-48.400001525878906" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-40.900001525878906, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="81.80000305175781"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">\vfil\ null\vfil</span></div></foreignObject></g></g><g transform="translate(924.5500030517578, 110.81666564941406)" data-id="endd" data-node="true" id="flowchart-endd-36" class="node default default flowchart-label"><rect height="34" width="41" y="-17" x="-20.5" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-13, -9.5)" style="" class="label"><rect></rect><foreignObject height="19" width="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="nodeLabel">签名</span></div></foreignObject></g></g></g></g></g></svg></p>
<p>即将签名放到页面最下放</p>
<h2 id="中文封面">中文封面</h2>
<h3 id="本科">本科</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 本科</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_i:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\newgeometry</span><span style="--0:#E1E4E8;--1:#24292E"> { hmargin = 2.445 cm , vmargin = 2.54cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% logo and type</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_i_logo_and_type:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 论文标题</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_i_title:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 个人信息</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_i_information:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 时间</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_i_date_zh:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\restoregeometry</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag logo-and-type</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_i_logo_and_type:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\mode_leave_vertical:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.01 cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[t][3.85cm]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\includegraphics</span><span style="--0:#E1E4E8;--1:#24292E">[ width = 5.5cm ]{ logo / whu-name.pdf }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 0.46 cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{2} </span><span style="--0:#79B8FF;--1:#005CC5">\bfseries</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_type_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 论文标题</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_i_title:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.62cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[t][5.01cm]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 0.5cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{1} </span><span style="--0:#79B8FF;--1:#005CC5">\kaishu</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 个人信息</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_i_information:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_set:Nx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_author_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_student_id_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_major_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_department_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_supervisor_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_set:Nx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_clist</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_author_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_student_id_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_major_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_department_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[t][4.5cm]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 0.26cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\bool_until_do:nn</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\clist_if_empty_p:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\clist_pop:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\clist_pop:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_clist </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{3.65cm}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 4em } { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\skip_horizontal:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 0.25cm } ：</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\makebox</span><span style="--0:#E1E4E8;--1:#24292E">[6.91cm][c]{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 0.158cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 时间</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_i_date_zh:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 4.85cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[c][0.83cm]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zhdigits</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_year_int }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\,</span><span style="--0:#E1E4E8;--1:#24292E"> 年 </span><span style="--0:#79B8FF;--1:#005CC5">\,</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zhnumber</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_month_int }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\,</span><span style="--0:#E1E4E8;--1:#24292E"> 月</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%region 本科\cs_new_protected:Npn \__whu_bachelor_cover_i:  {    \newgeometry { hmargin = 2.445 cm , vmargin = 2.54cm }    % logo and type    \__whu_bachelor_cover_i_logo_and_type:    % 论文标题    \__whu_bachelor_cover_i_title:    % 个人信息    \__whu_bachelor_cover_i_information:    % 时间    \__whu_bachelor_cover_i_date_zh:    \restoregeometry  }%tag logo-and-type\cs_new_protected:Npn \__whu_bachelor_cover_i_logo_and_type:  {    \mode_leave_vertical:    \skip_vertical:n { 2.01 cm }    \noindent    \begin{minipage}[t][3.85cm]{\textwidth}      \centering      \includegraphics[ width = 5.5cm ]{ logo / whu-name.pdf }      \skip_vertical:n { 0.46 cm }      \zihao{2} \bfseries \c__whu_name_type_tl    \end{minipage}\par  }%tag 论文标题\cs_new_protected:Npn \__whu_bachelor_cover_i_title:  {    \skip_vertical:n { 2.62cm }    \noindent    \begin{minipage}[t][5.01cm]{\textwidth}      \skip_vertical:n { 0.5cm }      \centering \zihao{1} \kaishu      \l__whu_info_title_tl    \end{minipage}\par  }%tag 个人信息\cs_new_protected:Npn \__whu_bachelor_cover_i_information:  {    \clist_set:Nx \l__whu_tmpa_clist      {        \c__whu_name_author_tl,        \c__whu_name_student_id_tl,        \c__whu_name_major_tl,        \c__whu_name_department_tl,        \c__whu_name_supervisor_tl      }    \clist_set:Nx \l__whu_tmpb_clist      {        \l__whu_info_author_tl,        \l__whu_info_student_id_tl,        \l__whu_info_major_tl,        \l__whu_info_department_tl,        \l__whu_info_supervisor_tl      }    \noindent    \begin{minipage}[t][4.5cm]{\textwidth}      \zihao{4}      \skip_vertical:n { 0.26cm }      \bool_until_do:nn        { \clist_if_empty_p:N \l__whu_tmpa_clist }        {          \clist_pop:NN \l__whu_tmpa_clist \l__whu_tmpa_tl          \clist_pop:NN \l__whu_tmpb_clist \l__whu_tmpb_tl          \hspace*{3.65cm}          \__whu_spread_box:nn { 4em } { \l__whu_tmpa_tl }          \skip_horizontal:n { 0.25cm } ：          \makebox[6.91cm][c]{ \l__whu_tmpb_tl }          \skip_vertical:n { 0.158cm }        }    \end{minipage}\par  }%tag 时间\cs_new_protected:Npn \__whu_bachelor_cover_i_date_zh:  {    \skip_vertical:n { 4.85cm }    \noindent    \begin{minipage}[c][0.83cm]{\textwidth}      \centering \zihao{4}      \zhdigits { \int_use:N \l__whu_info_year_int }      \, 年 \,      \zhnumber { \int_use:N \l__whu_info_month_int }      \, 月    \end{minipage}  }"><div></div></button></div></figure></div>
<p>本科论文的封面由 logo, title, info, date 组成。</p>
<p>封面使用的边距不同于内容，此处通过 <code>\newgeometry</code> 调整了外边距，并在结束处使用 <code>\restoregeometry</code> 恢复</p>
<h3 id="硕士">硕士</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 硕士</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\newgeometry</span><span style="--0:#E1E4E8;--1:#24292E"> { hmargin = 2.445 cm , vmargin = 2.54cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 顶部四项</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i_topmatter:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% logo 和 type</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i_logo_and_type:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% class (academic or professional)</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i_class:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 论文标题</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i_title:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 个人信息</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i_information:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 时间</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i_date_zh:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\restoregeometry</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 顶部四项</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i_topmatter:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[b][0.9cm][b]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\fangsong</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4} </span><span style="--0:#79B8FF;--1:#005CC5">\mode_leave_vertical:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box_with_end_spaces:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.04cm } { 分类号 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\hbox_to_wd:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.41cm } { </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_clc_tl </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E"> } }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box_with_end_spaces:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 1.67cm } { 密级 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\hbox_to_wd:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.4cm } { </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_secret_level_tl </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E"> } }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span><span style="--0:#79B8FF;--1:#005CC5">\par\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[b][0.9cm][b]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\fangsong</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4} </span><span style="--0:#79B8FF;--1:#005CC5">\mode_leave_vertical:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box_with_end_spaces:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.04cm } { UDC }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\hbox_to_wd:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.41cm } { </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_udc_tl </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E"> } }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box_with_end_spaces:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 1.67cm } { 编号 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\hbox_to_wd:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.4cm } { </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E"> 10486 </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E"> } }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 2cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag logo-and-type</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i_logo_and_type:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[t][3.5cm]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\includegraphics</span><span style="--0:#E1E4E8;--1:#24292E"> [ width = 5 cm ] { logo / whu-name.pdf }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 0.57cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{2} </span><span style="--0:#79B8FF;--1:#005CC5">\bfseries</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box_with_quad:n</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_type_tl } }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\vfil</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag class (academic or professional)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i_class:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[t][2.25cm]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 0.2cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2} </span><span style="--0:#79B8FF;--1:#005CC5">\bfseries</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">（</span><span style="--0:#79B8FF;--1:#005CC5">\use:c</span><span style="--0:#E1E4E8;--1:#24292E"> { c__whu_name_ </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_class_tl _tl}）</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 论文标题</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i_title:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[t][4.49cm]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 0.23cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{1} </span><span style="--0:#79B8FF;--1:#005CC5">\kaishu</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 个人信息</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i_information:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\str_case:xn</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\tl_to_str:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_class_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ academic } { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_academic_cover_information:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ professional } { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_professional_cover_information:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 学术学位</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_academic_cover_information:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_set:Nx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_author_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_student_id_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_supervisor_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_subject_major_academic_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_research_area_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_set:Nx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_clist</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_author_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_student_id_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_tl </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_academic_title_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_subject_tl、</span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_major_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_research_area_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[t][5.55cm]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 0.35cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\bool_until_do:nn</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\clist_if_empty_p:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\clist_pop:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\clist_pop:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_clist </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{2.19cm}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box_with_end_spaces:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 4.67cm } { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\makebox</span><span style="--0:#E1E4E8;--1:#24292E">[0.42cm][c]{：}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box_with_end_spaces:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 6.17cm } { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { .185cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 1.95cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 专业学位 (比学术学位多一个校外导师项)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_professional_cover_information:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_set:Nx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_author_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_student_id_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_supervisor_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_supervisor_outer_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_subject_major_professional_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_research_area_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_set:Nx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_clist</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_author_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_student_id_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_tl </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_academic_title_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_outer_tl </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_outer_academic_title_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_subject_tl、</span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_major_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_research_area_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[t][6.66cm]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 0.35cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\bool_until_do:nn</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\clist_if_empty_p:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\clist_pop:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_clist </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\clist_pop:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_clist </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{2.19cm}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box_with_end_spaces:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 4.67cm } { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\makebox</span><span style="--0:#E1E4E8;--1:#24292E">[0.42cm][c]{：}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box_with_end_spaces:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 6.17cm } { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpb_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { .185cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 1.95cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion 个人信息</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 时间</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i_date_zh:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[c][0.81cm]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\heiti</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E"> { 3 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zhdigits</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_year_int}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">年</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zhnumber</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_month_int }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">月</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion 硕士</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%region 硕士\cs_new_protected:Npn \__whu_master_cover_i:  {    \newgeometry { hmargin = 2.445 cm , vmargin = 2.54cm }    % 顶部四项    \__whu_master_cover_i_topmatter:    % logo 和 type    \__whu_master_cover_i_logo_and_type:    % class (academic or professional)    \__whu_master_cover_i_class:    % 论文标题    \__whu_master_cover_i_title:    % 个人信息    \__whu_master_cover_i_information:    % 时间    \__whu_master_cover_i_date_zh:    \restoregeometry  }%tag 顶部四项\cs_new_protected:Npn \__whu_master_cover_i_topmatter:  {    \noindent    \begin{minipage}[b][0.9cm][b]{\textwidth}      \fangsong \zihao{4} \mode_leave_vertical:      \__whu_spread_box_with_end_spaces:nn { 2.04cm } { 分类号 }      \CJKunderline { \hbox_to_wd:nn { 2.41cm } { \hfill \l__whu_info_clc_tl \hfill } }      \hfill      \__whu_spread_box_with_end_spaces:nn { 1.67cm } { 密级 }      \CJKunderline { \hbox_to_wd:nn { 2.4cm } { \hfill \l__whu_info_secret_level_tl \hfill } }    \end{minipage}\par\noindent    \begin{minipage}[b][0.9cm][b]{\textwidth}      \fangsong \zihao{4} \mode_leave_vertical:      \__whu_spread_box_with_end_spaces:nn { 2.04cm } { UDC }      \CJKunderline { \hbox_to_wd:nn { 2.41cm } { \hfill \l__whu_info_udc_tl \hfill } }      \hfill      \__whu_spread_box_with_end_spaces:nn { 1.67cm } { 编号 }      \CJKunderline { \hbox_to_wd:nn { 2.4cm } { \hfill 10486 \hfill } }    \end{minipage}\par    \skip_vertical:n { 2cm }  }%tag logo-and-type\cs_new_protected:Npn \__whu_master_cover_i_logo_and_type:  {    \noindent    \begin{minipage}[t][3.5cm]{\textwidth}      \centering      \includegraphics [ width = 5 cm ] { logo / whu-name.pdf }      \skip_vertical:n { 0.57cm }      { \zihao{2} \bfseries        \__whu_spread_box_with_quad:n { \c__whu_name_type_tl } }      \vfil    \end{minipage}\par  }%tag class (academic or professional)\cs_new_protected:Npn \__whu_master_cover_i_class:  {    \noindent    \begin{minipage}[t][2.25cm]{\textwidth}      \skip_vertical:n { 0.2cm }      \centering \zihao{-2} \bfseries        （\use:c { c__whu_name_ \g__whu_thesis_class_tl _tl}）    \end{minipage}\par  }%tag 论文标题\cs_new_protected:Npn \__whu_master_cover_i_title:  {    \noindent    \begin{minipage}[t][4.49cm]{\textwidth}      \skip_vertical:n { 0.23cm }      \centering \zihao{1} \kaishu \l__whu_info_title_tl    \end{minipage}\par  }%region 个人信息\cs_new:Npn \__whu_master_cover_i_information:  {    \str_case:xn { \tl_to_str:N \g__whu_thesis_class_tl }      {        { academic } { \__whu_master_academic_cover_information: }        { professional } { \__whu_master_professional_cover_information: }      }  }%tag 学术学位\cs_new_protected:Npn \__whu_master_academic_cover_information:  {    \clist_set:Nx \l__whu_tmpa_clist      {        \c__whu_name_author_tl,        \c__whu_name_student_id_tl,        \c__whu_name_supervisor_tl,        \c__whu_name_subject_major_academic_tl,        \c__whu_name_research_area_tl      }    \clist_set:Nx \l__whu_tmpb_clist      {        \l__whu_info_author_tl,        \l__whu_info_student_id_tl,        \l__whu_info_supervisor_tl \l__whu_info_supervisor_academic_title_tl,        \l__whu_info_subject_tl、\l__whu_info_major_tl,        \l__whu_info_research_area_tl      }    \noindent    \begin{minipage}[t][5.55cm]{\textwidth}      \zihao{4}      \skip_vertical:n { 0.35cm }      \bool_until_do:nn        { \clist_if_empty_p:N \l__whu_tmpa_clist }        {          \clist_pop:NN \l__whu_tmpa_clist \l__whu_tmpa_tl          \clist_pop:NN \l__whu_tmpb_clist \l__whu_tmpb_tl          \hspace*{2.19cm}          \__whu_spread_box_with_end_spaces:nn { 4.67cm } { \l__whu_tmpa_tl }          \makebox[0.42cm][c]{：}          \__whu_spread_box_with_end_spaces:nn { 6.17cm } { \l__whu_tmpb_tl }          \skip_vertical:n { .185cm }        }    \end{minipage}\par    \skip_vertical:n { 1.95cm }  }%tag 专业学位 (比学术学位多一个校外导师项)\cs_new_protected:Npn \__whu_master_professional_cover_information:  {    \clist_set:Nx \l__whu_tmpa_clist      {        \c__whu_name_author_tl,        \c__whu_name_student_id_tl,        \c__whu_name_supervisor_tl,        \c__whu_name_supervisor_outer_tl,        \c__whu_name_subject_major_professional_tl,        \c__whu_name_research_area_tl      }    \clist_set:Nx \l__whu_tmpb_clist      {        \l__whu_info_author_tl,        \l__whu_info_student_id_tl,        \l__whu_info_supervisor_tl \l__whu_info_supervisor_academic_title_tl,        \l__whu_info_supervisor_outer_tl \l__whu_info_supervisor_outer_academic_title_tl,        \l__whu_info_subject_tl、\l__whu_info_major_tl,        \l__whu_info_research_area_tl      }    \noindent    \begin{minipage}[t][6.66cm]{\textwidth}      \zihao{4}      \skip_vertical:n { 0.35cm }      \bool_until_do:nn        { \clist_if_empty_p:N \l__whu_tmpa_clist }        {          \clist_pop:NN \l__whu_tmpa_clist \l__whu_tmpa_tl          \clist_pop:NN \l__whu_tmpb_clist \l__whu_tmpb_tl          \hspace*{2.19cm}          \__whu_spread_box_with_end_spaces:nn { 4.67cm } { \l__whu_tmpa_tl }          \makebox[0.42cm][c]{：}          \__whu_spread_box_with_end_spaces:nn { 6.17cm } { \l__whu_tmpb_tl }          \skip_vertical:n { .185cm }        }    \end{minipage}\par    \skip_vertical:n { 1.95cm }  }%endregion 个人信息%tag 时间\cs_new_protected:Npn \__whu_master_cover_i_date_zh:  {    \noindent    \begin{minipage}[c][0.81cm]{\textwidth}      \centering \heiti \zihao { 3 }      \zhdigits { \int_use:N \l__whu_info_year_int}      年      \zhnumber { \int_use:N \l__whu_info_month_int }      月    \end{minipage}  }%endregion 硕士"><div></div></button></div></figure></div>
<h3 id="博士">博士</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 博士</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_cover_i:</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion 博士</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion 中文封面</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%region 博士\cs_set_eq:NN \__whu_doctor_cover_i: \__whu_master_cover_i:%endregion 博士%endregion 中文封面"><div></div></button></div></figure></div>
<p>博士封面与硕士封面的布局一样，唯一的区别就是 logo 下方的论文类型，</p>
<p>一个是“博士学位论文”，一个是“硕士学位论文”</p>
<h2 id="英文封面">英文封面</h2>
<h3 id="本科-1">本科</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 本科生是否显示英文封面（教务处规范中没有，黄老师模版中有）</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_define:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / style }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bachelor-encover </span><span style="--0:#79B8FF;--1:#005CC5">.bool_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bachelor_english_cover_bool,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bachelor-encover </span><span style="--0:#79B8FF;--1:#005CC5">.initial:n</span><span style="--0:#E1E4E8;--1:#24292E"> = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bachelor-encover </span><span style="--0:#79B8FF;--1:#005CC5">.default:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_ii:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{tikzpicture} [ remember~picture, overlay ]</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% 类型</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_ii_type:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% 标题</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_ii_title:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% 个人信息</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_ii_information:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% 时间</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_ii_date_en:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% 学校名和logo</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_ii_logo:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{tikzpicture}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 类型</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_ii_type:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> [ anchor = north ] at</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">( [ shift = { ( 0 , -0.07</span><span style="--0:#79B8FF;--1:#005CC5">\textheight</span><span style="--0:#E1E4E8;--1:#24292E"> ) } ] current~page~text~area.north )</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\bfseries</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\parbox</span><span style="--0:#E1E4E8;--1:#24292E"> { 0.6</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\large</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\linespread</span><span style="--0:#E1E4E8;--1:#24292E">{1.4}</span><span style="--0:#79B8FF;--1:#005CC5">\selectfont</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_type_en_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 标题</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_ii_title:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> (title) at</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">( [ shift = { ( 0 , -0.29</span><span style="--0:#79B8FF;--1:#005CC5">\textheight</span><span style="--0:#E1E4E8;--1:#24292E"> ) } ] current~page~text~area.north )</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{2} </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\linespread</span><span style="--0:#E1E4E8;--1:#24292E">{1.2}</span><span style="--0:#79B8FF;--1:#005CC5">\selectfont</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_en_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 个人信息</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_ii_information:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> (information) at</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">( [shift = {(0em, 0em)}]current~page~text~area.center )</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_put_left:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_en_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_academic_title_en_tl .~ }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{tabular}{r@{</span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">{.5em}}l}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_department_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_department_en_tl </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_major_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_major_en_tl</span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_author_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\textsc</span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_author_en_tl } </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_supervisor_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\textsc</span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_en_tl } </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{tabular}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 学校名和logo</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_ii_logo:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> [anchor = south] at ([ shift = { ( 0 , 2.5em ) } ] date.north)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{tabular}{c}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\includegraphics</span><span style="--0:#E1E4E8;--1:#24292E">[width=4cm]{./logo/whu-logo.pdf} </span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[3pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\textsc</span><span style="--0:#E1E4E8;--1:#24292E">{Wuhan~University}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{tabular}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 时间</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\prop_const_from_keyval:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_month_prop</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">1  = Jan,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">2  = Feb,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">3  = Mar,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">4  = Apr,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">5  = May,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">6  = Jun,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">7  = Jul,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">8  = Aug,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">9  = Sept,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">10 = Oct,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">11 = Nov,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">12 = Dec,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_month_cover_to_english_version:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\prop_get:NnN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_month_prop {#1} </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_tmpa_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_generate_variant:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_month_cover_to_english_version:n</span><span style="--0:#E1E4E8;--1:#24292E"> { V }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_ii_date_en:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> [anchor = south] (date) at</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">([ shift = { ( 0 , 0.05</span><span style="--0:#79B8FF;--1:#005CC5">\textheight</span><span style="--0:#E1E4E8;--1:#24292E"> ) } ] current~page~text~area.south)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_month_cover_to_english_version:V</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_month_int, </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_space_tl </span><span style="--0:#79B8FF;--1:#005CC5">\int_use:N\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_year_int</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="% 本科生是否显示英文封面（教务处规范中没有，黄老师模版中有）\keys_define:nn { whu / style }  {    bachelor-encover .bool_set:N = \l__whu_bachelor_english_cover_bool,    bachelor-encover .initial:n = false,    bachelor-encover .default:n = true  }  \cs_new:Npn \__whu_bachelor_cover_ii:  {    \begin{tikzpicture} [ remember~picture, overlay ]      % 类型      \__whu_bachelor_cover_ii_type:      % 标题      \__whu_bachelor_cover_ii_title:      % 个人信息      \__whu_bachelor_cover_ii_information:      % 时间      \__whu_bachelor_cover_ii_date_en:      % 学校名和logo      \__whu_bachelor_cover_ii_logo:    \end{tikzpicture}  }%tag 类型\cs_new:Npn \__whu_bachelor_cover_ii_type:  {    \node [ anchor = north ] at      ( [ shift = { ( 0 , -0.07\textheight ) } ] current~page~text~area.north )      {        \bfseries        \parbox { 0.6\textwidth }          {            \centering \large \linespread{1.4}\selectfont            \c__whu_name_type_en_tl            \par          }      };  }%tag 标题\cs_new:Npn \__whu_bachelor_cover_ii_title:  {    \node (title) at      ( [ shift = { ( 0 , -0.29\textheight ) } ] current~page~text~area.north )      {        \begin{minipage}{\textwidth}          \zihao{2} \centering \linespread{1.2}\selectfont          \l__whu_info_title_en_tl        \end{minipage}      };  }%tag 个人信息\cs_new:Npn \__whu_bachelor_cover_ii_information:  {    \node (information) at      ( [shift = {(0em, 0em)}]current~page~text~area.center )      {        \tl_put_left:Nn \l__whu_info_supervisor_en_tl          { \l__whu_info_supervisor_academic_title_en_tl .~ }        \begin{tabular}{r@{\hspace{.5em}}l}          \c__whu_name_department_en_tl : &#x26; \l__whu_info_department_en_tl \\          \c__whu_name_major_en_tl : &#x26; \l__whu_info_major_en_tl\\          \c__whu_name_author_en_tl : &#x26; \textsc{ \l__whu_info_author_en_tl } \\          \c__whu_name_supervisor_en_tl : &#x26; \textsc{ \l__whu_info_supervisor_en_tl } \\        \end{tabular}      };  }%tag 学校名和logo\cs_new:Npn \__whu_bachelor_cover_ii_logo:  {    \node [anchor = south] at ([ shift = { ( 0 , 2.5em ) } ] date.north)      {        \zihao{-2}        \begin{tabular}{c}          \includegraphics[width=4cm]{./logo/whu-logo.pdf} \\[3pt]          \textsc{Wuhan~University}        \end{tabular}      };  }%tag 时间\prop_const_from_keyval:Nn \l__whu_month_prop  {    1  = Jan,    2  = Feb,    3  = Mar,    4  = Apr,    5  = May,    6  = Jun,    7  = Jul,    8  = Aug,    9  = Sept,    10 = Oct,    11 = Nov,    12 = Dec,  }\cs_new:Npn \__whu_month_cover_to_english_version:n #1  {    \prop_get:NnN \l__whu_month_prop {#1} \l__whu_tmpa_tl    \l__whu_tmpa_tl  }\cs_generate_variant:Nn \__whu_month_cover_to_english_version:n { V }\cs_new:Npn \__whu_bachelor_cover_ii_date_en:  {    \node [anchor = south] (date) at      ([ shift = { ( 0 , 0.05\textheight ) } ] current~page~text~area.south)      {        \zihao{-2}        \__whu_month_cover_to_english_version:V \l__whu_info_month_int, \c_space_tl \int_use:N\l__whu_info_year_int      };  }"><div></div></button></div></figure></div>
<p>这边的个人信息部分竟然是表格 :)</p>
<p>不太明白这里为什么要用 <code>tikzpicture</code> 环境，WHU 这么干一定有它的道理</p>
<h3 id="硕士-1">硕士</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 硕士</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_ii:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\pdfbookmark</span><span style="--0:#E1E4E8;--1:#24292E">{英文封面}{titlepage-en}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_if_eq:NnTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cover_en_type_tl { normal }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{tikzpicture} [ remember~picture, overlay ]</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#99A0A6;--1:#616972">% 标题</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_ii_title:</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#99A0A6;--1:#616972">% 个人信息</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_ii_information:</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#99A0A6;--1:#616972">% 时间</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_ii_date_en:</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#99A0A6;--1:#616972">% 学校名和logo</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_ii_logo:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{tikzpicture}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_if_eq:NnT</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cover_en_type_tl { cs }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cs_cover_ii:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 标题</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_ii_title:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> (title) at</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">( [ shift = { ( 0 , -0.1</span><span style="--0:#79B8FF;--1:#005CC5">\textheight</span><span style="--0:#E1E4E8;--1:#24292E"> ) } ] current~page~text~area.north )</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{2} </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\linespread</span><span style="--0:#E1E4E8;--1:#24292E">{1.2}</span><span style="--0:#79B8FF;--1:#005CC5">\selectfont</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_en_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 个人信息</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_ii_information:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> (information) at</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">( [shift = {(3em, 5em)}]current~page~text~area.center )</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_put_left:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_en_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_academic_title_en_tl .~ }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\arraystretch</span><span style="--0:#E1E4E8;--1:#24292E"> { 1.2 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\AddToHookNext</span><span style="--0:#E1E4E8;--1:#24292E"> { env / tabular / begin }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4} }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{tabular}{r@{</span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">{.5em}}l}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_author_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\textsc</span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_author_en_tl } </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_student_id_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_student_id_tl </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_supervisor_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\textsc</span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_en_tl } </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_major_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_major_en_tl </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_research_area_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_research_area_en_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{tabular}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 学校名和 logo</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_ii_logo:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> [anchor = south] at ([ shift = { ( 0 , 2em ) } ] date.north)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{tabular}{c}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\includegraphics</span><span style="--0:#E1E4E8;--1:#24292E">[width=4cm]{./logo/whu-logo.pdf} </span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[3pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2}</span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_department_en_tl </span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[3pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2}</span><span style="--0:#79B8FF;--1:#005CC5">\textsc</span><span style="--0:#E1E4E8;--1:#24292E">{Wuhan~University}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{tabular}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 时间</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_ii_date_en:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> [anchor = south] (date) at</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">([ shift = { ( 0 , 0.01</span><span style="--0:#79B8FF;--1:#005CC5">\textheight</span><span style="--0:#E1E4E8;--1:#24292E"> ) } ] current~page~text~area.south)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_month_cover_to_english_version:V</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_month_int, </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_space_tl </span><span style="--0:#79B8FF;--1:#005CC5">\int_use:N\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_year_int</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 计算机学院、网络安全学院英文封面，依据为计算机学院于</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 2023-05-10 发布的链接文件 https://cs.whu.edu.cn/info/1140/4335.htm</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cs_cover_ii:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{tikzpicture}[ remember~picture, overlay, align=center ]</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> at ([shift = {(0,-4.16cm)}]current~page~text~area.north)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{2} </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\linespread</span><span style="--0:#E1E4E8;--1:#24292E">{1.2}</span><span style="--0:#79B8FF;--1:#005CC5">\selectfont</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_en_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> at ([shift={(0,1.35cm)}]current~page~text~area.center)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4} By </span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_author_en_tl };</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> at ([shift={(0,-2.75cm)}]current~page~text~area.center)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4} Supervised~by </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_academic_title_en_tl .</span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_space_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_en_tl };</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> [anchor=south] at ([shift={(0,1.45cm)}]current~page~text~area.south)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4} Wuhan~University </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_month_cover_to_english_version:V</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_month_int, </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_space_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\int_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_year_int };</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% 用于对比测试</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% \node at (current~page.center)</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">%   { \includegraphics[width = \paperwidth, height = \paperheight]{./reference/b.pdf} };</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{tikzpicture}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion 硕士</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%region 硕士\cs_new:Npn \__whu_master_cover_ii:  {    \pdfbookmark{英文封面}{titlepage-en}    \tl_if_eq:NnTF \l__whu_cover_en_type_tl { normal }      {        \begin{tikzpicture} [ remember~picture, overlay ]          % 标题          \__whu_master_cover_ii_title:          % 个人信息          \__whu_master_cover_ii_information:          % 时间          \__whu_master_cover_ii_date_en:          % 学校名和logo          \__whu_master_cover_ii_logo:        \end{tikzpicture}      }      {        \tl_if_eq:NnT \l__whu_cover_en_type_tl { cs }          {            \__whu_master_cs_cover_ii:          }      }  }%tag 标题\cs_new:Npn \__whu_master_cover_ii_title:  {    \node (title) at      ( [ shift = { ( 0 , -0.1\textheight ) } ] current~page~text~area.north )      {        \begin{minipage}{\textwidth}          \zihao{2} \centering \linespread{1.2}\selectfont          \l__whu_info_title_en_tl        \end{minipage}      };  }%tag 个人信息\cs_new:Npn \__whu_master_cover_ii_information:  {    \node (information) at      ( [shift = {(3em, 5em)}]current~page~text~area.center )      {        \tl_put_left:Nn \l__whu_info_supervisor_en_tl          { \l__whu_info_supervisor_academic_title_en_tl .~ }        \renewcommand \arraystretch { 1.2 }        \AddToHookNext { env / tabular / begin }          { \zihao{4} }        \begin{tabular}{r@{\hspace{.5em}}l}          \c__whu_name_author_en_tl : &#x26; \textsc{ \l__whu_info_author_en_tl } \\          \c__whu_name_student_id_en_tl : &#x26; \l__whu_info_student_id_tl \\          \c__whu_name_supervisor_en_tl : &#x26; \textsc{ \l__whu_info_supervisor_en_tl } \\          \c__whu_name_major_en_tl : &#x26; \l__whu_info_major_en_tl \\          \c__whu_name_research_area_en_tl : &#x26; \l__whu_info_research_area_en_tl        \end{tabular}      };  }%tag 学校名和 logo\cs_new:Npn \__whu_master_cover_ii_logo:  {    \node [anchor = south] at ([ shift = { ( 0 , 2em ) } ] date.north)      {        \begin{tabular}{c}          \includegraphics[width=4cm]{./logo/whu-logo.pdf} \\[3pt]          \zihao{-2}\l__whu_info_department_en_tl \\[3pt]          \zihao{-2}\textsc{Wuhan~University}        \end{tabular}      };  }%tag 时间\cs_new:Npn \__whu_master_cover_ii_date_en:  {    \node [anchor = south] (date) at      ([ shift = { ( 0 , 0.01\textheight ) } ] current~page~text~area.south)      {        \zihao{-2}        \__whu_month_cover_to_english_version:V \l__whu_info_month_int, \c_space_tl \int_use:N\l__whu_info_year_int      };  }% 计算机学院、网络安全学院英文封面，依据为计算机学院于% 2023-05-10 发布的链接文件 https://cs.whu.edu.cn/info/1140/4335.htm\cs_new:Npn \__whu_master_cs_cover_ii:  {    \begin{tikzpicture}[ remember~picture, overlay, align=center ]      \node at ([shift = {(0,-4.16cm)}]current~page~text~area.north)        {          \begin{minipage}{\textwidth}            \zihao{2} \centering \linespread{1.2}\selectfont            \l__whu_info_title_en_tl          \end{minipage}        };      \node at ([shift={(0,1.35cm)}]current~page~text~area.center)        { \zihao{4} By \\ \l__whu_info_author_en_tl };      \node at ([shift={(0,-2.75cm)}]current~page~text~area.center)        { \zihao{4} Supervised~by \\          \l__whu_info_supervisor_academic_title_en_tl .\c_space_tl          \l__whu_info_supervisor_en_tl };      \node [anchor=south] at ([shift={(0,1.45cm)}]current~page~text~area.south)        { \zihao{4} Wuhan~University \\          \__whu_month_cover_to_english_version:V \l__whu_info_month_int, \c_space_tl          \int_use:N \l__whu_info_year_int };      % 用于对比测试      % \node at (current~page.center)      %   { \includegraphics[width = \paperwidth, height = \paperheight]{./reference/b.pdf} };    \end{tikzpicture}  }%endregion 硕士"><div></div></button></div></figure></div>
<h3 id="博士-1">博士</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 博士</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_cover_ii:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\pdfbookmark</span><span style="--0:#E1E4E8;--1:#24292E">{英文封面}{titlepage-en}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{tikzpicture} [ remember~picture, overlay ]</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% 标题</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_cover_ii_title:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% 个人信息</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_cover_ii_information:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% 时间</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_cover_ii_date_en:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% 学校名和logo</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_cover_ii_logo:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{tikzpicture}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 标题</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_cover_ii_title:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> (title) at</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">( [ shift = { ( 0 , -0.1</span><span style="--0:#79B8FF;--1:#005CC5">\textheight</span><span style="--0:#E1E4E8;--1:#24292E"> ) } ] current~page~text~area.north )</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{2} </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\linespread</span><span style="--0:#E1E4E8;--1:#24292E">{1.2}</span><span style="--0:#79B8FF;--1:#005CC5">\selectfont</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_title_en_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 个人信息</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_cover_ii_information:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> (information) at</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">( [shift = {(3em, 5em)}]current~page~text~area.center )</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_put_left:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_en_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_academic_title_en_tl .~ }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\AddToHookNext</span><span style="--0:#E1E4E8;--1:#24292E"> { env / tabular / begin }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4} }</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\arraystretch</span><span style="--0:#E1E4E8;--1:#24292E"> { 1.2 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{tabular}{r@{</span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">{.5em}}l}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_author_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\textsc</span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_author_en_tl } </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_supervisor_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\textsc</span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_supervisor_en_tl } </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_major_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_major_en_tl </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_research_area_en_tl : &#x26; </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_research_area_en_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{tabular}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 学校名和logo</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_cover_ii_logo:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> [anchor = south] at ([ shift = { ( 0 , 2em ) } ] date.north)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\AddToHookNext</span><span style="--0:#E1E4E8;--1:#24292E"> { env / tabular / begin }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2} }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{tabular}{c}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\includegraphics</span><span style="--0:#E1E4E8;--1:#24292E">[width=4cm]{./logo/whu-logo.pdf} </span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[3pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_department_en_tl </span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[3pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\textsc</span><span style="--0:#E1E4E8;--1:#24292E">{Wuhan~University}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{tabular}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 时间</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_cover_ii_date_en:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\node</span><span style="--0:#E1E4E8;--1:#24292E"> [anchor = south] (date) at</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">([ shift = { ( 0 , 0.01</span><span style="--0:#79B8FF;--1:#005CC5">\textheight</span><span style="--0:#E1E4E8;--1:#24292E"> ) } ] current~page~text~area.south)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_month_cover_to_english_version:V</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_month_int</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_space_tl </span><span style="--0:#79B8FF;--1:#005CC5">\int_use:N\c</span><span style="--0:#E1E4E8;--1:#24292E">_sys_day_int, </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_space_tl </span><span style="--0:#79B8FF;--1:#005CC5">\int_use:N\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_year_int</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion 博士</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%region 博士\cs_new:Npn \__whu_doctor_cover_ii:  {    \pdfbookmark{英文封面}{titlepage-en}    \begin{tikzpicture} [ remember~picture, overlay ]      % 标题      \__whu_doctor_cover_ii_title:      % 个人信息      \__whu_doctor_cover_ii_information:      % 时间      \__whu_doctor_cover_ii_date_en:      % 学校名和logo      \__whu_doctor_cover_ii_logo:    \end{tikzpicture}  }%tag 标题\cs_new:Npn \__whu_doctor_cover_ii_title:  {    \node (title) at      ( [ shift = { ( 0 , -0.1\textheight ) } ] current~page~text~area.north )      {        \begin{minipage}{\textwidth}          \zihao{2} \centering \linespread{1.2}\selectfont          \l__whu_info_title_en_tl        \end{minipage}      };  }%tag 个人信息\cs_new:Npn \__whu_doctor_cover_ii_information:  {    \node (information) at      ( [shift = {(3em, 5em)}]current~page~text~area.center )      {        \tl_put_left:Nn \l__whu_info_supervisor_en_tl          { \l__whu_info_supervisor_academic_title_en_tl .~ }        \AddToHookNext { env / tabular / begin }          { \zihao{4} }          \renewcommand \arraystretch { 1.2 }        \begin{tabular}{r@{\hspace{.5em}}l}          \c__whu_name_author_en_tl : &#x26; \textsc{ \l__whu_info_author_en_tl } \\          \c__whu_name_supervisor_en_tl : &#x26; \textsc{ \l__whu_info_supervisor_en_tl } \\          \c__whu_name_major_en_tl : &#x26; \l__whu_info_major_en_tl \\          \c__whu_name_research_area_en_tl : &#x26; \l__whu_info_research_area_en_tl        \end{tabular}      };  }%tag 学校名和logo\cs_new:Npn \__whu_doctor_cover_ii_logo:  {    \node [anchor = south] at ([ shift = { ( 0 , 2em ) } ] date.north)      {        \AddToHookNext { env / tabular / begin }          { \zihao{-2} }        \begin{tabular}{c}          \includegraphics[width=4cm]{./logo/whu-logo.pdf} \\[3pt]          \l__whu_info_department_en_tl \\[3pt]          \textsc{Wuhan~University}        \end{tabular}      };  }%tag 时间\cs_new:Npn \__whu_doctor_cover_ii_date_en:  {    \node [anchor = south] (date) at      ([ shift = { ( 0 , 0.01\textheight ) } ] current~page~text~area.south)      {        \zihao{-2}        \__whu_month_cover_to_english_version:V \l__whu_info_month_int        \c_space_tl \int_use:N\c_sys_day_int, \c_space_tl \int_use:N\l__whu_info_year_int      };  }%endregion 博士"><div></div></button></div></figure></div>
<h2 id="原创声明">原创声明</h2>
<h3 id="本科原创性声明">本科原创性声明</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_originality_statement:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}[b][0.8cm]{</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2} </span><span style="--0:#79B8FF;--1:#005CC5">\heiti</span><span style="--0:#E1E4E8;--1:#24292E"> 原创性声明</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 1.3cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">本人郑重声明：所呈交的论文（设计），是本人在指导教师的指导下，严格按照学校和学院有关规定完成的。除文中已经标明引用的内容外，本论文（设计）不包含任何其他个人或集体已发表及撰写的研究成果。对本论文（设计）做出贡献的个人和集体，均已在文中以明确方式标明。本人承诺在论文（设计）工作过程中没有伪造数据等行为。若在本论文（设计）中有侵犯任何方面知识产权的行为，由本人承担相应的法律责任。</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 1.61cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{4.653cm} </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box:nn</span><span style="--0:#E1E4E8;--1:#24292E">{4em}{作者签名}： </span><span style="--0:#79B8FF;--1:#005CC5">\makebox</span><span style="--0:#E1E4E8;--1:#24292E">[5.285cm][r]{指导教师签名：} </span><span style="--0:#79B8FF;--1:#005CC5">\hfil</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{4.653cm} </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box:nn</span><span style="--0:#E1E4E8;--1:#24292E">{4em}{日期}： </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">{1.28cm}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box:nn</span><span style="--0:#E1E4E8;--1:#24292E">{2.5cm}{年月日}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new_protected:Npn \__whu_bachelor_originality_statement:  {    \noindent    \begin{minipage}[b][0.8cm]{\textwidth}      \centering \zihao{-2} \heiti 原创性声明    \end{minipage}    \skip_vertical:n { 1.3cm }    \group_begin:      \zihao{-4}      本人郑重声明：所呈交的论文（设计），是本人在指导教师的指导下，严格按照学校和学院有关规定完成的。除文中已经标明引用的内容外，本论文（设计）不包含任何其他个人或集体已发表及撰写的研究成果。对本论文（设计）做出贡献的个人和集体，均已在文中以明确方式标明。本人承诺在论文（设计）工作过程中没有伪造数据等行为。若在本论文（设计）中有侵犯任何方面知识产权的行为，由本人承担相应的法律责任。      \skip_vertical:n { 1.61cm }      \noindent      \hspace*{4.653cm} \__whu_spread_box:nn{4em}{作者签名}： \makebox[5.285cm][r]{指导教师签名：} \hfil \par      \noindent      \hspace*{4.653cm} \__whu_spread_box:nn{4em}{日期}： \hspace{1.28cm}        \__whu_spread_box:nn{2.5cm}{年月日}    \group_end:  }"><div></div></button></div></figure></div>
<h3 id="本科版权使用授权书">本科版权使用授权书</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_copyright:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.3cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{center}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\heiti</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2} 版权使用授权书</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{center}</span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 1.16cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">本人完全了解武汉大学有权保留并向有关部门或机构送交本论文（设计）的复印件和电子版，允许本论文（设计）被查阅和借阅。本人授权武汉大学将本论文的全部或部分内容编入有关数据进行检索和传播，可以采用影印、缩印或扫描等复制手段保存和汇编本论文（设计）。</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\skip_vertical:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.1cm }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{4.653cm} </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box:nn</span><span style="--0:#E1E4E8;--1:#24292E">{4em}{作者签名}： </span><span style="--0:#79B8FF;--1:#005CC5">\makebox</span><span style="--0:#E1E4E8;--1:#24292E">[5.285cm][r]{指导教师签名：} </span><span style="--0:#79B8FF;--1:#005CC5">\hfil</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{4.653cm} </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box:nn</span><span style="--0:#E1E4E8;--1:#24292E">{4em}{日期}： </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">{1.28cm}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_spread_box:nn</span><span style="--0:#E1E4E8;--1:#24292E">{2.5cm}{年月日}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new_protected:Npn \__whu_bachelor_copyright:  {    \skip_vertical:n { 2.3cm }    \begin{center}      \heiti \zihao{-2} 版权使用授权书    \end{center}\par    \skip_vertical:n { 1.16cm }    \group_begin:      \zihao{-4}      本人完全了解武汉大学有权保留并向有关部门或机构送交本论文（设计）的复印件和电子版，允许本论文（设计）被查阅和借阅。本人授权武汉大学将本论文的全部或部分内容编入有关数据进行检索和传播，可以采用影印、缩印或扫描等复制手段保存和汇编本论文（设计）。      \skip_vertical:n { 2.1cm }      \noindent      \hspace*{4.653cm} \__whu_spread_box:nn{4em}{作者签名}： \makebox[5.285cm][r]{指导教师签名：} \hfil \par      \noindent      \hspace*{4.653cm} \__whu_spread_box:nn{4em}{日期}： \hspace{1.28cm}        \__whu_spread_box:nn{2.5cm}{年月日}    \group_end:  }"><div></div></button></div></figure></div>
<blockquote>
<p>4.653cm 是用尺子量出来的吗</p>
<p><img alt="image-20240507210727123" width="343" height="113" loading="lazy" decoding="async" src="/_astro/image-20240507210727123.DZognckj_Z1YMpFU.webp" ></p>
</blockquote>
<h3 id="硕士原创声明">硕士原创声明</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 硕士原创性声明</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\fp_const:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_master_statement_line_spread_fp</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\dim_ratio:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 28 bp } { 14 bp } / 1.2 }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_statement:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">format = </span><span style="--0:#79B8FF;--1:#005CC5">\sffamily\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2}</span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip = 8ex,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle = empty</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">*{论文原创性声明}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\linespread</span><span style="--0:#E1E4E8;--1:#24292E">{1}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\fontsize</span><span style="--0:#E1E4E8;--1:#24292E">{14bp}{28bp}</span><span style="--0:#79B8FF;--1:#005CC5">\selectfont</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">本人郑重声明：所呈交的学位论文，是本人在导师指导下，独立进行研究工作所取得的研究成果。除文中已经标明引用的内容外，本论文不包含任何其他个人或集体已经发表或撰写过的研究成果。对本文的研究做出贡献的个人和集体，均已在文中以明确方式标明。本声明的法律结果由本人承担。</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\vspace</span><span style="--0:#E1E4E8;--1:#24292E">*{3em}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{flushright}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">学位论文作者（签名）：</span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{4em}</span><span style="--0:#79B8FF;--1:#005CC5">\mbox</span><span style="--0:#E1E4E8;--1:#24292E">{}</span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[12pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">年 </span><span style="--0:#79B8FF;--1:#005CC5">\qquad</span><span style="--0:#E1E4E8;--1:#24292E"> 月 </span><span style="--0:#79B8FF;--1:#005CC5">\qquad</span><span style="--0:#E1E4E8;--1:#24292E"> 日</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{flushright}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 硕士原创性声明\fp_const:Nn \c__whu_master_statement_line_spread_fp  { \dim_ratio:nn { 28 bp } { 14 bp } / 1.2 }\cs_new:Npn \__whu_master_statement:  {    \group_begin:      \keys_set:nn { ctex }        {          chapter =            {              format = \sffamily\zihao{-2}\centering,              afterskip = 8ex,              pagestyle = empty            }        }      \chapter*{论文原创性声明}      \linespread{1}      \fontsize{14bp}{28bp}\selectfont      本人郑重声明：所呈交的学位论文，是本人在导师指导下，独立进行研究工作所取得的研究成果。除文中已经标明引用的内容外，本论文不包含任何其他个人或集体已经发表或撰写过的研究成果。对本文的研究做出贡献的个人和集体，均已在文中以明确方式标明。本声明的法律结果由本人承担。      \vspace*{3em}      \begin{flushright}        学位论文作者（签名）：\hspace*{4em}\mbox{}\\[12pt]        年 \qquad 月 \qquad 日      \end{flushright}    \group_end:  }"><div></div></button></div></figure></div>
<h3 id="博士原创性声明">博士原创性声明</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 博士原创性声明</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_statement:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">format = </span><span style="--0:#79B8FF;--1:#005CC5">\sffamily\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2}</span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip = 8ex,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle = empty</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\pdfbookmark</span><span style="--0:#E1E4E8;--1:#24292E">{原创性声明}{doctor-statement}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">*{论文原创性声明}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\linespread</span><span style="--0:#E1E4E8;--1:#24292E">{1}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\fontsize</span><span style="--0:#E1E4E8;--1:#24292E">{14bp}{28bp}</span><span style="--0:#79B8FF;--1:#005CC5">\selectfont</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">本人郑重声明：所呈交的学位论文，是本人在导师指导下，独立进行研究工作所取得的研究成果。除文中已经标明引用的内容外，本论文不包含任何其他个人或集体已发表或撰写的研究成果。对本文的研究做出贡献的个人和集体，均已在文中以明确方式标明。本声明的法律结果由本人承担。</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\vspace</span><span style="--0:#E1E4E8;--1:#24292E">*{3em}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{flushright}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">学位论文作者（签名）：</span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{4em}</span><span style="--0:#79B8FF;--1:#005CC5">\mbox</span><span style="--0:#E1E4E8;--1:#24292E">{}</span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[12pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">年 </span><span style="--0:#79B8FF;--1:#005CC5">\qquad</span><span style="--0:#E1E4E8;--1:#24292E"> 月 </span><span style="--0:#79B8FF;--1:#005CC5">\qquad</span><span style="--0:#E1E4E8;--1:#24292E"> 日</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{flushright}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 博士原创性声明\cs_new:Npn \__whu_doctor_statement:  {    \group_begin:      \keys_set:nn { ctex }        {          chapter =            {              format = \sffamily\zihao{-2}\centering,              afterskip = 8ex,              pagestyle = empty            }        }      \pdfbookmark{原创性声明}{doctor-statement}      \chapter*{论文原创性声明}      \linespread{1}      \fontsize{14bp}{28bp}\selectfont      本人郑重声明：所呈交的学位论文，是本人在导师指导下，独立进行研究工作所取得的研究成果。除文中已经标明引用的内容外，本论文不包含任何其他个人或集体已发表或撰写的研究成果。对本文的研究做出贡献的个人和集体，均已在文中以明确方式标明。本声明的法律结果由本人承担。      \vspace*{3em}      \begin{flushright}        学位论文作者（签名）：\hspace*{4em}\mbox{}\\[12pt]        年 \qquad 月 \qquad 日      \end{flushright}    \group_end:  }"><div></div></button></div></figure></div>
<h3 id="博士使用授权协议书">博士使用授权协议书</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 博士使用授权协议书</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_license_agreement:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">format = </span><span style="--0:#79B8FF;--1:#005CC5">\sffamily\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4}</span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">beforeskip = 2ex,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip = 8ex,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle = empty</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\pdfbookmark</span><span style="--0:#E1E4E8;--1:#24292E">{使用授权协议书}{doctor-license-agreement}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">*{武汉大学学位论文使用授权协议书}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\linespread</span><span style="--0:#E1E4E8;--1:#24292E">{1}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\fontsize</span><span style="--0:#E1E4E8;--1:#24292E">{12bp}{28bp}</span><span style="--0:#79B8FF;--1:#005CC5">\selectfont</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">本学位论文作者愿意遵守武汉大学关于保存、使用学位论文的管理办法及规定，即：学校有权保存学位论文的印刷本和电子版，并提供文献检索与阅览服务；学校可以采用影印、缩印、数字化或其它复制手段保存论文；在以教学与科研服务为目的前提下，学校可以在校园网内公布部分或全部内容。 </span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\textbf</span><span style="--0:#E1E4E8;--1:#24292E">{一、}在本论文提交当年，同意在校园网内以及中国高等教育文献保障系统（CALIS）、高校学位论文系统提供查询及前十六页浏览服务。 </span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\textbf</span><span style="--0:#E1E4E8;--1:#24292E">{二、}在本论文提交 </span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#79B8FF;--1:#005CC5">\square</span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#E1E4E8;--1:#24292E"> 当年／</span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#79B8FF;--1:#005CC5">\square</span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#E1E4E8;--1:#24292E">一年／</span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#79B8FF;--1:#005CC5">\square</span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#E1E4E8;--1:#24292E"> 两年／</span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#79B8FF;--1:#005CC5">\square</span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#E1E4E8;--1:#24292E"> 三年以后，同意在校园网内允许读者在线浏览并下载全文，学校可以为存在馆际合作关系的兄弟高校用户提供文献传递服务和交换服务。（保密论文解密后遵守此规定）</span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\vspace</span><span style="--0:#E1E4E8;--1:#24292E">*{3em}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{minipage}{0.5</span><span style="--0:#79B8FF;--1:#005CC5">\textwidth</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">论文作者（签名）：</span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E">*{</span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E">}</span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[12pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">学号：</span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E">*{</span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E">}</span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[12pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">学院：</span><span style="--0:#79B8FF;--1:#005CC5">\CJKunderline</span><span style="--0:#E1E4E8;--1:#24292E">*{</span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E">}</span><span style="--0:#F97583;--1:#BF3441">\\</span><span style="--0:#E1E4E8;--1:#24292E">[12pt]</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{minipage} </span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\hfill</span><span style="--0:#E1E4E8;--1:#24292E"> 日期：</span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">{3em} 年 </span><span style="--0:#79B8FF;--1:#005CC5">\qquad</span><span style="--0:#E1E4E8;--1:#24292E"> 月 </span><span style="--0:#79B8FF;--1:#005CC5">\qquad</span><span style="--0:#E1E4E8;--1:#24292E"> 日</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 博士使用授权协议书\cs_new:Npn \__whu_doctor_license_agreement:  {    \group_begin:      \keys_set:nn { ctex }        {          chapter =            {              format = \sffamily\zihao{4}\centering,              beforeskip = 2ex,              afterskip = 8ex,              pagestyle = empty            }        }      \pdfbookmark{使用授权协议书}{doctor-license-agreement}      \chapter*{武汉大学学位论文使用授权协议书}      \linespread{1}      \fontsize{12bp}{28bp}\selectfont      本学位论文作者愿意遵守武汉大学关于保存、使用学位论文的管理办法及规定，即：学校有权保存学位论文的印刷本和电子版，并提供文献检索与阅览服务；学校可以采用影印、缩印、数字化或其它复制手段保存论文；在以教学与科研服务为目的前提下，学校可以在校园网内公布部分或全部内容。 \par      \textbf{一、}在本论文提交当年，同意在校园网内以及中国高等教育文献保障系统（CALIS）、高校学位论文系统提供查询及前十六页浏览服务。 \par      \textbf{二、}在本论文提交 $\square$ 当年／$\square$一年／$\square$ 两年／$\square$ 三年以后，同意在校园网内允许读者在线浏览并下载全文，学校可以为存在馆际合作关系的兄弟高校用户提供文献传递服务和交换服务。（保密论文解密后遵守此规定）\par      \vspace*{3em}      \begin{minipage}{0.5\textwidth}        论文作者（签名）：\CJKunderline*{\hfill}\\[12pt]        学号：\CJKunderline*{\hfill}\\[12pt]        学院：\CJKunderline*{\hfill}\\[12pt]      \end{minipage} \par      \hfill 日期：\hspace{3em} 年 \qquad 月 \qquad 日    \group_end:  }"><div></div></button></div></figure></div>
<h3 id="博士论文创新点">博士论文创新点</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 博士论文创新点</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_innovation:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">format+ = </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle = empty</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">*{ 论文创新点 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\pdfbookmark</span><span style="--0:#E1E4E8;--1:#24292E">{ 论文创新点 }{ doctor-innovation }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\file_if_exist:nT</span><span style="--0:#E1E4E8;--1:#24292E"> { pages / innovation.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\file_input:n</span><span style="--0:#E1E4E8;--1:#24292E"> { pages / innovation.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 博士论文创新点\cs_new_protected:Npn \__whu_doctor_innovation:  {    \group_begin:    \keys_set:nn { ctex }      {        chapter =          {            format+ = \centering,            pagestyle = empty          }      }    \chapter*{ 论文创新点 }    \pdfbookmark{ 论文创新点 }{ doctor-innovation }    \zihao{-4}    \file_if_exist:nT { pages / innovation.tex }      {        \file_input:n { pages / innovation.tex }      }    \newpage    \group_end:  }"><div></div></button></div></figure></div>
<p>这里重设了 ctex 的 chapter ，使之居中对齐并取消页眉页脚</p>
<p>之后判断文件 <code>pages/innovation.tex</code> 是否存在，如果存在则导入此文件</p>
<h2 id="摘要和关键词">摘要和关键词</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 摘要和关键词</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 摘要与关键词之间的间距样式</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\str_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_abstract_keywords_zh_type_str  </span><span style="--0:#99A0A6;--1:#616972">% 摘要和关键词之间的换行情况</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\str_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_abstract_keywords_en_type_str  </span><span style="--0:#99A0A6;--1:#616972">% 摘要和关键词之间的换行情况</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_define:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / style }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">abstract-keywords-type  </span><span style="--0:#79B8FF;--1:#005CC5">.choices:nn</span><span style="--0:#E1E4E8;--1:#24292E"> = { newline, blankline, vfill }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">     </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\str_set:Nx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_abstract_keywords_zh_type_str { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_keys_choice_tl } },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">abstract-keywords-type </span><span style="--0:#79B8FF;--1:#005CC5">.initial:n</span><span style="--0:#E1E4E8;--1:#24292E"> = blankline,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">abstract-keywords-type* </span><span style="--0:#79B8FF;--1:#005CC5">.choices:nn</span><span style="--0:#E1E4E8;--1:#24292E"> = { newline, blankline, vfill }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">     </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\str_set:Nx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_abstract_keywords_en_type_str { </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_keys_choice_tl } },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 如果只设置了 zh 的就默认 en 和 zh 相同</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\AtEndPreamble</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\str_if_empty:NT</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_abstract_keywords_en_type_str</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\str_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_abstract_keywords_en_type_str </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_abstract_keywords_zh_type_str }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%region 摘要和关键词%tag 摘要与关键词之间的间距样式\str_new:N \l__whu_abstract_keywords_zh_type_str  % 摘要和关键词之间的换行情况\str_new:N \l__whu_abstract_keywords_en_type_str  % 摘要和关键词之间的换行情况\keys_define:nn { whu / style }  {    abstract-keywords-type  .choices:nn = { newline, blankline, vfill }     { \str_set:Nx \l__whu_abstract_keywords_zh_type_str { \l_keys_choice_tl } },    abstract-keywords-type .initial:n = blankline,    abstract-keywords-type* .choices:nn = { newline, blankline, vfill }     { \str_set:Nx \l__whu_abstract_keywords_en_type_str { \l_keys_choice_tl } },  }% 如果只设置了 zh 的就默认 en 和 zh 相同\AtEndPreamble  {    \str_if_empty:NT \l__whu_abstract_keywords_en_type_str      { \str_set_eq:NN \l__whu_abstract_keywords_en_type_str \l__whu_abstract_keywords_zh_type_str }  }"><div></div></button></div></figure></div>
<p>这个位置关于 <code>\l__whu_abstract_keywords_en_type_str</code> 取默认值的方法相当精彩。</p>
<p>在 key 定义时不配置默认值，而是在 Preamble 的结束部分进行判断。按照标准，如果在这时候该值仍未配设置，则以后也不会更新，那么这时就可以将 <code>\l__whu_abstract_keywords_zh_type_str</code> 赋值到 <code>\l__whu_abstract_keywords_en_type_str</code></p>
<h3 id="本科-2">本科</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_abstract_output:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">numbering  = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle  = bachelor-frontmatter,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">format     = </span><span style="--0:#79B8FF;--1:#005CC5">\heiti</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2} </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">beforeskip = 15pt,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip  = 20pt</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">* { </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_abstract_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\addcontentsline</span><span style="--0:#E1E4E8;--1:#24292E">{toc}{chapter}{摘要}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\file_if_exist:nT</span><span style="--0:#E1E4E8;--1:#24292E"> { pages/abstract.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\file_input:n</span><span style="--0:#E1E4E8;--1:#24292E"> { pages/abstract.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_abstract_keywords_zh_vsep_set:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\bfseries</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_keywords_tl ：}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_use:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_keywords_clist {；}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_abstract_en_output:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">numbering  = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">format     = </span><span style="--0:#79B8FF;--1:#005CC5">\normalfont</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\bfseries</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle  = bachelor-frontmatter,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">beforeskip = 15pt,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">afterskip  = 20pt</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_abstract_en_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% \g__whu_abstract_en_content_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\file_if_exist:nT</span><span style="--0:#E1E4E8;--1:#24292E"> { pages/abstract.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\file_input:n</span><span style="--0:#E1E4E8;--1:#24292E"> { pages/enabstract.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_abstract_keywords_zh_vsep_set:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\textbf</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_keywords_en_tl :} ~}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\clist_use:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_keywords_en_clist {;~}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_abstract_keywords_zh_vsep_set:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\str_case:Vn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_abstract_keywords_zh_type_str</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ newline } { </span><span style="--0:#79B8FF;--1:#005CC5">\par</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ blankline } { </span><span style="--0:#79B8FF;--1:#005CC5">\par</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\vspace</span><span style="--0:#E1E4E8;--1:#24292E">*{ .5</span><span style="--0:#79B8FF;--1:#005CC5">\baselineskip</span><span style="--0:#E1E4E8;--1:#24292E"> } </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ vfill } { </span><span style="--0:#79B8FF;--1:#005CC5">\par</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\vfill</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_abstract_keywords_en_vsep_set:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\str_case:Vn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_abstract_keywords_en_type_str</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ newline } { </span><span style="--0:#79B8FF;--1:#005CC5">\par</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ blankline } { </span><span style="--0:#79B8FF;--1:#005CC5">\par</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\vspace</span><span style="--0:#E1E4E8;--1:#24292E">*{ .5</span><span style="--0:#79B8FF;--1:#005CC5">\baselineskip</span><span style="--0:#E1E4E8;--1:#24292E"> } </span><span style="--0:#79B8FF;--1:#005CC5">\noindent</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{ vfill } { </span><span style="--0:#79B8FF;--1:#005CC5">\vfill</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new:Npn \__whu_bachelor_abstract_output:  {    \group_begin:      \keys_set:nn { ctex }        {          chapter =            {              numbering  = false,              pagestyle  = bachelor-frontmatter,              format     = \heiti \zihao{-2} \centering,              beforeskip = 15pt,              afterskip  = 20pt            }        }      \chapter* { \c__whu_name_abstract_tl }      \addcontentsline{toc}{chapter}{摘要}      \zihao{-4}      \file_if_exist:nT { pages/abstract.tex }        {          \file_input:n { pages/abstract.tex }        }      \__whu_abstract_keywords_zh_vsep_set:      {\bfseries \c__whu_name_keywords_tl ：}    \clist_use:Nn \l__whu_info_keywords_clist {；}    \newpage    \group_end:  }\cs_new:Npn \__whu_bachelor_abstract_en_output:  {    \group_begin:      \keys_set:nn { ctex }        {          chapter =            {              numbering  = false,              format     = \normalfont \bfseries \centering \zihao{-2},              pagestyle  = bachelor-frontmatter,              beforeskip = 15pt,              afterskip  = 20pt            }        }      \chapter{ \c__whu_name_abstract_en_tl }      \zihao{-4}      % \g__whu_abstract_en_content_tl      \file_if_exist:nT { pages/abstract.tex }        {          \file_input:n { pages/enabstract.tex }        }      \__whu_abstract_keywords_zh_vsep_set:      {\textbf { \c__whu_name_keywords_en_tl :} ~}      \clist_use:Nn \l__whu_info_keywords_en_clist {;~}      \newpage    \group_end:  }\cs_new:Npn \__whu_abstract_keywords_zh_vsep_set:  {    \str_case:Vn \l__whu_abstract_keywords_zh_type_str      {        { newline } { \par \noindent }        { blankline } { \par \vspace*{ .5\baselineskip } \noindent }        { vfill } { \par \vfill \noindent }      }  }\cs_new:Npn \__whu_abstract_keywords_en_vsep_set:  {    \str_case:Vn \l__whu_abstract_keywords_en_type_str      {        { newline } { \par \noindent}        { blankline } { \par \vspace*{ .5\baselineskip } \noindent }        { vfill } { \vfill }      }  }"><div></div></button></div></figure></div>
<p><del>这里还能水个 <a href="https://github.com/whutug/whu-thesis/pull/277">pr</a></del></p>
<h3 id="硕士-2">硕士</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 硕士</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_abstract_output:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">numbering = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">format+ = </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle = master-frontmatter</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_abstract_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4} </span><span style="--0:#79B8FF;--1:#005CC5">\pagestyle</span><span style="--0:#E1E4E8;--1:#24292E">{empty}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\file_if_exist:nT</span><span style="--0:#E1E4E8;--1:#24292E"> { pages/abstract.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\file_input:n</span><span style="--0:#E1E4E8;--1:#24292E"> { pages/abstract.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_abstract_keywords_zh_vsep_set:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\heiti</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_keywords_tl ：}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_use:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_keywords_clist {；}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_abstract_en_output:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">numbering = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">format    = </span><span style="--0:#79B8FF;--1:#005CC5">\normalfont\bfseries\centering\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle = master-frontmatter</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_abstract_en_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#99A0A6;--1:#616972">% \g__whu_abstract_en_content_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\file_if_exist:nT</span><span style="--0:#E1E4E8;--1:#24292E"> { pages/enabstract.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\file_input:n</span><span style="--0:#E1E4E8;--1:#24292E"> { pages/enabstract.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_abstract_keywords_zh_vsep_set:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\textbf</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_keywords_en_tl :} ~}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\clist_use:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_keywords_en_clist {;~}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 硕士\cs_new:Npn \__whu_master_abstract_output:  {    \group_begin:      \keys_set:nn { ctex }        {          chapter =            {              numbering = false,              format+ = \centering,              pagestyle = master-frontmatter            }        }      \chapter{ \c__whu_name_abstract_tl }      \zihao{-4} \pagestyle{empty}      \file_if_exist:nT { pages/abstract.tex }        {          \file_input:n { pages/abstract.tex }        }      \__whu_abstract_keywords_zh_vsep_set:      {\heiti \c__whu_name_keywords_tl ：}    \clist_use:Nn \l__whu_info_keywords_clist {；}    \newpage    \group_end:  }\cs_new:Npn \__whu_master_abstract_en_output:  {    \group_begin:      \keys_set:nn { ctex }        {          chapter =            {              numbering = false,              format    = \normalfont\bfseries\centering\zihao{-2},              pagestyle = master-frontmatter            }        }      \chapter{ \c__whu_name_abstract_en_tl }      \zihao{-4}      % \g__whu_abstract_en_content_tl      \file_if_exist:nT { pages/enabstract.tex }        {          \file_input:n { pages/enabstract.tex }        }      \__whu_abstract_keywords_zh_vsep_set:      {\textbf { \c__whu_name_keywords_en_tl :} ~}      \clist_use:Nn \l__whu_info_keywords_en_clist {;~}      \newpage    \group_end:  }"><div></div></button></div></figure></div>
<h3 id="博士-2">博士</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_abstract_output:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">numbering = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">format+ = </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle = doctor-frontmatter</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_abstract_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\file_if_exist:nT</span><span style="--0:#E1E4E8;--1:#24292E"> { pages/abstract.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\file_input:n</span><span style="--0:#E1E4E8;--1:#24292E"> { pages/abstract.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_abstract_keywords_zh_vsep_set:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\heiti</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_keywords_tl ：}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_use:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_keywords_clist {；}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_abstract_en_output:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">numbering = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">format    = </span><span style="--0:#79B8FF;--1:#005CC5">\normalfont\bfseries\centering\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">pagestyle = doctor-frontmatter</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_abstract_en_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\file_if_exist:nT</span><span style="--0:#E1E4E8;--1:#24292E"> { pages/enabstract.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#79B8FF;--1:#005CC5">\file_input:n</span><span style="--0:#E1E4E8;--1:#24292E"> { pages/enabstract.tex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_abstract_keywords_zh_vsep_set:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\textbf</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_keywords_en_tl :} ~}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\clist_use:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_info_keywords_en_clist {;~}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new:Npn \__whu_doctor_abstract_output:  {    \group_begin:      \keys_set:nn { ctex }        {          chapter =            {              numbering = false,              format+ = \centering,              pagestyle = doctor-frontmatter            }        }      \chapter{ \c__whu_name_abstract_tl }      \zihao{-4}      \file_if_exist:nT { pages/abstract.tex }        {          \file_input:n { pages/abstract.tex }        }      \__whu_abstract_keywords_zh_vsep_set:      {\heiti \c__whu_name_keywords_tl ：}    \clist_use:Nn \l__whu_info_keywords_clist {；}    \newpage    \group_end:  }\cs_new:Npn \__whu_doctor_abstract_en_output:  {    \group_begin:      \keys_set:nn { ctex }        {          chapter =            {              numbering = false,              format    = \normalfont\bfseries\centering\zihao{-2},              pagestyle = doctor-frontmatter            }        }      \chapter{ \c__whu_name_abstract_en_tl }      \zihao{-4}      \file_if_exist:nT { pages/enabstract.tex }        {          \file_input:n { pages/enabstract.tex }        }      \__whu_abstract_keywords_zh_vsep_set:      {\textbf { \c__whu_name_keywords_en_tl :} ~}      \clist_use:Nn \l__whu_info_keywords_en_clist {;~}      \newpage    \group_end:  }"><div></div></button></div></figure></div>
<h2 id="输出封面及摘要">输出封面及摘要</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nNnF</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_int } = {1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\ctex_after_end_preamble:n</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\pdfbookmark</span><span style="--0:#E1E4E8;--1:#24292E">{中文封面}{titlepage}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\int_case:Vn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_int</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#99A0A6;--1:#616972">% 本科</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{2}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\pagestyle</span><span style="--0:#E1E4E8;--1:#24292E">{empty}</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_i:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\bool_if:NT</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bachelor_english_cover_bool</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">                  </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">                  </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_cover_ii:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_originality_statement:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_copyright:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#F97583;--1:#BF3441">\frontmatter</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\pagenumbering</span><span style="--0:#E1E4E8;--1:#24292E">{Roman}</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\pagestyle</span><span style="--0:#E1E4E8;--1:#24292E">{ bachelor-frontmatter }</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_abstract_output:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_abstract_en_output:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#99A0A6;--1:#616972">% 硕士</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{3}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\pagestyle</span><span style="--0:#E1E4E8;--1:#24292E">{empty}</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_i:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_new_blank_page:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_cover_ii:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_new_blank_page:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_statement:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#F97583;--1:#BF3441">\frontmatter</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\pagestyle</span><span style="--0:#E1E4E8;--1:#24292E">{ master-frontmatter }</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\pagenumbering</span><span style="--0:#E1E4E8;--1:#24292E">{Roman}</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_abstract_output:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_abstract_en_output:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">          </span><span style="--0:#99A0A6;--1:#616972">% 博士</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{4}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\pagestyle</span><span style="--0:#E1E4E8;--1:#24292E">{empty}</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_cover_i:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_new_blank_page:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_cover_ii:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_new_blank_page:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_statement:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_new_blank_page:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_license_agreement:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_new_blank_page:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_innovation:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#F97583;--1:#BF3441">\frontmatter</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\pagestyle</span><span style="--0:#E1E4E8;--1:#24292E">{ doctor-frontmatter }</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\pagenumbering</span><span style="--0:#E1E4E8;--1:#24292E">{Roman}</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_abstract_output:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_abstract_en_output:</span></div></div><div class="ec-line"><div class="code"><span class="indent">              </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\int_compare:nNnF { \g__whu_thesis_type_int } = {1}  {    \ctex_after_end_preamble:n    {      \pdfbookmark{中文封面}{titlepage}      \int_case:Vn \g__whu_thesis_type_int        {          % 本科          {2}            {              \pagestyle{empty}              \__whu_bachelor_cover_i:              \bool_if:NT \l__whu_bachelor_english_cover_bool                {                  \newpage                  \__whu_bachelor_cover_ii:                }              \newpage              \__whu_bachelor_originality_statement:              \__whu_bachelor_copyright:              \newpage              \frontmatter              \pagenumbering{Roman}              \pagestyle{ bachelor-frontmatter }              \__whu_bachelor_abstract_output:              \newpage              \__whu_bachelor_abstract_en_output:              \newpage            }          % 硕士          {3}            {              \pagestyle{empty}              \__whu_master_cover_i:              \__whu_new_blank_page:              \__whu_master_cover_ii:              \__whu_new_blank_page:              \__whu_master_statement:              \newpage              \frontmatter              \pagestyle{ master-frontmatter }              \pagenumbering{Roman}              \__whu_master_abstract_output:              \newpage              \__whu_master_abstract_en_output:              \newpage            }          % 博士          {4}            {              \pagestyle{empty}              \__whu_doctor_cover_i:              \__whu_new_blank_page:              \__whu_doctor_cover_ii:              \__whu_new_blank_page:              \__whu_doctor_statement:              \__whu_new_blank_page:              \__whu_doctor_license_agreement:              \__whu_new_blank_page:              \__whu_doctor_innovation:              \frontmatter              \pagestyle{ doctor-frontmatter }              \pagenumbering{Roman}              \__whu_doctor_abstract_output:              \newpage              \__whu_doctor_abstract_en_output:              \newpage            }        }    }  }"><div></div></button></div></figure></div>
<h2 id="目录">目录</h2>
<h3 id="统一目录标题和正文标题">统一目录标题和正文标题</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">__whu_msg_new:nn { bachelor-no-optional-argument }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ #1~shouldn't~be~used~with~optional~argument~in~bachelor's~thesis.</span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">The~optional~argument~of~#1~is~ignored.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_chapter_cmds_no_optional_argument:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\NewCommandCopy</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\bachelorchapter</span><span style="--0:#E1E4E8;--1:#24292E"> } { </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\NewCommandCopy</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\bachelorsection</span><span style="--0:#E1E4E8;--1:#24292E"> } { </span><span style="--0:#79B8FF;--1:#005CC5">\section</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\NewCommandCopy</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\bachelorsubsection</span><span style="--0:#E1E4E8;--1:#24292E"> } { </span><span style="--0:#79B8FF;--1:#005CC5">\subsection</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\RenewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E"> { s o m }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\IfBooleanTF</span><span style="--0:#E1E4E8;--1:#24292E"> {##1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\bachelorchapter</span><span style="--0:#E1E4E8;--1:#24292E">* {##3} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\bachelorchapter</span><span style="--0:#E1E4E8;--1:#24292E"> {##3} }  </span><span style="--0:#99A0A6;--1:#616972">% ]</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\IfNoValueF</span><span style="--0:#E1E4E8;--1:#24292E"> {##2}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_warning:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { bachelor-no-optional-argument } { </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E"> } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\RenewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\section</span><span style="--0:#E1E4E8;--1:#24292E"> { s o m }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\IfBooleanTF</span><span style="--0:#E1E4E8;--1:#24292E"> {##1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\bachelorsection</span><span style="--0:#E1E4E8;--1:#24292E">* {##3} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\bachelorsection</span><span style="--0:#E1E4E8;--1:#24292E"> {##3} }  </span><span style="--0:#99A0A6;--1:#616972">% ]</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\IfNoValueF</span><span style="--0:#E1E4E8;--1:#24292E"> {##2}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_warning:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { bachelor-no-optional-argument } { </span><span style="--0:#79B8FF;--1:#005CC5">\section</span><span style="--0:#E1E4E8;--1:#24292E"> } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\RenewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\subsection</span><span style="--0:#E1E4E8;--1:#24292E"> { s o m }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\IfBooleanTF</span><span style="--0:#E1E4E8;--1:#24292E"> {##1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\bachelorsubsection</span><span style="--0:#E1E4E8;--1:#24292E">* {##3} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\bachelorsubsection</span><span style="--0:#E1E4E8;--1:#24292E"> {##3} }  </span><span style="--0:#99A0A6;--1:#616972">% ]</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\IfNoValueF</span><span style="--0:#E1E4E8;--1:#24292E"> {##2}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_warning:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { bachelor-no-optional-argument } { </span><span style="--0:#79B8FF;--1:#005CC5">\subsection</span><span style="--0:#E1E4E8;--1:#24292E"> } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\AddToHook</span><span style="--0:#E1E4E8;--1:#24292E"> { begindocument }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\int_case:Vn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_int</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#99A0A6;--1:#616972">% 本科</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{2} { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_chapter_cmds_no_optional_argument:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="__whu_msg_new:nn { bachelor-no-optional-argument }  { #1~shouldn&#x27;t~be~used~with~optional~argument~in~bachelor&#x27;s~thesis.\\    The~optional~argument~of~#1~is~ignored.  }\cs_new:Npn \__whu_bachelor_chapter_cmds_no_optional_argument:  {    \NewCommandCopy { \bachelorchapter } { \chapter }    \NewCommandCopy { \bachelorsection } { \section }    \NewCommandCopy { \bachelorsubsection } { \subsection }    \RenewDocumentCommand \chapter { s o m }      {        \IfBooleanTF {##1}          { \bachelorchapter* {##3} }          { \bachelorchapter {##3} }  % ]        \IfNoValueF {##2}          { \__whu_warning:nn { bachelor-no-optional-argument } { \chapter } }      }    \RenewDocumentCommand \section { s o m }      {        \IfBooleanTF {##1}          { \bachelorsection* {##3} }          { \bachelorsection {##3} }  % ]        \IfNoValueF {##2}          { \__whu_warning:nn { bachelor-no-optional-argument } { \section } }      }    \RenewDocumentCommand \subsection { s o m }      {        \IfBooleanTF {##1}          { \bachelorsubsection* {##3} }          { \bachelorsubsection {##3} }  % ]        \IfNoValueF {##2}          { \__whu_warning:nn { bachelor-no-optional-argument } { \subsection } }      }  }\AddToHook { begindocument }  {    \int_case:Vn \g__whu_thesis_type_int      {        % 本科        {2} { \__whu_bachelor_chapter_cmds_no_optional_argument: }      }  }"><div></div></button></div></figure></div>
<p>使 <code>\chapter</code> 、<code>\section</code> 等命令吞参数，即不能输入 <code>\chapter[]{}</code> 而只能输入 <code>\chapter{}</code>。</p>
<p>这里使用了 <code>\RenewDocumentCommend</code> 命令来重新创建这几个参数，在其中如果 <code>#2</code> 不为空，则给出一段 warning</p>
<p>上述语句被定义在 <code>\__whu_bachelor_chapter_cmds_no_optional_argument:</code> 中，只有当 <code>\g__whu_thesis_type_int</code> 为 2 时才会启用</p>
<h3 id="本科设置">本科设置</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_set_tocline:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ contentsname   = </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_toc_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 字体字号</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftchapfont</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\bfseries</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftsecfont</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\normalfont</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftsubsecfont</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\normalfont</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftchappagefont</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\normalfont</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 引导线</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftchapleader</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\cftdotfill</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftdotsep</span><span style="--0:#E1E4E8;--1:#24292E">}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 缩进</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\cftchapindent</span><span style="--0:#E1E4E8;--1:#24292E"> { 0em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\cftsecindent</span><span style="--0:#E1E4E8;--1:#24292E">  { 1em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\cftsubsecindent</span><span style="--0:#E1E4E8;--1:#24292E"> { 3em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 计数器宽度</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\cftchapnumwidth</span><span style="--0:#E1E4E8;--1:#24292E"> { 1.5em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\cftsecnumwidth</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.5em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\cftsubsecnumwidth</span><span style="--0:#E1E4E8;--1:#24292E"> { 1.5em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 垂直间距</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\setlength</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftbeforechapskip</span><span style="--0:#E1E4E8;--1:#24292E">}{0pt}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new:Npn \__whu_bachelor_set_tocline:  {    \keys_set:nn { ctex }      { contentsname   = \c__whu_name_toc_tl }    % 字体字号    \renewcommand{\cftchapfont}{\bfseries \zihao{-4}}    \renewcommand{\cftsecfont}{\normalfont \zihao{-4}}    \renewcommand{\cftsubsecfont}{\normalfont \zihao{-4}}    \renewcommand{\cftchappagefont}{\normalfont \zihao{-4}}    % 引导线    \renewcommand{\cftchapleader}{\cftdotfill{\cftdotsep}}    % 缩进    \dim_set:Nn \cftchapindent { 0em }    \dim_set:Nn \cftsecindent  { 1em }    \dim_set:Nn \cftsubsecindent { 3em }    % 计数器宽度    \dim_set:Nn \cftchapnumwidth { 1.5em }    \dim_set:Nn \cftsecnumwidth { 2.5em }    \dim_set:Nn \cftsubsecnumwidth { 1.5em }    % 垂直间距    \setlength{\cftbeforechapskip}{0pt}  }"><div></div></button></div></figure></div>
<h3 id="硕士设置">硕士设置</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_set_tocline:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ contentsname   = </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_toc_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 字体字号</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftchapfont</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\heiti</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftsecfont</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\normalfont</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftsubsecfont</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\normalfont</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% % 缩进</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftchapindent { 0em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftsecindent  { 0em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftsubsecindent { 0em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 计数器宽度</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftchapnumwidth { 1.5em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\cftsecnumwidth</span><span style="--0:#E1E4E8;--1:#24292E"> { 2em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\cftsubsecnumwidth</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.8em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% chapter前的额外垂直间距</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftbeforechapskip { 0.5\baselineskip }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% section前的额外垂直间距</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftbeforesecskip { 0.2\baselineskip }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% subsection前的额外垂直间距</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftbeforesubsecskip { 0pt }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new:Npn \__whu_master_set_tocline:  {    \keys_set:nn { ctex }      { contentsname   = \c__whu_name_toc_tl }    % 字体字号    \renewcommand{\cftchapfont}{\heiti \zihao{4}}    \renewcommand{\cftsecfont}{\normalfont \zihao{-4}}    \renewcommand{\cftsubsecfont}{\normalfont \zihao{-4}}    % % 缩进    % \dim_set:Nn \cftchapindent { 0em }    % \dim_set:Nn \cftsecindent  { 0em }    % \dim_set:Nn \cftsubsecindent { 0em }    % 计数器宽度    % \dim_set:Nn \cftchapnumwidth { 1.5em }    \dim_set:Nn \cftsecnumwidth { 2em }    \dim_set:Nn \cftsubsecnumwidth { 2.8em }    % chapter前的额外垂直间距    % \dim_set:Nn \cftbeforechapskip { 0.5\baselineskip }    % section前的额外垂直间距    % \dim_set:Nn \cftbeforesecskip { 0.2\baselineskip }    % subsection前的额外垂直间距    % \dim_set:Nn \cftbeforesubsecskip { 0pt }  }"><div></div></button></div></figure></div>
<h3 id="博士设置">博士设置</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_set_tocline:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ contentsname   = </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_name_toc_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 字体字号</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftchapfont</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\bfseries</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{4}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftsecfont</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\normalfont</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftsubsecfont</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\normalfont</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-4}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 引导线</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftchapleader</span><span style="--0:#E1E4E8;--1:#24292E">}{</span><span style="--0:#79B8FF;--1:#005CC5">\cftdotfill</span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\cftdotsep</span><span style="--0:#E1E4E8;--1:#24292E">}}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% % 缩进</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftchapindent { 0em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftsecindent  { 2em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftsubsecindent { 4em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 计数器宽度</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftchapnumwidth { 1.5em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\cftsecnumwidth</span><span style="--0:#E1E4E8;--1:#24292E"> { 2em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\dim_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\cftsubsecnumwidth</span><span style="--0:#E1E4E8;--1:#24292E"> { 2.8em }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% % chapter前的额外垂直间距</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftbeforechapskip { 0.5\baselineskip }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% % section前的额外垂直间距</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftbeforesecskip { 0.4\baselineskip }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% % subsection前的额外垂直间距</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% \dim_set:Nn \cftbeforesubsecskip { 0.1\baselineskip }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new:Npn \__whu_doctor_set_tocline:  {    \keys_set:nn { ctex }      { contentsname   = \c__whu_name_toc_tl }    % 字体字号    \renewcommand{\cftchapfont}{\bfseries \zihao{4}}    \renewcommand{\cftsecfont}{\normalfont \zihao{-4}}    \renewcommand{\cftsubsecfont}{\normalfont \zihao{-4}}    % 引导线    \renewcommand{\cftchapleader}{\cftdotfill{\cftdotsep}}    % % 缩进    % \dim_set:Nn \cftchapindent { 0em }    % \dim_set:Nn \cftsecindent  { 2em }    % \dim_set:Nn \cftsubsecindent { 4em }    % 计数器宽度    % \dim_set:Nn \cftchapnumwidth { 1.5em }    \dim_set:Nn \cftsecnumwidth { 2em }    \dim_set:Nn \cftsubsecnumwidth { 2.8em }    % % chapter前的额外垂直间距    % \dim_set:Nn \cftbeforechapskip { 0.5\baselineskip }    % % section前的额外垂直间距    % \dim_set:Nn \cftbeforesecskip { 0.4\baselineskip }    % % subsection前的额外垂直间距    % \dim_set:Nn \cftbeforesubsecskip { 0.1\baselineskip }  }"><div></div></button></div></figure></div>
<h3 id="输出配置">输出配置</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\int_case:Vn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_int</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 本科</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{2} { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_set_tocline:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 硕士</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{3} { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_master_set_tocline:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 博士</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{4} { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_doctor_set_tocline:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\int_case:Vn \g__whu_thesis_type_int  {    % 本科    {2} { \__whu_bachelor_set_tocline: }    % 硕士    {3} { \__whu_master_set_tocline: }    % 博士    {4} { \__whu_doctor_set_tocline: }  }"><div></div></button></div></figure></div>
<h3 id="重定义目录">重定义目录</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_old_tableofcontents:</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\tableofcontents</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RenewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\tableofcontents</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter / format += </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter / pagestyle = </span><span style="--0:#79B8FF;--1:#005CC5">\tl_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_tl -frontmatter</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_old_tableofcontents:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_set_eq:NN \__whu_old_tableofcontents: \tableofcontents\RenewDocumentCommand \tableofcontents { }  {    \group_begin:    \keys_set:nn { ctex }      {        chapter / format += \centering,        chapter / pagestyle = \tl_use:N \g__whu_thesis_type_tl -frontmatter      }    \__whu_old_tableofcontents:    \group_end:  }"><div></div></button></div></figure></div>
<p>首先配置目录的 chapter 应当是居中的（注意不是目录内容中的 chapter，而是目录两个字），且该页的页眉页脚应当是 frontmatter 的样式。配置结束后调用旧的 <code>\tableofcontents</code></p>
<h3 id="插图目录和表格目录">插图目录和表格目录</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">listfigurename = { 插</span><span style="--0:#79B8FF;--1:#005CC5">\qquad</span><span style="--0:#E1E4E8;--1:#24292E"> 图 },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">listtablename  = { 表</span><span style="--0:#79B8FF;--1:#005CC5">\qquad</span><span style="--0:#E1E4E8;--1:#24292E"> 格 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_old_listoffigures:</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\listoffigures</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RenewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\listoffigures</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter / format += </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter / pagestyle = </span><span style="--0:#79B8FF;--1:#005CC5">\tl_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_tl -frontmatter</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_old_listoffigures:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_old_listoftables:</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\listoftables</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RenewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\listoftables</span><span style="--0:#E1E4E8;--1:#24292E"> { }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter / format += </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter / pagestyle = </span><span style="--0:#79B8FF;--1:#005CC5">\tl_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_tl -frontmatter</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_old_listoftables:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\keys_set:nn { ctex }  {    listfigurename = { 插\qquad 图 },    listtablename  = { 表\qquad 格 }  }\cs_set_eq:NN \__whu_old_listoffigures: \listoffigures\RenewDocumentCommand \listoffigures { }  {    \group_begin:    \keys_set:nn { ctex }      {        chapter / format += \centering,        chapter / pagestyle = \tl_use:N \g__whu_thesis_type_tl -frontmatter      }    \__whu_old_listoffigures:    \group_end:  }\cs_set_eq:NN \__whu_old_listoftables: \listoftables\RenewDocumentCommand \listoftables { }  {    \group_begin:    \keys_set:nn { ctex }      {        chapter / format += \centering,        chapter / pagestyle = \tl_use:N \g__whu_thesis_type_tl -frontmatter      }    \__whu_old_listoftables:    \group_end:  }"><div></div></button></div></figure></div>
<h2 id="致谢环境">致谢环境</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentEnvironment</span><span style="--0:#E1E4E8;--1:#24292E">{acknowledgements}{ +b }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter / format = </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{-2} </span><span style="--0:#79B8FF;--1:#005CC5">\heiti</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E">* { 致 </span><span style="--0:#79B8FF;--1:#005CC5">\qquad</span><span style="--0:#E1E4E8;--1:#24292E"> 谢 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\addcontentsline</span><span style="--0:#E1E4E8;--1:#24292E">{toc}{chapter}{致谢}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">#1</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}{}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\NewDocumentEnvironment{acknowledgements}{ +b }  {    \group_begin:      \keys_set:nn { ctex }        {          chapter / format = \centering \zihao{-2} \heiti,        }      \chapter* { 致 \qquad 谢 }      \addcontentsline{toc}{chapter}{致谢}      #1    \group_end:  }{}"><div></div></button></div></figure></div>
<p>添加了 <code>acknowledgements</code> 环境，这样的话可以直接这样使用该环境</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{acknowledgements}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#E1E4E8;--1:#24292E">感谢导师的悉心指导，感谢家人的支持，感觉我家的猫（虽然我并没有猫）,感谢所有帮助过我的人。</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{acknowledgements}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\begin{acknowledgements}感谢导师的悉心指导，感谢家人的支持，感觉我家的猫（虽然我并没有猫）,感谢所有帮助过我的人。\end{acknowledgements}"><div></div></button></div></figure></div>
<h2 id="附录">附录</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_set_appendix:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\AddToHook</span><span style="--0:#E1E4E8;--1:#24292E"> { cmd / appendix / after }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\renewcommand</span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\theequation</span><span style="--0:#E1E4E8;--1:#24292E"> }{ </span><span style="--0:#79B8FF;--1:#005CC5">\thechapter</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{equation} }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">section/number = </span><span style="--0:#79B8FF;--1:#005CC5">\Alph</span><span style="--0:#E1E4E8;--1:#24292E">{chapter}</span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{section},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">subsection/number = </span><span style="--0:#79B8FF;--1:#005CC5">\Alph</span><span style="--0:#E1E4E8;--1:#24292E">{chapter}</span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{section}.</span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{subsection},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">subsubsection/number = </span><span style="--0:#79B8FF;--1:#005CC5">\Alph</span><span style="--0:#E1E4E8;--1:#24292E">{chapter}</span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{section}.</span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{subsection}.</span><span style="--0:#79B8FF;--1:#005CC5">\arabic</span><span style="--0:#E1E4E8;--1:#24292E">{subsubsection},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\int_case:Vn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_int</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 本科</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{2} { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bachelor_set_appendix:</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new:Npn \__whu_bachelor_set_appendix:  {    \AddToHook { cmd / appendix / after }      {        \renewcommand{ \theequation }{ \thechapter \arabic{equation} }        \keys_set:nn { ctex }          {            section/number = \Alph{chapter}\arabic{section},            subsection/number = \Alph{chapter}\arabic{section}.\arabic{subsection},            subsubsection/number = \Alph{chapter}\arabic{section}.\arabic{subsection}.\arabic{subsubsection},          }      }  }\int_case:Vn \g__whu_thesis_type_int  {    % 本科    {2} { \__whu_bachelor_set_appendix: }  }"><div></div></button></div></figure></div>
<p>修改附录中编号为 <code>\thechater \arabic{equation}</code>。这样做的效果是，每个数学公式的编号前面会加上章节编号，以区分不同章节中的公式。</p>
<p>并设置附录的章节编号格式设置为了大写字母表示的章节编号</p>
<h2 id="脚注">脚注</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_define_fn_style:nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\tl_const:cn</span><span style="--0:#E1E4E8;--1:#24292E"> { c__whu_fn_style_ #1 _tl } {#2} }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_symbol:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1 { </span><span style="--0:#79B8FF;--1:#005CC5">\tex_char:D</span><span style="--0:#E1E4E8;--1:#24292E"> #1 </span><span style="--0:#79B8FF;--1:#005CC5">\scan_stop:</span><span style="--0:#E1E4E8;--1:#24292E"> } </span><span style="--0:#99A0A6;--1:#616972">% \tex_char:D = \char</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\clist_map_inline:nn</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ plain           } { plain           },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ libertinus      } { libertinus      },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ libertinus_neg  } { libertinus*     },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ libertinus_sans } { libertinus-sans },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ pifont          } { pifont          },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ pifont_neg      } { pifont*         },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ pifont_sans     } { pifont-sans     },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ pifont_sans_neg } { pifont-sans*    },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ xits            } { xits            },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ xits_sans       } { xits-sans       },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ xits_sans_neg   } { xits-sans*      }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_define_fn_style:nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1 }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 定义键</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\tl_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_tl</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_define:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / style }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">footnote-style </span><span style="--0:#79B8FF;--1:#005CC5">.choices:nn</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">plain,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">libertinus, libertinus*, libertinus-sans,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">pifont,     pifont*,     pifont-sans,     pifont-sans*,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">xits,                    xits-sans,       xits-sans*</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_gset_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_tl </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_keys_choice_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nT</span><span style="--0:#E1E4E8;--1:#24292E"> { 5 &#x3C;= </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_keys_choice_int &#x3C;= 8 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { pifont } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">footnote-style </span><span style="--0:#79B8FF;--1:#005CC5">.value_required:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 设置键</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / style }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">footnote-style = libertinus</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag libertinus</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_libertinus:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nTF</span><span style="--0:#E1E4E8;--1:#24292E"> { #1 >= 21 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nTF</span><span style="--0:#E1E4E8;--1:#24292E"> { #1 >= 47 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_symbol:n</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { "24B6 - 47 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_symbol:n</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { "24D0 - 21 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_symbol:n</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { "2460 - 1 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_libertinus_neg:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nTF</span><span style="--0:#E1E4E8;--1:#24292E"> { #1 >= 11 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_symbol:n</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { "24EB - 11 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_symbol:n</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { "2776 -  1 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_libertinus_sans:n</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_libertinus:n</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag pifont texdoc psnfss2e</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_pifont:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\ding</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 171 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_pifont_neg:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\ding</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 181 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_pifont_sans:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\ding</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 191 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_pifont_sans_neg:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\ding</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { 201 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag xits</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_xits:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nTF</span><span style="--0:#E1E4E8;--1:#24292E"> { #1 >= 10 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\int_compare:nTF</span><span style="--0:#E1E4E8;--1:#24292E"> { #1 >= 36 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_symbol:n</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { "24B6 - 36 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_symbol:n</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { "24D0 - 10 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_symbol:n</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { "2460 - 1 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_xits_sans:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_symbol:n</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { "2780 - 1 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_xits_sans_neg:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_symbol:n</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\int_eval:n</span><span style="--0:#E1E4E8;--1:#24292E"> { "278A - 1 + #1 } } }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 定义脚注计数器格式</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_set:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\thefootnote</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\whu_footnote_number:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c@footnote</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\whu_footnote_number:N</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_case:NnF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_plain_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\int_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> #1 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_libertinus_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\fontspec</span><span style="--0:#E1E4E8;--1:#24292E"> { LibertinusSerif-Regular .otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_libertinus:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_libertinus_neg_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\fontspec</span><span style="--0:#E1E4E8;--1:#24292E"> { LibertinusSerif-Regular .otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_libertinus_neg:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_libertinus_sans_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\fontspec</span><span style="--0:#E1E4E8;--1:#24292E"> { LibertinusSans-Regular .otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_libertinus_sans:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_pifont_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_pifont:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_pifont_neg_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_pifont_neg:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_pifont_sans_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_pifont_sans:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_pifont_sans_neg_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_pifont_sans_neg:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_xits_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\fontspec</span><span style="--0:#E1E4E8;--1:#24292E"> { XITS-Regular .otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_xits:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_xits_sans_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\fontspec</span><span style="--0:#E1E4E8;--1:#24292E"> { XITS-Regular .otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_xits_sans:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fn_style_xits_sans_neg_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\fontspec</span><span style="--0:#E1E4E8;--1:#24292E"> { XITS-Regular .otf }</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_fn_symbol_xits_sans_neg:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\int_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> #1 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_set:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\@makefntext</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\mode_leave_vertical:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\hbox_to_wd:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { 1 em } { </span><span style="--0:#79B8FF;--1:#005CC5">\@thefnmark</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\hfil</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{5}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">#1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 修改脚注的横线长度</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_set:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\footnoterule</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span><span style="--0:#79B8FF;--1:#005CC5">\kern</span><span style="--0:#E1E4E8;--1:#24292E">-3</span><span style="--0:#79B8FF;--1:#005CC5">\p@</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\hrule</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\@width</span><span style="--0:#E1E4E8;--1:#24292E"> 2in </span><span style="--0:#79B8FF;--1:#005CC5">\@height</span><span style="--0:#E1E4E8;--1:#24292E"> 1pt </span><span style="--0:#79B8FF;--1:#005CC5">\kern</span><span style="--0:#E1E4E8;--1:#24292E"> 2.6</span><span style="--0:#79B8FF;--1:#005CC5">\p@</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new_protected:Npn \__whu_define_fn_style:nn #1#2  { \tl_const:cn { c__whu_fn_style_ #1 _tl } {#2} }\cs_new:Npn \__whu_symbol:n #1 { \tex_char:D #1 \scan_stop: } % \tex_char:D = \char\clist_map_inline:nn  {    { plain           } { plain           },    { libertinus      } { libertinus      },    { libertinus_neg  } { libertinus*     },    { libertinus_sans } { libertinus-sans },    { pifont          } { pifont          },    { pifont_neg      } { pifont*         },    { pifont_sans     } { pifont-sans     },    { pifont_sans_neg } { pifont-sans*    },    { xits            } { xits            },    { xits_sans       } { xits-sans       },    { xits_sans_neg   } { xits-sans*      }  }  { \__whu_define_fn_style:nn #1 }%tag 定义键\tl_new:N \l__whu_fn_style_tl\keys_define:nn { whu / style }  {    footnote-style .choices:nn =      {        plain,        libertinus, libertinus*, libertinus-sans,        pifont,     pifont*,     pifont-sans,     pifont-sans*,        xits,                    xits-sans,       xits-sans*      }      {        \tl_gset_eq:NN \l__whu_fn_style_tl \l_keys_choice_tl        \int_compare:nT { 5 <= \l_keys_choice_int <= 8 }          { \RequirePackage { pifont } }      },    footnote-style .value_required:n = true  }%tag 设置键\keys_set:nn { whu / style }  {    footnote-style = libertinus  }%tag libertinus\cs_new:Npn \__whu_fn_symbol_libertinus:n #1  {    \int_compare:nTF { #1 >= 21 }      {        \int_compare:nTF { #1 >= 47 }          { \__whu_symbol:n { \int_eval:n { &#x22;24B6 - 47 + #1 } } }          { \__whu_symbol:n { \int_eval:n { &#x22;24D0 - 21 + #1 } } }      }      { \__whu_symbol:n { \int_eval:n { &#x22;2460 - 1 + #1 } } }  }\cs_new:Npn \__whu_fn_symbol_libertinus_neg:n #1  {    \int_compare:nTF { #1 >= 11 }      { \__whu_symbol:n { \int_eval:n { &#x22;24EB - 11 + #1 } } }      { \__whu_symbol:n { \int_eval:n { &#x22;2776 -  1 + #1 } } }  }\cs_new_eq:NN \__whu_fn_symbol_libertinus_sans:n \__whu_fn_symbol_libertinus:n%tag pifont texdoc psnfss2e\cs_new:Npn \__whu_fn_symbol_pifont:n #1  { \ding { \int_eval:n { 171 + #1 } } }\cs_new:Npn \__whu_fn_symbol_pifont_neg:n #1  { \ding { \int_eval:n { 181 + #1 } } }\cs_new:Npn \__whu_fn_symbol_pifont_sans:n #1  { \ding { \int_eval:n { 191 + #1 } } }\cs_new:Npn \__whu_fn_symbol_pifont_sans_neg:n #1  { \ding { \int_eval:n { 201 + #1 } } }%tag xits\cs_new:Npn \__whu_fn_symbol_xits:n #1  {    \int_compare:nTF { #1 >= 10 }      {        \int_compare:nTF { #1 >= 36 }          { \__whu_symbol:n { \int_eval:n { &#x22;24B6 - 36 + #1 } } }          { \__whu_symbol:n { \int_eval:n { &#x22;24D0 - 10 + #1 } } }      }      { \__whu_symbol:n { \int_eval:n { &#x22;2460 - 1 + #1 } } }  }\cs_new:Npn \__whu_fn_symbol_xits_sans:n #1  { \__whu_symbol:n { \int_eval:n { &#x22;2780 - 1 + #1 } } }\cs_new:Npn \__whu_fn_symbol_xits_sans_neg:n #1  { \__whu_symbol:n { \int_eval:n { &#x22;278A - 1 + #1 } } }%tag 定义脚注计数器格式\cs_set:Npn \thefootnote { \whu_footnote_number:N \c@footnote }\cs_new:Npn \whu_footnote_number:N #1  {    \tl_case:NnF \l__whu_fn_style_tl      {        \c__whu_fn_style_plain_tl          { \int_use:N #1 }        \c__whu_fn_style_libertinus_tl          {            \fontspec { LibertinusSerif-Regular .otf }            \__whu_fn_symbol_libertinus:n {#1}          }        \c__whu_fn_style_libertinus_neg_tl          {            \fontspec { LibertinusSerif-Regular .otf }            \__whu_fn_symbol_libertinus_neg:n {#1}          }        \c__whu_fn_style_libertinus_sans_tl          {            \fontspec { LibertinusSans-Regular .otf }            \__whu_fn_symbol_libertinus_sans:n {#1}          }        \c__whu_fn_style_pifont_tl          { \__whu_fn_symbol_pifont:n {#1} }        \c__whu_fn_style_pifont_neg_tl          { \__whu_fn_symbol_pifont_neg:n {#1} }        \c__whu_fn_style_pifont_sans_tl          { \__whu_fn_symbol_pifont_sans:n {#1} }        \c__whu_fn_style_pifont_sans_neg_tl          { \__whu_fn_symbol_pifont_sans_neg:n {#1} }        \c__whu_fn_style_xits_tl          {            \fontspec { XITS-Regular .otf }            \__whu_fn_symbol_xits:n {#1}          }        \c__whu_fn_style_xits_sans_tl          {            \fontspec { XITS-Regular .otf }            \__whu_fn_symbol_xits_sans:n {#1}          }        \c__whu_fn_style_xits_sans_neg_tl          {            \fontspec { XITS-Regular .otf }            \__whu_fn_symbol_xits_sans_neg:n {#1}          }      }      { \int_use:N #1 }  }\cs_set:Npn \@makefntext #1  {    \mode_leave_vertical:    \hbox_to_wd:nn { 1 em } { \@thefnmark \hfil }    \zihao{5}    #1  }%tag 修改脚注的横线长度\cs_set:Npn \footnoterule  {\kern-3\p@ \hrule \@width 2in \@height 1pt \kern 2.6\p@ }"><div></div></button></div></figure></div>
<p><code>\cs_set:Npn \thefootnote {\whu_footnote_number:N}</code>重新定义了脚注的编号格式。默认情况下，LaTeX 中脚注的编号是阿拉伯数字，但这里通过 <code>\cs_set:Npn</code> 命令将其重新定义为调用 <code>\whu_footnote_number:N</code> 函数，并传递当前脚注计数器的值。</p>
<p>在<code>\whu_fontnote_number</code> 中会对 <code>\l__whu_fn_style_tl</code> 的值进行判断，并依据其 token list 的值生成对应的数字</p>
<hr>
<p><code>\cs_set:Npn \@makefntext</code> 设置了脚注文本的格式的命令 <code>\@makefntext</code>。其保证了:</p>
<ul>
<li><code>\mode_leave_vertical:</code>: 垂直模式处于结束状态</li>
<li><code>\hbox_to_wd:nn {1 em} {\@thefnmark \hfil}</code>: 创建了水平 <code>1em</code> 的盒子用于容纳脚注标记</li>
<li><code>\zihao{5}</code> 字号</li>
<li><code>#1</code> 脚注内容</li>
</ul>
<hr>
<p><code>\cs_set:Npn \footnoterule</code>重新定义了 LaTeX 中用于绘制脚注分隔线的命令</p>
<ol>
<li><code>\kern-3\p@</code>：这个命令在竖直方向上向上移动 3pt 的距离。<code>3\p@</code> 表示 3pt，负号表示向上移动。</li>
<li><code>\hrule</code>：这个命令用于绘制一条水平线。</li>
<li><code>@width 2in</code>：这个命令指定水平线的宽度为 2in（英寸）。</li>
<li><code>@height 1pt</code>：这个命令指定水平线的高度为 1pt（点）。</li>
<li><code>\kern 2.6\p@</code>：这个命令在竖直方向上向下移动 2.6pt 的距离。<code>2.6\p@</code> 表示 2.6pt，正号表示向下移动。</li>
</ol>
<p>这段代码的效果是绘制一个宽度为 2in、高度为 1pt 的水平线，该线的顶部边缘与脚注文本底部略微重叠，与页面底部有一定的间距。</p>
<h2 id="符号表">符号表</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentEnvironment</span><span style="--0:#E1E4E8;--1:#24292E"> { notation } { O{符号表} O{lp{7.5cm}} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_notation_begin:n</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\tabular</span><span style="--0:#E1E4E8;--1:#24292E">{ #2 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\endtabular</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\newpage</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_notation_begin:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { ctex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter / format   += </span><span style="--0:#79B8FF;--1:#005CC5">\centering</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter / numbering = false,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">chapter / pagestyle = </span><span style="--0:#79B8FF;--1:#005CC5">\tl_use:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_tl -frontmatter</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\chapter</span><span style="--0:#E1E4E8;--1:#24292E"> { #1 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\NewDocumentEnvironment { notation } { O{符号表} O{lp{7.5cm}} }  {    \newpage    \__whu_notation_begin:n {#1}    \group_begin:      \centering      \tabular{ #2 }  }  {      \endtabular      \newpage    \group_end:  }\cs_new_protected:Npn \__whu_notation_begin:n #1  {    \group_begin:      \keys_set:nn { ctex }        {          chapter / format   += \centering,          chapter / numbering = false,          chapter / pagestyle = \tl_use:N \g__whu_thesis_type_tl -frontmatter        }      \chapter { #1 }    \group_end:  }"><div></div></button></div></figure></div>
<p>此处创建了一个 <code>notation</code> 环境，这种操作和上面的致谢环境很类似。</p>
<p>在 notation 环境中，会先创建一个居中不带标号且有frontmatter样式页眉的章节，内容为第一个参数（默认是“符号表”），然后创建一个居中的表格，其内容为第二个参数。</p>
<p>这也意味着在这个环境中，需要用 tabular 环境中的语言来进行书写</p>
<p>比如说官方示例给出的用法：</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\begin</span><span style="--0:#E1E4E8;--1:#24292E">{notation}</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#79B8FF;--1:#005CC5">\omega_n</span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#E1E4E8;--1:#24292E"> &#x26; </span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#79B8FF;--1:#005CC5">n</span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#E1E4E8;--1:#24292E">-维欧氏空间中单位球的表面积 </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#79B8FF;--1:#005CC5">\alpha_n</span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#E1E4E8;--1:#24292E"> &#x26; </span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#79B8FF;--1:#005CC5">n</span><span style="--0:#9ECBFF;--1:#032F62">$</span><span style="--0:#E1E4E8;--1:#24292E">-维欧氏空间中单位球的体积 </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\end</span><span style="--0:#E1E4E8;--1:#24292E">{notation}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\begin{notation}  $\omega_n$ &#x26; $n$-维欧氏空间中单位球的表面积 \\  $\alpha_n$ &#x26; $n$-维欧氏空间中单位球的体积 \\\end{notation}"><div></div></button></div></figure></div>
<h2 id="图表">图表</h2>
<h3 id="图">图</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\DeclareCaptionFont</span><span style="--0:#E1E4E8;--1:#24292E"> { whufigurecaptionfont }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\bfseries</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E"> { 5 } }</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\DeclareCaptionFont</span><span style="--0:#E1E4E8;--1:#24292E"> { whutablecaptionfont }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\bfseries</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E"> { 5 } }</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\captionsetup</span><span style="--0:#E1E4E8;--1:#24292E"> [ figure ]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">font     = whufigurecaptionfont,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">position = bottom,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">labelsep = space</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\captionsetup</span><span style="--0:#E1E4E8;--1:#24292E"> [ table  ]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">font     = whutablecaptionfont,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">position = top,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">labelsep = space</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\AddToHook</span><span style="--0:#E1E4E8;--1:#24292E"> { env / tabular / begin }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\zihao</span><span style="--0:#E1E4E8;--1:#24292E">{5} }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\DeclareCaptionFont { whufigurecaptionfont }  { \bfseries \zihao { 5 } }\DeclareCaptionFont { whutablecaptionfont }  { \bfseries \zihao { 5 } }\captionsetup [ figure ]  {    font     = whufigurecaptionfont,    position = bottom,    labelsep = space  }\captionsetup [ table  ]  {    font     = whutablecaptionfont,    position = top,    labelsep = space  }\AddToHook { env / tabular / begin }  { \zihao{5} }"><div></div></button></div></figure></div>
<p>改个字体先</p>
<p><code>\DeclareCaptionFont</code> 是 LaTeX 中用于声明和设置图表标题字体的命令。它允许用户自定义图表标题的字体样式，比如字体族、字体大小、字体颜色等。</p>
<p>通常，<code>\DeclareCaptionFont</code> 命令被用于在 LaTeX 文档中使用 <code>caption</code> 宏包时设置图表标题的字体。该命令允许用户指定多种不同的字体样式，并且可以为不同的图表类型设置不同的字体样式。</p>
<p>这里通过这种方式设置了 figure,table和 tabular 的字体样式</p>
<h3 id="定理环境">定理环境</h3>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 去掉 . 号，但只能通过新定义 style 的方式进行</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\declaretheoremstyle</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">headpunct     = {},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">postheadspace = { 0.5em },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">headindent    = 2</span><span style="--0:#79B8FF;--1:#005CC5">\ccwd</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ whustyle }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_declare_theorem_with_counter_within:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\declaretheorem</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">style   = whustyle,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">name    = </span><span style="--0:#79B8FF;--1:#005CC5">\clist_item:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} {1} ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">refname = </span><span style="--0:#79B8FF;--1:#005CC5">\clist_item:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} {2} ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">within  = </span><span style="--0:#79B8FF;--1:#005CC5">\clist_item:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} {3} ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\clist_item:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} {4} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_declare_theorem_with_counter_sibling:n</span><span style="--0:#E1E4E8;--1:#24292E"> #1</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\declaretheorem</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">style   = whustyle ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">name    = </span><span style="--0:#79B8FF;--1:#005CC5">\clist_item:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} {1} ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">refname = </span><span style="--0:#79B8FF;--1:#005CC5">\clist_item:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} {2} ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">sibling = </span><span style="--0:#79B8FF;--1:#005CC5">\clist_item:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} {3} ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\clist_item:nn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} {4} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\clist_map_function:nN</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 定理, 定理, section, theorem },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 例, 例, section, example },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 问题, 问题, section, question },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 定义, 定义, section, definition },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 性质, 性质, section, property },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 命题, 命题, section, proposition },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 推论, 推论, section, corollary },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 引理, 引理, section, lemma },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 公理, 公理, section, axiom },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 反例, 反例, section, counterexample },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 猜想, 猜想, section, conjecture },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 断言, 断言, section, claim },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">{ 注, 注, section, remark }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_declare_theorem_with_counter_within:n</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\whunewtheorem</span><span style="--0:#E1E4E8;--1:#24292E"> } { s O{} m m }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\IfBooleanTF</span><span style="--0:#E1E4E8;--1:#24292E"> {#1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#99A0A6;--1:#616972">% 有*</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\declaretheorem</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">style = whustyle,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">name =  #4 ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">refname = #4 ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">numbered = no,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ #3 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#99A0A6;--1:#616972">% 无*</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\declaretheorem</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">style = whustyle,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">name =  #4 ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">refname = #4 ,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">            </span></span><span style="--0:#E1E4E8;--1:#24292E">#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">]</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ #3 }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 重定义 proof 环境的样式</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\RenewDocumentEnvironment</span><span style="--0:#E1E4E8;--1:#24292E"> { proof } { O{</span><span style="--0:#79B8FF;--1:#005CC5">\proofname</span><span style="--0:#E1E4E8;--1:#24292E">} +b }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\par</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\pushQED</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\qed</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\normalfont</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\topsep</span><span style="--0:#E1E4E8;--1:#24292E">6 </span><span style="--0:#79B8FF;--1:#005CC5">\p@</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\@plus</span><span style="--0:#E1E4E8;--1:#24292E">6 </span><span style="--0:#79B8FF;--1:#005CC5">\p@</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\relax</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\trivlist</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\item</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\relax</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_begin:</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E">*{2</span><span style="--0:#79B8FF;--1:#005CC5">\ccwd</span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">      </span><span style="--0:#79B8FF;--1:#005CC5">\bfseries</span><span style="--0:#E1E4E8;--1:#24292E"> #1 </span><span style="--0:#79B8FF;--1:#005CC5">\@addpunct</span><span style="--0:#E1E4E8;--1:#24292E">{:}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\group_end:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\hspace</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\labelsep</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\ignorespaces</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\popQED</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\endtrivlist</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\@endpefalse</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">} +</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="% 去掉 . 号，但只能通过新定义 style 的方式进行\declaretheoremstyle  [    headpunct     = {},    postheadspace = { 0.5em },    headindent    = 2\ccwd  ]  { whustyle }\cs_new:Npn \__whu_declare_theorem_with_counter_within:n #1  {    \declaretheorem      [        style   = whustyle,        name    = \clist_item:nn {#1} {1} ,        refname = \clist_item:nn {#1} {2} ,        within  = \clist_item:nn {#1} {3} ,      ]      { \clist_item:nn {#1} {4} }  }\cs_new:Npn \__whu_declare_theorem_with_counter_sibling:n #1  {    \declaretheorem      [        style   = whustyle ,        name    = \clist_item:nn {#1} {1} ,        refname = \clist_item:nn {#1} {2} ,        sibling = \clist_item:nn {#1} {3} ,      ]      { \clist_item:nn {#1} {4} }  }\clist_map_function:nN  {    { 定理, 定理, section, theorem },    { 例, 例, section, example },    { 问题, 问题, section, question },    { 定义, 定义, section, definition },    { 性质, 性质, section, property },    { 命题, 命题, section, proposition },    { 推论, 推论, section, corollary },    { 引理, 引理, section, lemma },    { 公理, 公理, section, axiom },    { 反例, 反例, section, counterexample },    { 猜想, 猜想, section, conjecture },    { 断言, 断言, section, claim },    { 注, 注, section, remark }  }  \__whu_declare_theorem_with_counter_within:n\NewDocumentCommand { \whunewtheorem } { s O{} m m }  {    \IfBooleanTF {#1}      {        % 有*        \declaretheorem          [            style = whustyle,            name =  #4 ,            refname = #4 ,            numbered = no,            #2          ]          { #3 }      }      {        % 无*        \declaretheorem          [            style = whustyle,            name =  #4 ,            refname = #4 ,            #2          ]          { #3 }      }  }% 重定义 proof 环境的样式\RenewDocumentEnvironment { proof } { O{\proofname} +b }  {    \par    \pushQED { \qed }    \normalfont \topsep6 \p@ \@plus6 \p@ \relax    \trivlist    \item \relax    \group_begin:      \hspace*{2\ccwd}      \bfseries #1 \@addpunct{:}    \group_end:    \hspace \labelsep \ignorespaces    #2  }  {    \popQED \endtrivlist \@endpefalse  } +"><div></div></button></div></figure></div>
<p><code>\declaretheoremstyle</code> 是用于声明定理环境样式的命令。在这个例子中，一个名为 <code>whustyle</code> 的定理样式被声明。</p>
<ul>
<li><code>headpunct = {}</code> 表示定理标题和定理内容之间的标点为空。</li>
<li><code>postheadspace = {0.5em}</code> 表示在定理标题和定理内容之间添加 0.5em 的额外空间。</li>
<li><code>headindent = 2\ccwd</code> 表示定理标题的缩进量为 2 个“当前字宽”的长度。</li>
</ul>
<p>接下来通过 <code>\clist_map_function:nN</code> 依次将不同环境的标题参数传入 <code>\__whu_declare_theorem_with_counter_within</code> 来创建对应的定理环境。</p>
<p><del>不过我没看到 <code>\__whu_declare_theorem_with_counter_sibling</code>在哪里用到了</del></p>
<p><code>\RenewDocumentEnvironment { proof } { O{\proofname} +b }</code>: 这一行声明了一个名为 <code>proof</code> 的环境，并接受两个参数。第一个参数是可选的，用于指定证明环境的名称，默认值为 <code>\proofname</code>（通常是“证明”）。第二个参数是必选的，用于指定证明环境的内容。</p>
<ol>
<li>在环境的开头部分，进行了一些设置：
<ul>
<li><code>\par</code>：开始新的段落。</li>
<li><code>\pushQED{\qed}</code>：将证明环境的结束标志（通常是一个小方块，表示证明结束）推入证明结束的队列中，以便在证明结束时自动添加。</li>
<li><code>\normalfont</code>：设置字体为正常字体。</li>
<li><code>\topsep6\p@\@plus6\p@\relax</code>：设置顶部间距为 6pt，允许额外的 6pt 弹性间距。</li>
<li><code>\trivlist</code>：开始一个列表环境。</li>
<li><code>\item\relax</code>：开始一个新的项，并使用 <code>\relax</code> 避免出现意外的空白。</li>
<li><code>\group_begin:</code>：开始一个分组，用于限制样式设置的作用范围。</li>
<li><code>\hspace*{2\ccwd}</code>：插入一个长度为 2 个当前字符宽度的水平空白，用于缩进证明环境的标题。</li>
<li><code>\bfseries #1\@addpunct{：}</code>：设置证明环境的标题为加粗字体，标题内容为参数 1（即<code>\proofname</code> 或者自定义的标题），并加上一个冒号。</li>
<li><code>\group_end:</code>：结束分组。</li>
<li><code>\hspace\labelsep</code>：插入一个标签和文本之间的空白距离。</li>
<li><code>\ignorespaces</code>：忽略环境开始时可能存在的空格。</li>
</ul>
</li>
<li>在环境的结束部分，进行了一些清理工作：
<ul>
<li><code>\popQED</code>：弹出证明结束的标志，以便在证明环境结束时不再添加。</li>
<li><code>\endtrivlist</code>：结束列表环境。</li>
<li><code>\@endpefalse</code>：确保不在环境结束时在段落后插入额外的垂直空白。</li>
</ul>
</li>
</ol>
<p>效果：</p>
<p><img alt="image-20240509030346271" width="773" height="897" loading="lazy" decoding="async" src="/_astro/image-20240509030346271.xPXD2LhW_Z2oBCht.webp" ></p>
<p><img alt="image-20240509031435079" width="753" height="498" loading="lazy" decoding="async" src="/_astro/image-20240509031435079.DtL9tkX6_ZKbCXS.webp" ></p>
<h2 id="钩子管理">钩子管理</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 封装 LaTeX 的钩子管理机制。本模板中的字体加载命令位于</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% begindocument/before 钩子中，需确保在 xeCJK 之前执行。</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_gadd_ltxhook:nn</span><span style="--0:#E1E4E8;--1:#24292E"> #1#2</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\hook_gput_code:nnn</span><span style="--0:#E1E4E8;--1:#24292E"> {#1} { . } {#2} }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\hook_gset_rule:nnnn</span><span style="--0:#E1E4E8;--1:#24292E"> { begindocument/before } { . } { &#x3C; } { xeCJK }</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="% 封装 LaTeX 的钩子管理机制。本模板中的字体加载命令位于% begindocument/before 钩子中，需确保在 xeCJK 之前执行。\cs_new_protected:Npn \__whu_gadd_ltxhook:nn #1#2  { \hook_gput_code:nnn {#1} { . } {#2} }\hook_gset_rule:nnnn { begindocument/before } { . } { < } { xeCJK }"><div></div></button></div></figure></div>
<p>和 <a href="#?">上面的</a> 一样，看不懂 :(</p>
<h2 id="参考文献">参考文献</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 定义变量</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\tl_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_backend_tl        </span><span style="--0:#99A0A6;--1:#616972">% 参考文献后端</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\tl_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_style_tl          </span><span style="--0:#99A0A6;--1:#616972">% 参考文献格式，接受其它值</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\tl_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_gb_style_tl       </span><span style="--0:#99A0A6;--1:#616972">% 参考文献格式（国标），接受 numerical 和 author-year 两个值</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\tl_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cite_style_tl         </span><span style="--0:#99A0A6;--1:#616972">% 参考文献引用格式</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\clist_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_resource_clist </span><span style="--0:#99A0A6;--1:#616972">% 参考文献 database</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 定义键</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_define:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / style }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bib-backend </span><span style="--0:#79B8FF;--1:#005CC5">.choice:</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bib-backend </span><span style="--0:#79B8FF;--1:#005CC5">.value_required:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bib-backend / bibtex   </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\tl_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_backend_tl { bibtex } },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bib-backend / biblatex </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_backend_tl { biblatex }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\addbibresource</span><span style="--0:#E1E4E8;--1:#24292E"> { m }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\clist_gput_right:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_resource_clist {#1} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bib-style </span><span style="--0:#79B8FF;--1:#005CC5">.choice:</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bib-style </span><span style="--0:#79B8FF;--1:#005CC5">.value_required:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bib-style / numerical   </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E">  </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_gb_style_tl { numerical  }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_clear:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_style_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bib-style / author-year </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_set:Nn</span><span style="--0:#E1E4E8;--1:#24292E">  </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_gb_style_tl { author-year }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_clear:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_style_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bib-style / unknown     </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_style_tl </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">_keys_value_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_clear:N</span><span style="--0:#E1E4E8;--1:#24292E">   </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_gb_style_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">cite-style </span><span style="--0:#79B8FF;--1:#005CC5">.tl_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cite_style_tl,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">bib-resource </span><span style="--0:#79B8FF;--1:#005CC5">.clist_set:N</span><span style="--0:#E1E4E8;--1:#24292E"> = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_resource_clist</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag 设置参考文献格式默认值</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 本科默认使用顺序编码制，硕博默认使用著者-出版年制</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\tl_if_eq:NnTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_tl { bachelor }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / style } { bib-style = numerical }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\keys_set:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / style } { bib-style = author-year }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%region 加载宏包</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag bibtex 此时分两种情况：</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% Case 1. bib-style = numerical or author-year，则调用 gbt7714 宏包，此宏包内部调用 natbib 宏包</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% Case 2. otherwise，直接调用 natbib</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\ctex_at_end_preamble:n</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_if_eq:NnT</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_backend_tl { bibtex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_if_empty:NTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_style_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> [ sort &#x26; compress ] { gbt7714 }</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\tl_if_eq:NnTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_tl { bachelor }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#79B8FF;--1:#005CC5">\exp_args:No</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\bibliographystyle</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ gbt7714- </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_gb_style_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#79B8FF;--1:#005CC5">\exp_args:No</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\bibliographystyle</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ gbt7714-2005- </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_gb_style_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> [ sort &#x26; compress ] { natbib }</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\exp_args:No</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\bibliographystyle</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_style_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bibtex_setup:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag biblatex 调用 biblatex 宏包</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% biblatex 会写入 begindocument/before 钩子，因此需在其之前通过</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% env/document/begin 钩子载入 biblatex 宏包。注意这个</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 钩子仅适用于 \begin{document} 的写法，对于 \document 命令本身无效。</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\__whu_gadd_ltxhook:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { env/document/begin }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_if_eq:NnT</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_backend_tl { biblatex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_biblatex_pre_setup:</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\RequirePackage</span><span style="--0:#E1E4E8;--1:#24292E"> { biblatex }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_biblatex_post_setup:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="%tag 定义变量\tl_new:N \l__whu_bib_backend_tl        % 参考文献后端\tl_new:N \l__whu_bib_style_tl          % 参考文献格式，接受其它值\tl_new:N \l__whu_bib_gb_style_tl       % 参考文献格式（国标），接受 numerical 和 author-year 两个值\tl_new:N \l__whu_cite_style_tl         % 参考文献引用格式\clist_new:N \l__whu_bib_resource_clist % 参考文献 database%tag 定义键\keys_define:nn { whu / style }  {    bib-backend .choice:,    bib-backend .value_required:n = true,    bib-backend / bibtex   .code:n =      { \tl_set:Nn \l__whu_bib_backend_tl { bibtex } },    bib-backend / biblatex .code:n =      {        \tl_set:Nn \l__whu_bib_backend_tl { biblatex }        \NewDocumentCommand \addbibresource { m }          { \clist_gput_right:Nn \l__whu_bib_resource_clist {#1} }      },    bib-style .choice:,    bib-style .value_required:n = true,    bib-style / numerical   .code:n =      {        \tl_set:Nn  \l__whu_bib_gb_style_tl { numerical  }        \tl_clear:N \l__whu_bib_style_tl      },    bib-style / author-year .code:n =      {        \tl_set:Nn  \l__whu_bib_gb_style_tl { author-year }        \tl_clear:N \l__whu_bib_style_tl      },    bib-style / unknown     .code:n =      {        \tl_set_eq:NN \l__whu_bib_style_tl \l_keys_value_tl        \tl_clear:N   \l__whu_bib_gb_style_tl      },    cite-style .tl_set:N = \l__whu_cite_style_tl,    bib-resource .clist_set:N = \l__whu_bib_resource_clist  }%tag 设置参考文献格式默认值% 本科默认使用顺序编码制，硕博默认使用著者-出版年制\tl_if_eq:NnTF \g__whu_thesis_type_tl { bachelor }  {    \keys_set:nn { whu / style } { bib-style = numerical }  }  {    \keys_set:nn { whu / style } { bib-style = author-year }  }%region 加载宏包%tag bibtex 此时分两种情况：% Case 1. bib-style = numerical or author-year，则调用 gbt7714 宏包，此宏包内部调用 natbib 宏包% Case 2. otherwise，直接调用 natbib\ctex_at_end_preamble:n  {    \tl_if_eq:NnT \l__whu_bib_backend_tl { bibtex }      {        \tl_if_empty:NTF \l__whu_bib_style_tl          {            \RequirePackage [ sort &#x26; compress ] { gbt7714 }            \tl_if_eq:NnTF \g__whu_thesis_type_tl { bachelor }              {                \exp_args:No \bibliographystyle                  { gbt7714- \l__whu_bib_gb_style_tl }              }              {                \exp_args:No \bibliographystyle                  { gbt7714-2005- \l__whu_bib_gb_style_tl }              }          }          {            \RequirePackage [ sort &#x26; compress ] { natbib }            \exp_args:No \bibliographystyle              { \l__whu_bib_style_tl }          }        \__whu_bibtex_setup:      }  }%tag biblatex 调用 biblatex 宏包% biblatex 会写入 begindocument/before 钩子，因此需在其之前通过% env/document/begin 钩子载入 biblatex 宏包。注意这个% 钩子仅适用于 \begin{document} 的写法，对于 \document 命令本身无效。\__whu_gadd_ltxhook:nn { env/document/begin }  {    \tl_if_eq:NnT \l__whu_bib_backend_tl { biblatex }      {        \__whu_biblatex_pre_setup:        \RequirePackage { biblatex }        \__whu_biblatex_post_setup:      }  }"><div></div></button></div></figure></div>
<h2 id="bibtex">bibtex</h2>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tex"><code><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_bibtex_setup:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_if_eq:NnTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_gb_style_tl { numerical }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\exp_args:NNx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\DeclareRobustCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\parencite</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\exp_args:No</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\exp_not:o</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\cs:w</span><span style="--0:#E1E4E8;--1:#24292E"> cite ~ </span><span style="--0:#79B8FF;--1:#005CC5">\cs_end:</span><span style="--0:#E1E4E8;--1:#24292E"> } }</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\exp_args:Nc</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\ctex_patch_cmd:Nnn</span><span style="--0:#E1E4E8;--1:#24292E"> { parencite ~ }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\begingroup</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\begingroup</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\bibstyle@numbers</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\cs_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\parencite</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\cite</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 设置引用格式</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_if_empty:NF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cite_style_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\exp_args:NV</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\citestyle</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cite_style_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 使用 \textendash 作为数字间的连接号</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\ctex_patch_cmd:Nnn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\NAT@citexnum</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ - </span><span style="--0:#79B8FF;--1:#005CC5">\NAT@penalty</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\textendash</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\NAT@penalty</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\cs_set:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\bibsection</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_chapter:V</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\bibname</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#99A0A6;--1:#616972">% 让 bibtex 的接口与 biblatex 保持一致</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\NewDocumentCommand</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\printbibliography</span><span style="--0:#E1E4E8;--1:#24292E"> { o }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\exp_args:NV</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\bibliography</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_resource_clist</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\IfValueT</span><span style="--0:#E1E4E8;--1:#24292E"> {##1}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_warning:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { invalid-option-in-bibtex } {##1} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\__whu_msg_new:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { invalid-option-in-bibtex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ Option(s)~ "#1"~ are~ invalid~ in~ BibTeX. }</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag biblatex相关设置</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_biblatex_pre_setup:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\cs_undefine:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\addbibresource</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_new:N</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_biblatex_options_clist</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_put_right:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_biblatex_options_clist { hyperref = manual }</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_put_right:Nx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_biblatex_options_clist </span><span style="--0:#99A0A6;--1:#616972">% 参考文献样式</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">style =</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\tl_if_empty:NTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_style_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\tl_if_eq:NnTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__whu_thesis_type_tl { bachelor }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#79B8FF;--1:#005CC5">\str_if_eq:VnTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_gb_style_tl { numerical }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ gb7714-2015 } { gb7714-2015ay }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#79B8FF;--1:#005CC5">\str_if_eq:VnTF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_gb_style_tl { numerical }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">                  </span></span><span style="--0:#E1E4E8;--1:#24292E">{ gb7714-2005 } { gb7714-2005ay }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_style_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\tl_if_empty:NF</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cite_style_tl </span><span style="--0:#99A0A6;--1:#616972">% 引用样式</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\clist_put_right:Nx</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_biblatex_options_clist</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ citestyle = </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_cite_style_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\exp_args:NV</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\PassOptionsToPackage</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_biblatex_options_clist</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ biblatex }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new_protected:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_biblatex_post_setup:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_map_function:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\l</span><span style="--0:#E1E4E8;--1:#24292E">__whu_bib_resource_clist </span><span style="--0:#79B8FF;--1:#005CC5">\addbibresource</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_biblatex_allow_url_break:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_biblatex_use_en_dash:</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\defbibheading</span><span style="--0:#E1E4E8;--1:#24292E"> { bibliography } [ </span><span style="--0:#79B8FF;--1:#005CC5">\bibname</span><span style="--0:#E1E4E8;--1:#24292E"> ] { </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_chapter:n</span><span style="--0:#E1E4E8;--1:#24292E"> {##1} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% biblatex 下允许 URL 在字母、数字和一些特殊符号处断行</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_biblatex_allow_url_break:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\int_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c@biburlucpenalty</span><span style="--0:#E1E4E8;--1:#24292E">  </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_one_int</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\int_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c@biburlnumpenalty</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_one_int</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\int_set_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\c@biburllcpenalty</span><span style="--0:#E1E4E8;--1:#24292E">  </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">_one_int</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">% 使用 \textendash 作为数字间的连接符</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_biblatex_use_en_dash:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\DefineBibliographyExtras</span><span style="--0:#E1E4E8;--1:#24292E"> { english }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\cs_set_nopar:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\bibrangedash</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\textendash</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\penalty</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\hyphenpenalty</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\DefineBibliographyExtras</span><span style="--0:#E1E4E8;--1:#24292E"> { russian }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\cs_set_nopar:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\bibrangedash</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\textendash</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\penalty</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\hyphenpenalty</span><span style="--0:#E1E4E8;--1:#24292E"> }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%endregion 参考文献</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#99A0A6;--1:#616972">%tag full-width stop</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\keys_define:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { whu / style }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">fullwidth-stop </span><span style="--0:#79B8FF;--1:#005CC5">.choice:</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">fullwidth-stop </span><span style="--0:#79B8FF;--1:#005CC5">.value_required:n</span><span style="--0:#E1E4E8;--1:#24292E"> = true,</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">fullwidth-stop / catcode </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_fullwidth_stop_catcode:</span><span style="--0:#E1E4E8;--1:#24292E"> },</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">fullwidth-stop / mapping </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> =</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#79B8FF;--1:#005CC5">\sys_if_engine_xetex:TF</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\clist_gset:Nn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\g</span><span style="--0:#E1E4E8;--1:#24292E">__xeCJK_default_features_clist</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{ Mapping = fullwidth-stop }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">            </span><span style="--0:#79B8FF;--1:#005CC5">\sys_if_engine_luatex:T</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_warning:n</span><span style="--0:#E1E4E8;--1:#24292E"> { mapping-not-available }</span></div></div><div class="ec-line"><div class="code"><span class="indent">                </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_fullwidth_stop_catcode:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">              </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">          </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">},</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">fullwidth-stop / false </span><span style="--0:#79B8FF;--1:#005CC5">.code:n</span><span style="--0:#E1E4E8;--1:#24292E"> = { }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\__whu_msg_new:nn</span><span style="--0:#E1E4E8;--1:#24292E"> { mapping-not-available }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">Option~ "fullwidth-stop = mapping"~ is~ not~ available~ in~ LuaTeX. </span><span style="--0:#F97583;--1:#BF3441">\\</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">"fullwidth-stop = catcode"~ will~ be~ set~ instead.</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="code"><span style="--0:#79B8FF;--1:#005CC5">\cs_new:Npn</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">\__whu_set_fullwidth_stop_catcode:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\char_set_active_eq:NN</span><span style="--0:#E1E4E8;--1:#24292E"> ^^^^3002 </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_fwid_full_stop_tl</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\char_set_catcode_active:N</span><span style="--0:#E1E4E8;--1:#24292E"> ^^^^3002</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#79B8FF;--1:#005CC5">\clist_map_inline:nn</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_orig_decl_text_tl, </span><span style="--0:#79B8FF;--1:#005CC5">\c</span><span style="--0:#E1E4E8;--1:#24292E">__whu_auth_decl_text_tl }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">      </span></span><span style="--0:#E1E4E8;--1:#24292E">{ </span><span style="--0:#79B8FF;--1:#005CC5">\tl_set_rescan:Nno</span><span style="--0:#E1E4E8;--1:#24292E"> ##1 { } {##1} }</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="\cs_new_protected:Npn \__whu_bibtex_setup:  {    \tl_if_eq:NnTF \l__whu_bib_gb_style_tl { numerical }      {        \exp_args:NNx \DeclareRobustCommand \parencite          { \exp_args:No \exp_not:o { \cs:w cite ~ \cs_end: } }        \exp_args:Nc \ctex_patch_cmd:Nnn { parencite ~ }          { \begingroup }          { \begingroup \bibstyle@numbers }      }      { \cs_set_eq:NN \parencite \cite }    % 设置引用格式    \tl_if_empty:NF \l__whu_cite_style_tl      { \exp_args:NV \citestyle \l__whu_cite_style_tl }    % 使用 \textendash 作为数字间的连接号    \ctex_patch_cmd:Nnn \NAT@citexnum      { - \NAT@penalty }      { \textendash \NAT@penalty }    \cs_set:Npn \bibsection { \__whu_chapter:V \bibname }    % 让 bibtex 的接口与 biblatex 保持一致    \NewDocumentCommand \printbibliography { o }      {        \exp_args:NV \bibliography \l__whu_bib_resource_clist        \IfValueT {##1}          { \__whu_warning:nn { invalid-option-in-bibtex } {##1} }      }  }\__whu_msg_new:nn { invalid-option-in-bibtex }  { Option(s)~ &#x22;#1&#x22;~ are~ invalid~ in~ BibTeX. }%tag biblatex相关设置\cs_new_protected:Npn \__whu_biblatex_pre_setup:  {    \cs_undefine:N \addbibresource    \clist_new:N \l__whu_biblatex_options_clist    \clist_put_right:Nn \l__whu_biblatex_options_clist { hyperref = manual }    \clist_put_right:Nx \l__whu_biblatex_options_clist % 参考文献样式      {        style =        \tl_if_empty:NTF \l__whu_bib_style_tl          {            \tl_if_eq:NnTF \g__whu_thesis_type_tl { bachelor }              {                \str_if_eq:VnTF \l__whu_bib_gb_style_tl { numerical }                  { gb7714-2015 } { gb7714-2015ay }              }              {                \str_if_eq:VnTF \l__whu_bib_gb_style_tl { numerical }                  { gb7714-2005 } { gb7714-2005ay }              }          }          { \l__whu_bib_style_tl }      }    \tl_if_empty:NF \l__whu_cite_style_tl % 引用样式      {        \clist_put_right:Nx \l__whu_biblatex_options_clist          { citestyle = \l__whu_cite_style_tl }      }    \exp_args:NV \PassOptionsToPackage \l__whu_biblatex_options_clist      { biblatex }  }\cs_new_protected:Npn \__whu_biblatex_post_setup:  {    \clist_map_function:NN \l__whu_bib_resource_clist \addbibresource    \__whu_biblatex_allow_url_break:    \__whu_biblatex_use_en_dash:    \defbibheading { bibliography } [ \bibname ] { \__whu_chapter:n {##1} }  }% biblatex 下允许 URL 在字母、数字和一些特殊符号处断行\cs_new:Npn \__whu_biblatex_allow_url_break:  {    \int_set_eq:NN \c@biburlucpenalty  \c_one_int    \int_set_eq:NN \c@biburlnumpenalty \c_one_int    \int_set_eq:NN \c@biburllcpenalty  \c_one_int  }% 使用 \textendash 作为数字间的连接符\cs_new:Npn \__whu_biblatex_use_en_dash:  {    \DefineBibliographyExtras { english }      {        \cs_set_nopar:Npn \bibrangedash          { \textendash \penalty \hyphenpenalty }      }    \DefineBibliographyExtras { russian }      {        \cs_set_nopar:Npn \bibrangedash          { \textendash \penalty \hyphenpenalty }      }  }%endregion 参考文献%tag full-width stop\keys_define:nn { whu / style }  {    fullwidth-stop .choice:,    fullwidth-stop .value_required:n = true,    fullwidth-stop / catcode .code:n =      { \__whu_set_fullwidth_stop_catcode: },    fullwidth-stop / mapping .code:n =      {        \sys_if_engine_xetex:TF          {            \clist_gset:Nn \g__xeCJK_default_features_clist              { Mapping = fullwidth-stop }          }          {            \sys_if_engine_luatex:T              {                \__whu_warning:n { mapping-not-available }                \__whu_set_fullwidth_stop_catcode:              }          }      },    fullwidth-stop / false .code:n = { }  }\__whu_msg_new:nn { mapping-not-available }  {    Option~ &#x22;fullwidth-stop = mapping&#x22;~ is~ not~ available~ in~ LuaTeX. \\    &#x22;fullwidth-stop = catcode&#x22;~ will~ be~ set~ instead.  }\cs_new:Npn \__whu_set_fullwidth_stop_catcode:  {    \char_set_active_eq:NN ^^^^3002 \c__whu_fwid_full_stop_tl    \char_set_catcode_active:N ^^^^3002    \clist_map_inline:nn      { \c__whu_orig_decl_text_tl, \c__whu_auth_decl_text_tl }      { \tl_set_rescan:Nno ##1 { } {##1} }  }"><div></div></button></div></figure></div>
<section data-footnotes="" class="footnotes"><h2 class="sr-only" id="footnote-label">Footnotes</h2>
<ol>
<li id="user-content-fn-1">
<p><a href="https://github.com/whutug/whu-thesis">武汉大学毕业论文 LaTeX 模版 2024</a> <a href="#user-content-fnref-1" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-2">
<p><a href="https://zhuanlan.zhihu.com/p/138408387">LaTeX系列笔记(5)-行距</a> <a href="#user-content-fnref-2" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-3">
<p><a href="https://github.com/CTeX-org/forum/issues/47#issuecomment-511120397">中文版心设计的疑难与最佳实践</a> <a href="#user-content-fnref-3" data-footnote-backref="" aria-label="Back to reference 3" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-5">
<p><a href="https://tex.stackexchange.com/questions/497746/comparison-between-newpage-clearpage-and-pagebreak-etc">Comparison between \newpage, \clearpage and \pagebreak, etc.?</a> <a href="#user-content-fnref-5" data-footnote-backref="" aria-label="Back to reference 4" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-6">
<p><a href="http://mirrors.ibiblio.org/CTAN/macros/latex/contrib/etoolbox/etoolbox.pdf">etoolbox book</a> <a href="#user-content-fnref-6" data-footnote-backref="" aria-label="Back to reference 5" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section>  </article> <footer class="mt-5">  <div class="flex items-center gap-2"> <a title="上一篇: Codeforces Round 946 (Div. 3) (A-G)" href="/posts/cp/cf1974"> <span class="inline-block vertical-mid i-mdi-chevron-double-left w-4 h-4"></span> 上一篇: Codeforces Round 946 (Div. 3) (A-G) </a> <a title="下一篇: 新春快乐" href="/posts/others/2024-new-start"> 下一篇: 新春快乐 <span class="inline-block vertical-mid i-mdi-chevron-double-right w-4 h-4"></span> </a> </div> </footer>  <div py-16><giscus-widget id="comments" repo="mslxl/mslxl.github.io" repoId="MDEwOlJlcG9zaXRvcnkxMjcwMTEwMjI=" category="Show and tell" categoryId="DIC_kwDOB5IIzs4CfW4f" mapping="title" strict="0" reactionsEnabled="1" emitMetadata="1" inputPosition="top" theme="light" lang="zh-CN" loading="lazy"></giscus-widget> <script type="module" src="/_astro/Giscus.astro_astro_type_script_index_0_lang.BHVzw2Eb.js"></script></div>  <div class="p-10" data-astro-cid-e5lvscu2> <div data-astro-cid-e5lvscu2> <img class="m-auto" src="https://moe-counter.glitch.me/get/@mslxl" alt="moe-counter" data-astro-cid-e5lvscu2> <p class="text-sm text-gray-500 text-center" data-astro-cid-e5lvscu2>统计自 2024 年 9 月</p> </div> </div> </main> <footer class="transition-swup-footer py-7.5" lg="row-2-3 col-2-3" data-astro-cid-e5lvscu2> <p data-astro-cid-gcn2mc3v>
© 2025 <a target="_blank" href="https://blog.mslxl.com" rel="noopener noreferrer" data-astro-cid-gcn2mc3v>Mslxl</a> </p> <p data-astro-cid-gcn2mc3v>
Theme
<a target="_blank" href="https://github.com/Moeyua/astro-theme-typography" rel="noopener noreferrer" data-astro-cid-gcn2mc3v>Typography</a>
by <a target="_blank" href="https://moeyua.com" rel="noopener noreferrer" data-astro-cid-gcn2mc3v>Moeyua</a> </p> <p data-astro-cid-gcn2mc3v>
Proudly published with
<a target="_blank" href="https://astro.build" rel="noopener noreferrer" data-astro-cid-gcn2mc3v>Astro</a> </p>  </footer> </div> <script type="module">document.addEventListener("animationend",e,!1);function e(){document.documentElement.classList.remove("animation-prepared"),document.removeEventListener("animationend",e,!1)}</script>   </body></html> <script type="module">function u(e){const t=document.createElement("pre");return t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="5px",t.textContent=e,t}function a(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e.textContent||"");const t=getSelection();if(t==null)return Promise.reject(new Error);t.removeAllRanges();const n=document.createRange();return n.selectNodeContents(e),t.addRange(n),document.execCommand("copy"),t.removeAllRanges(),Promise.resolve()}function i(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e);const t=document.body;if(!t)return Promise.reject(new Error);const n=u(e);return t.appendChild(n),a(n),t.removeChild(n),Promise.resolve()}async function d(e){const t=e.getAttribute("for"),n=e.getAttribute("value");function o(){e.dispatchEvent(new CustomEvent("clipboard-copy",{bubbles:!0}))}if(e.getAttribute("aria-disabled")!=="true"){if(n)await i(n),o();else if(t){const r="getRootNode"in Element.prototype?e.getRootNode():e.ownerDocument;if(!(r instanceof Document||"ShadowRoot"in window&&r instanceof ShadowRoot))return;const c=r.getElementById(t);c&&(await p(c),o())}}}function p(e){return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement?i(e.value):e instanceof HTMLAnchorElement&&e.hasAttribute("href")?i(e.href):a(e)}function f(e){const t=e.currentTarget;t instanceof HTMLElement&&d(t)}function l(e){if(e.key===" "||e.key==="Enter"){const t=e.currentTarget;t instanceof HTMLElement&&(e.preventDefault(),d(t))}}function m(e){e.currentTarget.addEventListener("keydown",l)}function y(e){e.currentTarget.removeEventListener("keydown",l)}class h extends HTMLElement{static define(t="clipboard-copy",n=customElements){return n.define(t,this),this}constructor(){super(),this.addEventListener("click",f),this.addEventListener("focus",m),this.addEventListener("blur",y)}connectedCallback(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this.hasAttribute("role")||this.setAttribute("role","button")}get value(){return this.getAttribute("value")||""}set value(t){this.setAttribute("value",t)}}const s=typeof globalThis<"u"?globalThis:window;try{s.ClipboardCopyElement=h.define()}catch(e){if(!(s.DOMException&&e instanceof DOMException&&e.name==="NotSupportedError")&&!(e instanceof ReferenceError))throw e}document.addEventListener("clipboard-copy",e=>{const n=e.target.querySelector(".icon");n.classList.replace("i-mdi-content-copy","i-mdi-check"),setTimeout(()=>{n.classList.replace("i-mdi-check","i-mdi-content-copy")},1500)});const b=Array.from(document.querySelectorAll("pre")),g="<div class='i-mdi-content-copy icon text-white'></div>";for(const e of b){const t=document.createElement("div");t.className="code-container";const n=document.createElement("clipboard-copy"),o=e.querySelector("code");n.value=o?.textContent??"",n.className="clipboard-copy",n.innerHTML=g,e.appendChild(n),e.parentNode?.insertBefore(t,e),t.appendChild(e)}</script> 