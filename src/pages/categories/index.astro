---
import ListItem from '~/components/ListItem.astro'
import ListSection from '~/components/ListSection.astro'
import LayoutDefault from '~/layouts/LayoutDefault.astro'
import { getCategories, getPathFromCategory } from '~/utils/index'

const { translate: t } = Astro.locals

const categories = await getCategories()
---

<LayoutDefault>
  <ListSection title={t('Categories')}>
    {Array.from(categories).map(([key, value]) => <ListItem title={key} href={`/categories/${getPathFromCategory(key)}`} description={t('categories_count', value.length)} />)}
  </ListSection>
</LayoutDefault>
